function e(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function t(e,t,n){const s=$("div.alert-container"),a="div.alert-content";s.find("div.alert-content").empty(),s.removeClass(),s.addClass("alert-container"),"nice"===e?s.addClass("alert-check").find(a).text("Nice !"):"error"===e?s.addClass("alert-error").find(a).text("Hmm, something went wrong"):"serverDown"===e?s.addClass("alert-server").find(a).text("Maybe the server is down :("):"entryDuplicate"===e?s.addClass("alert-duplicate").find(a).text("This user already exists"):"dontExists"===e&&s.addClass("alert-dontExists").find(a).text("This user don't exists"),s.fadeIn(t,"linear",(function(){setTimeout((function(){s.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),n)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function n(e,t,n){return!!(e>=t&e<=n)}function s(e){let t=$(e).find("select"),n=$(e).find("input");t.val("default").removeClass("correcto"),n.val("").removeClass("correcto")}function a(t){event.preventDefault();$(t).find("input,select");let s=$(t).find("input:visible,select:visible").length,a=($(t).find('button[type="submit"]'),0);const i=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,o=/^\d+$/;return $(t).find("input,select").each((function(t,s){let d=$(s).val(),c=$(s).prop("checked"),r=$(s).val(),l=$(s).parent().find("div.custom-checkbox");if(0!==$(s).length){switch($(s).attr("type")){case"text":case"password":case"date":e($(s),""!==d?"valido":"error");break;case"identification":o.test($(s).prop("value"))&n(d.length,5,10)?e($(s),"valido"):e($(s),"error");break;case"emailCustom":i.test($(s).prop("value"))?e($(s),"valido"):e($(s),"error");break;case"checkbox":e(l,!1!==c?"valido":"error");break;case"select":e($(s),"default"!=r?"valido":"error")}a+=cumple}})),a===s}var i;$(document).ready((function(){navigator.userAgent.indexOf("Trident/")>-1&&(window.location.href="https://www.google.com.mx/chrome/?brand=CHBF&ds_kid=43700034632748694&utm_source=bing&utm_medium=cpc&utm_campaign=1005992%20%7C%20Chrome%20Win10%20%7C%20DR%20%7C%20ESS01%20%7C%20NA%20%7C%20NA%20%7C%20es%20%7C%20Desk%20%7C%20BING%20SEM%20%7C%20BKWS%20~%20Top%20KWDS%20-%20Exact&utm_term=descargar%20chrome&utm_content=Download%20Chrome%20-%20Exact&gclid=CO70m6TT-eUCFUTCDQodmiwDRQ&gclsrc=ds"),setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#editUser").click((function(){$("#modalEditUser").fadeIn().css({display:"flex"})})),$("#addRelative").click((function(){let e=$("#modalNewRelative");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$("#newStudent").click((function(){let e=$("#modalNewStudent");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$("#btn-editStudent").click((function(){let e=$(this).closest(".modal"),t=e.find("select,input");e.find(".btn-submitModal").fadeIn("500"),t.attr("disabled",!1)})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"services/process.php",type:"POST",async:!0,error:function(e){console.log("response",e),t("serverDown",1e3,3e3)}}),$("#logOut").click((function(){$.post("services/login.php?log=false",(function(e){"Cool"==JSON.parse(e).success?location.href="index.php":t("error",1e3,3e3)}))})),$("form#login").submit((function(e){e.preventDefault();let n=$(this),s=n.serialize();console.log(s),n.parent().find(".loading").show(),$.post("services/login.php?log=true",s,(function(e){n.parent().find(".loading").hide(),"Cool"==JSON.parse(e).success?(t("nice",1e3,3e3),location.href="home.php"):t("error",1e3,3e3)}))}));var o=$("#searchAll");function d(e){e.val();let n=e;clearTimeout(i),i=setTimeout((function(){let e="idForm=searchStudent&"+n.serialize();console.log(e),$.post("services/process.php",e,(function(e){var n=JSON.parse(e);"Error"==n.success?t("error",1e3,3e3):"Don't exists"==n.success?t("dontExists",1e3,3e3):c(n)}))}),1e3)}function c(e){let t=e.slice(-1)[0].rol,n=null;switch(t){case"Administrador":n='<span class="icon-eye"></span><span class="icon-coin-dollar"></span><span class="icon-plus"></span><span class="icon-bin"></span>';break;case"Coordinador":n='<span class="icon-eye"></span>'}e.pop(-1),$("#showStudents").empty(),$.each(e.slice(0),(function(e,t){$.each(t,(function(e,t){null==t&&(t=" ")})),$("#showStudents").append(`\n      <tr>\n        <td data-student="${r(t.id)}">${e+1}</td>\n        <td>${r(t.descripcion_tdoc)}</td>\n        <td data-ndoc="${r(t.ndoc)}">${r(t.ndoc)}</td>\n        <td>${r(t.nombre1)} ${r(t.nombre2)}</td>\n        <td>${r(t.apellido1)} ${r(t.apellido2)}</td>\n        <td class="table-options">${n}</td>\n      </tr>\n      `)})),l()}function r(e){return"NULL"===e?"":e}function l(){$("span.icon-bin").click((function(){let e=$("#modalDelete"),t=e.find("input"),n=$(this).closest("tr").find("td[data-student]").attr("data-student"),s=$(this).closest("tr").find("td[data-ndoc]").attr("data-ndoc");t.attr("data-student",n),t.attr("data-ndoc",s),e.fadeIn().css({display:"flex"})})),$("span.icon-eye").click((function(){let e=$("#modalEditShow"),n=`idForm=showStudentInfo&idStudent=${$(this).closest("tr").find("td[data-student]").attr("data-student")}`;console.log("lo que envio ",n),$.post("services/process.php",n,(function(n){console.log("response student",n);var s=JSON.parse(n);"Error"==s.success?t("error",1e3,3e3):"Don't exists"==s.success?t("dontExists",1e3,3e3):function(e,t){console.table(e[0]);let n=t.find("select,input"),s=t.find(".btn-submitModal");var a={tittle:$("#personName"),names:$("#editNombresEstu"),surnames:$("#editApellidosEstu"),numIdent:$("#editNumIdentEstu"),tdoc:$("#editTipoIdentEstu"),expeditionPlace:$("#editLugarExpe"),birthdate:$("#editFechaNaci"),birthplace:$("#editLugarNaci"),address:$("#editDireccionEstu"),email:$("#editEmailEstu"),tel1:$("#editTelResiEstu"),eps:$("#editEps"),rh:$("#editRh"),income:$("#editEstrato")};t.fadeIn().css({display:"flex"}),n.attr("disabled",!0),s.hide(),a.tittle.attr("data-student",e[0].id),a.tittle.text(`${r(e[0].nombre1)} ${r(e[0].nombre2)} ${r(e[0].apellido1)} ${r(e[0].apellido2)}`),a.names.val(`${r(e[0].nombre1)} ${r(e[0].nombre2)}`),a.surnames.val(`${r(e[0].apellido1)} ${r(e[0].apellido2)}`),a.numIdent.val(`${r(e[0].ndoc)}`),a.tdoc.val(`${r(e[0].tdoc_persona)}`),a.expeditionPlace.val(`${r(e[0].lugar_expedicion)}`),a.birthdate.val(`${r(e[0].fecha_nacimiento)}`),a.birthplace.val(`${r(e[0].lugar_nacimiento)}`),a.address.val(`${r(e[0].direccion)}`),a.email.val(`${r(e[0].email)}`),a.tel1.val(`${r(e[0].tel1)}`),a.eps.val(`${r(e[0].eps)}`),a.rh.val(`${r(e[0].rh)}`),a.income.val(`${r(e[0].estrato)}`)}(s,e)}))})),$("span.icon-plus").click((function(){let e=$("#modalMatricula"),t=e.find("input#numMatri"),n=$(this).closest("tr").find("td[data-student]").attr("data-student"),s=$(this).closest("tr").find("td[data-ndoc]").attr("data-ndoc");e.fadeIn().css({display:"flex"}),t.attr("data-student",n),t.attr("data-ndoc",s)}))}function u(e,n=!0){let i=$(e).attr("id");if(a(e)){var o=`idForm=${i}&${$(e).serialize()}`;console.log(o),$.ajax({data:o,beforeSend:function(){$(e).parent().find(".loading").show()},success:function(a){$(e).parent().find(".loading").fadeOut(1e3);var i=JSON.parse(a);"Cool"==i.success?(n&&$(e).closest(".modal").fadeOut(),s(e),t("nice",1e3,3e3)):"Error"==i.success?t("error",1e3,3e3):"Entry duplicate"==i.success&&t("entryDuplicate",1e3,3e3)}})}}o.keypress((function(){o.val().length>0&&d(o)})),$("span.icon-search").click((function(){o.val().length>0&&d(o)})),$("form.edit").submit((function(e){let n=this,i=$(n).closest(".modal"),c=$(n).attr("id"),r=$("#personName").attr("data-student");$(n).find("input"),$(n).find("select");$(n).serialize();if(a(n)){let e=`idForm=${c}&idStudent=${r}&${$(n).serialize()}`;console.log(e),$.ajax({data:e,beforeSend:function(){$(n).parent().find(".loading").show()},success:function(e){$(n).parent().find(".loading").fadeOut(1e3);var a=JSON.parse(e);"Cool"==a.success?(i.fadeOut(),s(n),d(o),t("nice",1e3,3e3)):"Error"==a.success&&t("error",1e3,3e3)}})}})),$("form#insertMatricula").submit((function(e){e.preventDefault();let n=this,i=$(this).closest(".modal"),o=$(this).attr("id"),d=$(this).find("input").attr("data-student");if(a(this)){let e=`idForm=${o}&idStudent=${d}&${$(n).serialize()}`;console.log(e),$.ajax({data:e,beforeSend:function(){$(n).parent().find(".loading").show()},success:function(e){$(n).parent().find(".loading").fadeOut(1e3);var a=JSON.parse(e);"Cool"==a.success?(i.fadeOut(),s(n),t("nice",1e3,3e3)):"Error"==a.success&&t("error",1e3,3e3)}})}})),$("form#editUsername").submit((function(e){u(this,!1)})),$("form#editPassword").submit((function(e){u(this,!1)})),$("form#insertStudent").submit((function(e){u(this)})),$("form#insertRelative").submit((function(e){u(this)})),$("form#deleteStudent").submit((function(n){n.preventDefault();let a=this,i=$(this).closest(".modal"),o=$(this).attr("id"),d=$(this).find("input"),c=d.attr("data-student"),r=d.attr("data-ndoc"),l=$("#showStudents").find(`td[data-student="${c}"]`).closest("tr");if(d.val()!==r)e($(d),"error");else{e($(d),"valido");let n=`idForm=${o}&idStudent=${c}&${$(a).serialize()}`;console.log(n),$.ajax({data:n,beforeSend:function(){$(a).parent().find(".loading").show()},success:function(e){$(a).parent().find(".loading").fadeOut(1e3);var n=JSON.parse(e);"Cool"==n.success?(console.log(l),l.remove(),i.fadeOut(),s(a),t("nice",1e3,3e3)):"Error"==n.success&&t("error",1e3,3e3)}})}})),$.getJSON("assets/json/citys.json",(function(e){var t=[];let n=$("select.citys");for(var s=0;s<e.length;s++)for(var a=0;a<e[s].ciudades.length;a++)t.push("<option value='"+e[s].ciudades[a]+"'>"+e[s].departamento+"-"+e[s].ciudades[a]+"</option>");for(s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/bloodTypes.json",(function(e){var t=[];let n=$("select.bloodTypes");$.each(e,(function(e){t.push("<option value='"+e+"'>"+e+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/eps.json",(function(e){var t=[];let n=$("select.epss");$.each(e,(function(e,n){t.push("<option value='"+n.name+"'>"+n.name+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/grades.json",(function(e){var t=[];let n=$("select.grades");$.each(e,(function(e,n){t.push("<option value='"+n.name+"'>"+n.name+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fZm9ybXMuanMiLCJfZG9tLmpzIl0sIm5hbWVzIjpbInBpbnRhclN0aWxvcyIsImVsZW0iLCJ0aXBvIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImN1bXBsZSIsInNob3dBbGVydCIsInRpbWVJbiIsInRpbWVPdXQiLCJkaXZBbGVydCIsIiQiLCJjb250ZW50QWxlcnQiLCJmaW5kIiwiZW1wdHkiLCJ0ZXh0IiwiZmFkZUluIiwic2V0VGltZW91dCIsImZhZGVPdXQiLCJhbmltYXRlIiwiYm90dG9tIiwiZHVyYXRpb24iLCJxdWV1ZSIsInZhbGlkYXRlTGVuZ3RoIiwidmFsb3IiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJlbXB0eUNsYXNzIiwiZm9ybSIsInNlbGVjdHMiLCJpbnB1dHMiLCJ2YWwiLCJ2YWxpZGF0ZUZvcm0iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY2FtcG9zT2JsaWdhIiwibGVuZ3RoIiwidG90YWwiLCJyZWdFeHBFbWFpbCIsInJlZ0V4cE51bWJlciIsImVhY2giLCJpIiwiZSIsInZhbG9ySW5wdXQiLCJ2YWxvckNoZWNrYm94IiwicHJvcCIsInZhbG9yU2VsZWN0IiwiY3VzdG9tRGl2Q2hlY2siLCJwYXJlbnQiLCJhdHRyIiwidGVzdCIsInBldGljaW9uIiwiZG9jdW1lbnQiLCJyZWFkeSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjc3MiLCJkaXNwbGF5IiwiV09XIiwiaW5pdCIsImNsaWNrIiwiY3VzdG9tQ2hlY2siLCJ0aGlzIiwibWVudSIsInNsaWRlRG93biIsInNsaWRlVXAiLCJhY291bnRDb250YWluZXIiLCJtb2RhbCIsImNsb3Nlc3QiLCJ6LWluZGV4IiwicmVzaXplIiwiaW5uZXJXaWR0aCIsIm92ZXJmbG93LXgiLCJhamF4U2V0dXAiLCJ1cmwiLCJ0eXBlIiwiYXN5bmMiLCJlcnJvciIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsInBvc3QiLCJKU09OIiwicGFyc2UiLCJzdWNjZXNzIiwic3VibWl0IiwiZm9ybXVsYXJpbyIsImRhdGEiLCJzZXJpYWxpemUiLCJzaG93IiwiaGlkZSIsImJ1dHRvblNlYXJjaCIsInNlYXJjaFN0dWRlbnQiLCJidXR0b24iLCJpbnB1dCIsImNsZWFyVGltZW91dCIsInN0dWRlbnRzIiwic2hvd1N0dWRlbnRzIiwicm9sIiwic2xpY2UiLCJyb2xlT3B0aW9ucyIsInBvcCIsImlkIiwic3R1ZGVudCIsImNhbXBvIiwidmFsdWUiLCJhcHBlbmQiLCJjaGFuZ2VOdWxsVmFsdWUiLCJkZXNjcmlwY2lvbl90ZG9jIiwibmRvYyIsIm5vbWJyZTEiLCJub21icmUyIiwiYXBlbGxpZG8xIiwiYXBlbGxpZG8yIiwib3B0aW9uc1N0dWRlbnRzIiwic3RyaW5nIiwibW9kYWxEZWxldGUiLCJpbnB1dE1vZGFsIiwiaWRTdHVkZW50IiwibnVtRG9jU3R1ZGVudCIsIm1vZGFsU2hvdyIsInN0dWRlbnRJbmZvIiwidGFibGUiLCJzYXZlQnV0dG9ucyIsInN0dWRlbnRJbnB1dHMiLCJ0aXR0bGUiLCJuYW1lcyIsInN1cm5hbWVzIiwibnVtSWRlbnQiLCJ0ZG9jIiwiZXhwZWRpdGlvblBsYWNlIiwiYmlydGhkYXRlIiwiYmlydGhwbGFjZSIsImFkZHJlc3MiLCJlbWFpbCIsInRlbDEiLCJlcHMiLCJyaCIsImluY29tZSIsInRkb2NfcGVyc29uYSIsImx1Z2FyX2V4cGVkaWNpb24iLCJmZWNoYV9uYWNpbWllbnRvIiwibHVnYXJfbmFjaW1pZW50byIsImRpcmVjY2lvbiIsImVzdHJhdG8iLCJzaG93U3R1ZGVudEluZm8iLCJtb2RhbE1hdHJpIiwiaW5zZXJ0UGVyc29uIiwiY2xvc2VNb2RhbCIsImlkRm9ybSIsImFqYXgiLCJiZWZvcmVTZW5kIiwianNvbkRhdGEiLCJrZXlwcmVzcyIsIm5kb2NTdHVkZW50IiwidHJTdHVkZW50IiwicmVtb3ZlIiwiZ2V0SlNPTiIsIm9wdGlvbnMiLCJzZWxlY3QiLCJ6IiwiY2l1ZGFkZXMiLCJwdXNoIiwiZGVwYXJ0YW1lbnRvIiwia2V5IiwibmFtZSJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBQUEsRUFBQUMsRUFBQUMsR0FFQSxVQUFBQSxHQUNBRCxFQUFBRSxTQUFBLFNBQ0FGLEVBQUFHLFlBQUEsWUFDQUMsT0FBQSxHQUVBLFdBQUFILElBQ0FELEVBQUFFLFNBQUEsWUFDQUYsRUFBQUcsWUFBQSxTQUNBQyxPQUFBLEdBTUEsU0FBQUMsRUFBQUQsRUFBQUUsRUFBQUMsR0FFQSxNQUFBQyxFQUFBQyxFQUFBLHVCQUNBQyxFQUFBLG9CQUVBRixFQUFBRyxLQUFBLHFCQUFBQyxRQUNBSixFQUFBTCxjQUNBSyxFQUFBTixTQUFBLG1CQUVBLFNBQUFFLEVBQ0FJLEVBQUFOLFNBQUEsZUFBQVMsS0FBQUQsR0FBQUcsS0FBQSxVQUVBLFVBQUFULEVBQ0FJLEVBQUFOLFNBQUEsZUFBQVMsS0FBQUQsR0FBQUcsS0FBQSw2QkFFQSxlQUFBVCxFQUNBSSxFQUFBTixTQUFBLGdCQUFBUyxLQUFBRCxHQUFBRyxLQUFBLCtCQUVBLG1CQUFBVCxFQUNBSSxFQUFBTixTQUFBLG1CQUFBUyxLQUFBRCxHQUFBRyxLQUFBLDRCQUVBLGVBQUFULEdBQ0FJLEVBQUFOLFNBQUEsb0JBQUFTLEtBQUFELEdBQUFHLEtBQUEsMEJBR0FMLEVBQUFNLE9BQUFSLEVBQUEsVUFBQSxXQUNBUyxZQUFBLFdBQ0FQLEVBQUFRLFVBQUFDLFFBQUEsQ0FDQUMsT0FBQSxNQUNBLENBQ0FDLFNBQUEsT0FDQUMsT0FBQSxNQUVBYixNQUNBVSxRQUFBLENBQ0FDLE9BQUEsUUFDQSxDQUNBQyxTQUFBLE9BQ0FDLE9BQUEsSUFNQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLFNBQUFGLEdBQUFDLEVBQUFELEdBQUFFLEdBUUEsU0FBQUMsRUFBQUMsR0FFQSxJQUFBQyxFQUFBbEIsRUFBQWlCLEdBQUFmLEtBQUEsVUFDQWlCLEVBQUFuQixFQUFBaUIsR0FBQWYsS0FBQSxTQUdBZ0IsRUFBQUUsSUFBQSxXQUFBMUIsWUFBQSxZQUNBeUIsRUFBQUMsSUFBQSxJQUFBMUIsWUFBQSxZQUlBLFNBQUEyQixFQUFBSixHQUVBSyxNQUFBQyxpQkFDQXZCLEVBQUFpQixHQUFBZixLQUFBLGdCQUFBLElBQ0FzQixFQUFBeEIsRUFBQWlCLEdBQUFmLEtBQUEsZ0NBQUF1QixPQUlBQyxHQUhBMUIsRUFBQWlCLEdBQUFmLEtBQUEseUJBR0EsR0FFQSxNQUFBeUIsRUFBQSwwSUFDQUMsRUFBQSxRQXVEQSxPQWpEQTVCLEVBQUFpQixHQUFBZixLQUFBLGdCQUFBMkIsTUFBQSxTQUFBQyxFQUFBQyxHQUdBLElBQUFDLEVBQUFoQyxFQUFBK0IsR0FBQVgsTUFDQWEsRUFBQWpDLEVBQUErQixHQUFBRyxLQUFBLFdBQ0FDLEVBQUFuQyxFQUFBK0IsR0FBQVgsTUFDQWdCLEVBQUFwQyxFQUFBK0IsR0FBQU0sU0FBQW5DLEtBQUEsdUJBR0EsR0FBQSxJQUFBRixFQUFBK0IsR0FBQU4sT0FBQSxDQUNBLE9BQUF6QixFQUFBK0IsR0FBQU8sS0FBQSxTQUVBLElBQUEsT0FJQSxJQUFBLFdBSUEsSUFBQSxPQUNBaEQsRUFBQVUsRUFBQStCLEdBQUEsS0FBQUMsRUFBQSxTQUFBLFNBQ0EsTUFFQSxJQUFBLGlCQUNBSixFQUFBVyxLQUFBdkMsRUFBQStCLEdBQUFHLEtBQUEsVUFBQXRCLEVBQUFvQixFQUFBUCxPQUFBLEVBQUEsSUFDQW5DLEVBQUFVLEVBQUErQixHQUFBLFVBRUF6QyxFQUFBVSxFQUFBK0IsR0FBQSxTQUVBLE1BRUEsSUFBQSxjQUNBSixFQUFBWSxLQUFBdkMsRUFBQStCLEdBQUFHLEtBQUEsVUFBQTVDLEVBQUFVLEVBQUErQixHQUFBLFVBQUF6QyxFQUFBVSxFQUFBK0IsR0FBQSxTQUNBLE1BRUEsSUFBQSxXQUNBekMsRUFBQThDLEdBQUEsSUFBQUgsRUFBQSxTQUFBLFNBQ0EsTUFFQSxJQUFBLFNBQ0EzQyxFQUFBVSxFQUFBK0IsR0FBQSxXQUFBSSxFQUFBLFNBQUEsU0FHQVQsR0FBQS9CLFdBS0ErQixJQUFBRixFQXlEQSxJQUFBZ0IsRUM1TUF4QyxFQUFBeUMsVUFBQUMsT0FBQSxXQUVBQyxVQUFBQyxVQUFBQyxRQUFBLGFBQUEsSUFDQUMsT0FBQUMsU0FBQUMsS0FBQSx5WUFJQTFDLFlBQUEsV0FDQU4sRUFBQSxpQkFBQUssT0FBQSxNQUFBNEMsSUFBQSxDQUNBQyxRQUFBLFdBRUEsTUFFQSxJQUFBQyxLQUFBQyxPQUdBcEQsRUFBQSwwQkFBQXFELE9BQUEsV0FDQSxJQUFBQyxFQUFBdEQsRUFBQXVELE1BQUFsQixTQUFBbkMsS0FBQSx1QkFDQUYsRUFBQXVELE1BQUFyQixLQUFBLFdBQUFvQixFQUFBbEQsS0FBQSxLQUFBa0QsRUFBQWxELEtBQUEsT0FJQUosRUFBQSxpQkFBQXFELE9BQUEsV0FDQSxJQUFBRyxFQUFBeEQsRUFBQSxzQkFDQSxRQUFBd0QsRUFBQVAsSUFBQSxXQUNBTyxFQUFBQyxZQUVBRCxFQUFBRSxhQUlBMUQsRUFBQSxjQUFBcUQsT0FBQSxXQUNBLElBQUFNLEVBQUEzRCxFQUFBLHNCQUNBLFFBQUEyRCxFQUFBVixJQUFBLFdBQ0FVLEVBQUFGLFlBRUFFLEVBQUFELGFBT0ExRCxFQUFBLGFBQUFxRCxPQUFBLFdBQ0FyRCxFQUFBLGtCQUFBSyxTQUFBNEMsSUFBQSxDQUNBQyxRQUFBLFlBS0FsRCxFQUFBLGdCQUFBcUQsT0FBQSxXQUVBLElBQUFPLEVBQUE1RCxFQUFBLHFCQUNBQSxFQUFBdUQsTUFBQU0sUUFBQSxVQUdBWixJQUFBLENBQUFhLFVBQUEsT0FFQUYsRUFBQXZELFNBQUE0QyxJQUFBLENBQ0FDLFFBQUEsWUFPQWxELEVBQUEsZUFBQXFELE9BQUEsV0FFQSxJQUFBTyxFQUFBNUQsRUFBQSxvQkFFQUEsRUFBQXVELE1BQUFNLFFBQUEsVUFHQVosSUFBQSxDQUFBYSxVQUFBLE9BRUFGLEVBQUF2RCxTQUFBNEMsSUFBQSxDQUNBQyxRQUFBLFlBUUFsRCxFQUFBLGVBQUFxRCxPQUFBLFdBQ0FyRCxFQUFBdUQsTUFBQU0sUUFBQSx3QkFBQXRELFVBRUFQLEVBQUEsb0JBQUFPLGFBSUFQLEVBQUEsb0JBQUFxRCxPQUFBLFdBQ0EsSUFBQU8sRUFBQTVELEVBQUF1RCxNQUFBTSxRQUFBLFVBQ0ExQyxFQUFBeUMsRUFBQTFELEtBQUEsZ0JBRUEwRCxFQUFBMUQsS0FBQSxvQkFBQUcsT0FBQSxPQUNBYyxFQUFBbUIsS0FBQSxZQUFBLE1BT0F0QyxFQUFBOEMsUUFBQWlCLFFBQUEsV0FDQWpCLE9BQUFrQixZQUFBLEtBQ0FoRSxFQUFBLFNBQUFpRCxJQUFBLENBQ0FnQixhQUFBLGlCRGlEQWpFLEVBQUFrRSxVQUFBLENBQ0FDLElBQUEsdUJBQ0FDLEtBQUEsT0FDQUMsT0FBQSxFQUNBQyxNQUFBLFNBQUFDLEdBQ0FDLFFBQUFDLElBQUEsV0FBQUYsR0FDQTNFLEVBQUEsYUFBQSxJQUFBLFFBSUFJLEVBQUEsV0FBQXFELE9BQUEsV0FDQXJELEVBQUEwRSxLQUFBLGdDQUFBLFNBQUFILEdBRUEsUUFEQUksS0FBQUMsTUFBQUwsR0FDQU0sUUFDQTlCLFNBQUFDLEtBQUEsWUFFQXBELEVBQUEsUUFBQSxJQUFBLFdBTUFJLEVBQUEsY0FBQThFLFFBQUEsU0FBQXhELEdBQ0FBLEVBQUFDLGlCQUVBLElBQUF3RCxFQUFBL0UsRUFBQXVELE1BQ0F5QixFQUFBRCxFQUFBRSxZQUNBVCxRQUFBQyxJQUFBTyxHQUVBRCxFQUFBMUMsU0FBQW5DLEtBQUEsWUFBQWdGLE9BRUFsRixFQUFBMEUsS0FBQSw4QkFBQU0sR0FBQSxTQUFBVCxHQUNBUSxFQUFBMUMsU0FBQW5DLEtBQUEsWUFBQWlGLE9BRUEsUUFEQVIsS0FBQUMsTUFBQUwsR0FDQU0sU0FFQWpGLEVBQUEsT0FBQSxJQUFBLEtBQ0FtRCxTQUFBQyxLQUFBLFlBR0FwRCxFQUFBLFFBQUEsSUFBQSxXQVVBLElBQUF3RixFQUFBcEYsRUFBQSxjQWlCQSxTQUFBcUYsRUFBQUMsR0FFQUEsRUFBQWxFLE1BQUEsSUFDQW1FLEVBQUFELEVBR0FFLGFBQUFoRCxHQUNBQSxFQUFBbEMsWUFBQSxXQUNBLElBQUEwRSxFQUFBLHdCQUFBTyxFQUFBTixZQUVBVCxRQUFBQyxJQUFBTyxHQUNBaEYsRUFBQTBFLEtBQUEsdUJBQUFNLEdBQUEsU0FBQVQsR0FFQSxJQUFBa0IsRUFBQWQsS0FBQUMsTUFBQUwsR0FFQSxTQUFBa0IsRUFBQVosUUFDQWpGLEVBQUEsUUFBQSxJQUFBLEtBQ0EsZ0JBQUE2RixFQUFBWixRQUNBakYsRUFBQSxhQUFBLElBQUEsS0FJQThGLEVBQUFELFFBSUEsS0FJQSxTQUFBQyxFQUFBRCxHQUNBLElBQUFFLEVBQUFGLEVBQUFHLE9BQUEsR0FBQSxHQUFBRCxJQUNBRSxFQUFBLEtBR0EsT0FBQUYsR0FDQSxJQUFBLGdCQUNBRSxFQUFBLG9JQUNBLE1BQ0EsSUFBQSxjQUNBQSxFQUFBLGlDQU9BSixFQUFBSyxLQUFBLEdBRUE5RixFQUFBLGlCQUFBRyxRQUNBSCxFQUFBNkIsS0FBQTRELEVBQUFHLE1BQUEsSUFBQSxTQUFBRyxFQUFBQyxHQUdBaEcsRUFBQTZCLEtBQUFtRSxHQUFBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQUEsSUFFQUEsRUFBQSxRQUtBbEcsRUFBQSxpQkFBQW1HLE9BQ0EsMkNBRUFDLEVBQUFKLEVBQUFELFFBQUFBLEVBQUEsdUJBQ0FLLEVBQUFKLEVBQUFLLGtEQUNBRCxFQUFBSixFQUFBTSxVQUFBRixFQUFBSixFQUFBTSwyQkFDQUYsRUFBQUosRUFBQU8sWUFBQUgsRUFBQUosRUFBQVEsOEJBQ0FKLEVBQUFKLEVBQUFTLGNBQUFMLEVBQUFKLEVBQUFVLHNEQUNBYixrQ0FPQWMsSUFJQSxTQUFBUCxFQUFBUSxHQUNBLE1BQUEsU0FBQUEsRUFDQSxHQUVBQSxFQUlBLFNBQUFELElBR0EzRyxFQUFBLGlCQUFBcUQsT0FBQSxXQUVBLElBQUF3RCxFQUFBN0csRUFBQSxnQkFDQThHLEVBQUFELEVBQUEzRyxLQUFBLFNBQ0E2RyxFQUFBL0csRUFBQXVELE1BQUFNLFFBQUEsTUFBQTNELEtBQUEsb0JBQUFvQyxLQUFBLGdCQUNBMEUsRUFBQWhILEVBQUF1RCxNQUFBTSxRQUFBLE1BQUEzRCxLQUFBLGlCQUFBb0MsS0FBQSxhQUVBd0UsRUFBQXhFLEtBQUEsZUFBQXlFLEdBQ0FELEVBQUF4RSxLQUFBLFlBQUEwRSxHQUVBSCxFQUFBeEcsU0FBQTRDLElBQUEsQ0FDQUMsUUFBQSxZQU1BbEQsRUFBQSxpQkFBQXFELE9BQUEsV0FFQSxJQUFBNEQsRUFBQWpILEVBQUEsa0JBR0FnRixFQUFBLG9DQUZBaEYsRUFBQXVELE1BQUFNLFFBQUEsTUFBQTNELEtBQUEsb0JBQUFvQyxLQUFBLGtCQUlBa0MsUUFBQUMsSUFBQSxnQkFBQU8sR0FDQWhGLEVBQUEwRSxLQUFBLHVCQUFBTSxHQUFBLFNBQUFULEdBQ0FDLFFBQUFDLElBQUEsbUJBQUFGLEdBQ0EsSUFBQTJDLEVBQUF2QyxLQUFBQyxNQUFBTCxHQUVBLFNBQUEyQyxFQUFBckMsUUFDQWpGLEVBQUEsUUFBQSxJQUFBLEtBQ0EsZ0JBQUFzSCxFQUFBckMsUUFDQWpGLEVBQUEsYUFBQSxJQUFBLEtBVUEsU0FBQXNILEVBQUFELEdBRUF6QyxRQUFBMkMsTUFBQUQsRUFBQSxJQUVBLElBQUEvRixFQUFBOEYsRUFBQS9HLEtBQUEsZ0JBQ0FrSCxFQUFBSCxFQUFBL0csS0FBQSxvQkFFQSxJQUFBbUgsRUFBQSxDQUNBQyxPQUFBdEgsRUFBQSxlQUNBdUgsTUFBQXZILEVBQUEsb0JBQ0F3SCxTQUFBeEgsRUFBQSxzQkFDQXlILFNBQUF6SCxFQUFBLHFCQUNBMEgsS0FBQTFILEVBQUEsc0JBQ0EySCxnQkFBQTNILEVBQUEsa0JBQ0E0SCxVQUFBNUgsRUFBQSxrQkFDQTZILFdBQUE3SCxFQUFBLGtCQUNBOEgsUUFBQTlILEVBQUEsc0JBQ0ErSCxNQUFBL0gsRUFBQSxrQkFDQWdJLEtBQUFoSSxFQUFBLG9CQUNBaUksSUFBQWpJLEVBQUEsWUFDQWtJLEdBQUFsSSxFQUFBLFdBQ0FtSSxPQUFBbkksRUFBQSxpQkFFQWlILEVBQUE1RyxTQUFBNEMsSUFBQSxDQUNBQyxRQUFBLFNBRUEvQixFQUFBbUIsS0FBQSxZQUFBLEdBQ0E4RSxFQUFBakMsT0FDQWtDLEVBQUFDLE9BQUFoRixLQUFBLGVBQUE0RSxFQUFBLEdBQUFuQixJQUNBc0IsRUFBQUMsT0FBQWxILEtBQUEsR0FBQWdHLEVBQUFjLEVBQUEsR0FBQVgsWUFBQUgsRUFBQWMsRUFBQSxHQUFBVixZQUFBSixFQUFBYyxFQUFBLEdBQUFULGNBQUFMLEVBQUFjLEVBQUEsR0FBQVIsY0FDQVcsRUFBQUUsTUFBQW5HLElBQUEsR0FBQWdGLEVBQUFjLEVBQUEsR0FBQVgsWUFBQUgsRUFBQWMsRUFBQSxHQUFBVixZQUNBYSxFQUFBRyxTQUFBcEcsSUFBQSxHQUFBZ0YsRUFBQWMsRUFBQSxHQUFBVCxjQUFBTCxFQUFBYyxFQUFBLEdBQUFSLGNBQ0FXLEVBQUFJLFNBQUFyRyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUFaLFNBQ0FlLEVBQUFLLEtBQUF0RyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUFrQixpQkFDQWYsRUFBQU0sZ0JBQUF2RyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUFtQixxQkFDQWhCLEVBQUFPLFVBQUF4RyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUFvQixxQkFDQWpCLEVBQUFRLFdBQUF6RyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUFxQixxQkFDQWxCLEVBQUFTLFFBQUExRyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUFzQixjQUNBbkIsRUFBQVUsTUFBQTNHLElBQUEsR0FBQWdGLEVBQUFjLEVBQUEsR0FBQWEsVUFDQVYsRUFBQVcsS0FBQTVHLElBQUEsR0FBQWdGLEVBQUFjLEVBQUEsR0FBQWMsU0FDQVgsRUFBQVksSUFBQTdHLElBQUEsR0FBQWdGLEVBQUFjLEVBQUEsR0FBQWUsUUFDQVosRUFBQWEsR0FBQTlHLElBQUEsR0FBQWdGLEVBQUFjLEVBQUEsR0FBQWdCLE9BQ0FiLEVBQUFjLE9BQUEvRyxJQUFBLEdBQUFnRixFQUFBYyxFQUFBLEdBQUF1QixZQWxEQUMsQ0FBQXhCLEVBQUFELFNBd0RBakgsRUFBQSxrQkFBQXFELE9BQUEsV0FFQSxJQUFBc0YsRUFBQTNJLEVBQUEsbUJBQ0E4RyxFQUFBNkIsRUFBQXpJLEtBQUEsa0JBQ0E2RyxFQUFBL0csRUFBQXVELE1BQUFNLFFBQUEsTUFBQTNELEtBQUEsb0JBQUFvQyxLQUFBLGdCQUNBMEUsRUFBQWhILEVBQUF1RCxNQUFBTSxRQUFBLE1BQUEzRCxLQUFBLGlCQUFBb0MsS0FBQSxhQUVBcUcsRUFBQXRJLFNBQUE0QyxJQUFBLENBQ0FDLFFBQUEsU0FJQTRELEVBQUF4RSxLQUFBLGVBQUF5RSxHQUNBRCxFQUFBeEUsS0FBQSxZQUFBMEUsTUFpSkEsU0FBQTRCLEVBQUEzSCxFQUFBNEgsR0FBQSxHQUVBLElBQUFDLEVBQUE5SSxFQUFBaUIsR0FBQXFCLEtBQUEsTUFHQSxHQUFBakIsRUFBQUosR0FBQSxDQUVBLElBQUErRCxFQUFBLFVBQUE4RCxLQUFBOUksRUFBQWlCLEdBQUFnRSxjQUNBVCxRQUFBQyxJQUFBTyxHQUVBaEYsRUFBQStJLEtBQUEsQ0FDQS9ELEtBQUFBLEVBQ0FnRSxXQUFBLFdBQ0FoSixFQUFBaUIsR0FBQW9CLFNBQUFuQyxLQUFBLFlBQUFnRixRQUVBTCxRQUFBLFNBQUFOLEdBQ0F2RSxFQUFBaUIsR0FBQW9CLFNBQUFuQyxLQUFBLFlBQUFLLFFBQUEsS0FDQSxJQUFBMEksRUFBQXRFLEtBQUFDLE1BQUFMLEdBQ0EsUUFBQTBFLEVBQUFwRSxTQUVBZ0UsR0FDQTdJLEVBQUFpQixHQUFBNEMsUUFBQSxVQUFBdEQsVUFFQVMsRUFBQUMsR0FDQXJCLEVBQUEsT0FBQSxJQUFBLE1BRUEsU0FBQXFKLEVBQUFwRSxRQUNBakYsRUFBQSxRQUFBLElBQUEsS0FFQSxtQkFBQXFKLEVBQUFwRSxTQUVBakYsRUFBQSxpQkFBQSxJQUFBLFNBaFlBd0YsRUFBQThELFVBQUEsV0FDQTlELEVBQUFoRSxNQUVBSyxPQUFBLEdBQ0E0RCxFQUFBRCxNQUdBcEYsRUFBQSxvQkFBQXFELE9BQUEsV0FDQStCLEVBQUFoRSxNQUNBSyxPQUFBLEdBQ0E0RCxFQUFBRCxNQThNQXBGLEVBQUEsYUFBQThFLFFBQUEsU0FBQXhELEdBQ0EsSUFBQUwsRUFBQXNDLEtBQ0FLLEVBQUE1RCxFQUFBaUIsR0FBQTRDLFFBQUEsVUFDQWlGLEVBQUE5SSxFQUFBaUIsR0FBQXFCLEtBQUEsTUFDQXlFLEVBQUEvRyxFQUFBLGVBQUFzQyxLQUFBLGdCQUNBdEMsRUFBQWlCLEdBQUFmLEtBQUEsU0FDQUYsRUFBQWlCLEdBQUFmLEtBQUEsVUFDQUYsRUFBQWlCLEdBQUFnRSxZQUdBLEdBQUE1RCxFQUFBSixHQUFBLENBRUEsSUFBQStELEVBQUEsVUFBQThELGVBQUEvQixLQUFBL0csRUFBQWlCLEdBQUFnRSxjQUVBVCxRQUFBQyxJQUFBTyxHQUNBaEYsRUFBQStJLEtBQUEsQ0FDQS9ELEtBQUFBLEVBQ0FnRSxXQUFBLFdBQ0FoSixFQUFBaUIsR0FBQW9CLFNBQUFuQyxLQUFBLFlBQUFnRixRQUVBTCxRQUFBLFNBQUFOLEdBQ0F2RSxFQUFBaUIsR0FBQW9CLFNBQUFuQyxLQUFBLFlBQUFLLFFBQUEsS0FDQSxJQUFBMEksRUFBQXRFLEtBQUFDLE1BQUFMLEdBQ0EsUUFBQTBFLEVBQUFwRSxTQUNBakIsRUFBQXJELFVBQ0FTLEVBQUFDLEdBQ0FvRSxFQUFBRCxHQUNBeEYsRUFBQSxPQUFBLElBQUEsTUFHQSxTQUFBcUosRUFBQXBFLFNBQ0FqRixFQUFBLFFBQUEsSUFBQSxZQVFBSSxFQUFBLHdCQUFBOEUsUUFBQSxTQUFBeEQsR0FDQUEsRUFBQUMsaUJBQ0EsSUFBQU4sRUFBQXNDLEtBQ0FLLEVBQUE1RCxFQUFBdUQsTUFBQU0sUUFBQSxVQUNBaUYsRUFBQTlJLEVBQUF1RCxNQUFBakIsS0FBQSxNQUVBeUUsRUFEQS9HLEVBQUF1RCxNQUFBckQsS0FBQSxTQUNBb0MsS0FBQSxnQkFFQSxHQUFBakIsRUFBQWtDLE1BQUEsQ0FDQSxJQUFBeUIsRUFBQSxVQUFBOEQsZUFBQS9CLEtBQUEvRyxFQUFBaUIsR0FBQWdFLGNBRUFULFFBQUFDLElBQUFPLEdBQ0FoRixFQUFBK0ksS0FBQSxDQUNBL0QsS0FBQUEsRUFDQWdFLFdBQUEsV0FDQWhKLEVBQUFpQixHQUFBb0IsU0FBQW5DLEtBQUEsWUFBQWdGLFFBRUFMLFFBQUEsU0FBQU4sR0FDQXZFLEVBQUFpQixHQUFBb0IsU0FBQW5DLEtBQUEsWUFBQUssUUFBQSxLQUNBLElBQUEwSSxFQUFBdEUsS0FBQUMsTUFBQUwsR0FDQSxRQUFBMEUsRUFBQXBFLFNBQ0FqQixFQUFBckQsVUFDQVMsRUFBQUMsR0FDQXJCLEVBQUEsT0FBQSxJQUFBLE1BQ0EsU0FBQXFKLEVBQUFwRSxTQUNBakYsRUFBQSxRQUFBLElBQUEsWUFPQUksRUFBQSxxQkFBQThFLFFBQUEsU0FBQXhELEdBQ0FzSCxFQUFBckYsTUFBQSxNQUlBdkQsRUFBQSxxQkFBQThFLFFBQUEsU0FBQXhELEdBQ0FzSCxFQUFBckYsTUFBQSxNQUlBdkQsRUFBQSxzQkFBQThFLFFBQUEsU0FBQXhELEdBQ0FzSCxFQUFBckYsU0FFQXZELEVBQUEsdUJBQUE4RSxRQUFBLFNBQUF4RCxHQUNBc0gsRUFBQXJGLFNBR0F2RCxFQUFBLHNCQUFBOEUsUUFBQSxTQUFBeEQsR0FDQUEsRUFBQUMsaUJBQ0EsSUFBQU4sRUFBQXNDLEtBQ0FLLEVBQUE1RCxFQUFBdUQsTUFBQU0sUUFBQSxVQUNBaUYsRUFBQTlJLEVBQUF1RCxNQUFBakIsS0FBQSxNQUNBaUQsRUFBQXZGLEVBQUF1RCxNQUFBckQsS0FBQSxTQUNBNkcsRUFBQXhCLEVBQUFqRCxLQUFBLGdCQUNBNkcsRUFBQTVELEVBQUFqRCxLQUFBLGFBQ0E4RyxFQUFBcEosRUFBQSxpQkFBQUUsS0FBQSxvQkFBQTZHLE9BQUFsRCxRQUFBLE1BR0EsR0FBQTBCLEVBQUFuRSxRQUFBK0gsRUFDQTdKLEVBQUFVLEVBQUF1RixHQUFBLGFBQ0EsQ0FFQWpHLEVBQUFVLEVBQUF1RixHQUFBLFVBRUEsSUFBQVAsRUFBQSxVQUFBOEQsZUFBQS9CLEtBQUEvRyxFQUFBaUIsR0FBQWdFLGNBRUFULFFBQUFDLElBQUFPLEdBQ0FoRixFQUFBK0ksS0FBQSxDQUNBL0QsS0FBQUEsRUFDQWdFLFdBQUEsV0FDQWhKLEVBQUFpQixHQUFBb0IsU0FBQW5DLEtBQUEsWUFBQWdGLFFBRUFMLFFBQUEsU0FBQU4sR0FFQXZFLEVBQUFpQixHQUFBb0IsU0FBQW5DLEtBQUEsWUFBQUssUUFBQSxLQUNBLElBQUEwSSxFQUFBdEUsS0FBQUMsTUFBQUwsR0FFQSxRQUFBMEUsRUFBQXBFLFNBQ0FMLFFBQUFDLElBQUEyRSxHQUVBQSxFQUFBQyxTQUNBekYsRUFBQXJELFVBQ0FTLEVBQUFDLEdBQ0FyQixFQUFBLE9BQUEsSUFBQSxNQUNBLFNBQUFxSixFQUFBcEUsU0FDQWpGLEVBQUEsUUFBQSxJQUFBLFlBb0RBSSxFQUFBc0osUUFBQSwwQkFBQSxTQUFBdEUsR0FFQSxJQUFBdUUsRUFBQSxHQUNBLElBQUFDLEVBQUF4SixFQUFBLGdCQUVBLElBQUEsSUFBQThCLEVBQUEsRUFBQUEsRUFBQWtELEVBQUF2RCxPQUFBSyxJQUNBLElBQUEsSUFBQTJILEVBQUEsRUFBQUEsRUFBQXpFLEVBQUFsRCxHQUFBNEgsU0FBQWpJLE9BQUFnSSxJQUNBRixFQUFBSSxLQUFBLGtCQUFBM0UsRUFBQWxELEdBQUE0SCxTQUFBRCxHQUFBLEtBQUF6RSxFQUFBbEQsR0FBQThILGFBQUEsSUFBQTVFLEVBQUFsRCxHQUFBNEgsU0FBQUQsR0FBQSxhQUdBLElBQUEzSCxFQUFBLEVBQUFBLEVBQUF5SCxFQUFBOUgsT0FBQUssSUFDQTBILEVBQUFyRCxPQUFBb0QsRUFBQXpILE9BS0E5QixFQUFBc0osUUFBQSwrQkFBQSxTQUFBdEUsR0FFQSxJQUFBdUUsRUFBQSxHQUNBLElBQUFDLEVBQUF4SixFQUFBLHFCQUVBQSxFQUFBNkIsS0FBQW1ELEdBQUEsU0FBQTZFLEdBQ0FOLEVBQUFJLEtBQUEsa0JBQUFFLEVBQUEsS0FBQUEsRUFBQSxnQkFHQSxJQUFBLElBQUEvSCxFQUFBLEVBQUFBLEVBQUF5SCxFQUFBOUgsT0FBQUssSUFDQTBILEVBQUFyRCxPQUFBb0QsRUFBQXpILE9BS0E5QixFQUFBc0osUUFBQSx3QkFBQSxTQUFBdEUsR0FFQSxJQUFBdUUsRUFBQSxHQUNBLElBQUFDLEVBQUF4SixFQUFBLGVBRUFBLEVBQUE2QixLQUFBbUQsR0FBQSxTQUFBNkUsRUFBQTVCLEdBRUFzQixFQUFBSSxLQUFBLGtCQUFBMUIsRUFBQTZCLEtBQUEsS0FBQTdCLEVBQUE2QixLQUFBLGdCQUdBLElBQUEsSUFBQWhJLEVBQUEsRUFBQUEsRUFBQXlILEVBQUE5SCxPQUFBSyxJQUNBMEgsRUFBQXJELE9BQUFvRCxFQUFBekgsT0FLQTlCLEVBQUFzSixRQUFBLDJCQUFBLFNBQUF0RSxHQUVBLElBQUF1RSxFQUFBLEdBQ0EsSUFBQUMsRUFBQXhKLEVBQUEsaUJBRUFBLEVBQUE2QixLQUFBbUQsR0FBQSxTQUFBNkUsRUFBQTVCLEdBRUFzQixFQUFBSSxLQUFBLGtCQUFBMUIsRUFBQTZCLEtBQUEsS0FBQTdCLEVBQUE2QixLQUFBLGdCQUdBLElBQUEsSUFBQWhJLEVBQUEsRUFBQUEsRUFBQXlILEVBQUE5SCxPQUFBSyxJQUNBMEgsRUFBQXJELE9BQUFvRCxFQUFBekgiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vLy8vLy8vLy8vIFBpbnRhIGVzdGlsb3MgZGUgZXJyb3IgeSB2YWxpZG9cclxuZnVuY3Rpb24gcGludGFyU3RpbG9zKGVsZW0sIHRpcG8pIHtcclxuXHJcbiAgaWYgKHRpcG8gPT09ICdlcnJvcicpIHtcclxuICAgIGVsZW0uYWRkQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICBlbGVtLnJlbW92ZUNsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgY3VtcGxlID0gMDtcclxuXHJcbiAgfSBlbHNlIGlmICh0aXBvID09PSAndmFsaWRvJykge1xyXG4gICAgZWxlbS5hZGRDbGFzcygnY29ycmVjdG8nKTtcclxuICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICBjdW1wbGUgPSAxO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLyBNdWVzdHJhIGFsZXJ0YSBkZSBsb3MgZm9ybXVsYXJpb3NcclxuZnVuY3Rpb24gc2hvd0FsZXJ0KGN1bXBsZSwgdGltZUluLCB0aW1lT3V0KSB7XHJcblxyXG4gIGNvbnN0IGRpdkFsZXJ0ID0gJCgnZGl2LmFsZXJ0LWNvbnRhaW5lcicpO1xyXG4gIGNvbnN0IGNvbnRlbnRBbGVydCA9ICdkaXYuYWxlcnQtY29udGVudCc7XHJcblxyXG4gIGRpdkFsZXJ0LmZpbmQoJ2Rpdi5hbGVydC1jb250ZW50JykuZW1wdHkoKTtcclxuICBkaXZBbGVydC5yZW1vdmVDbGFzcygpO1xyXG4gIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1jb250YWluZXInKTtcclxuXHJcbiAgaWYgKGN1bXBsZSA9PT0gXCJuaWNlXCIpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1jaGVjaycpLmZpbmQoY29udGVudEFsZXJ0KS50ZXh0KCdOaWNlICEnKTtcclxuXHJcbiAgfSBlbHNlIGlmIChjdW1wbGUgPT09IFwiZXJyb3JcIikge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWVycm9yJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ0htbSwgc29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcclxuXHJcbiAgfSBlbHNlIGlmIChjdW1wbGUgPT09IFwic2VydmVyRG93blwiKSB7XHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtc2VydmVyJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ01heWJlIHRoZSBzZXJ2ZXIgaXMgZG93biA6KCcpO1xyXG5cclxuICB9IGVsc2UgaWYgKGN1bXBsZSA9PT0gXCJlbnRyeUR1cGxpY2F0ZVwiKSB7XHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtZHVwbGljYXRlJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ1RoaXMgdXNlciBhbHJlYWR5IGV4aXN0cycpO1xyXG5cclxuICB9IGVsc2UgaWYgKGN1bXBsZSA9PT0gXCJkb250RXhpc3RzXCIpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1kb250RXhpc3RzJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoXCJUaGlzIHVzZXIgZG9uJ3QgZXhpc3RzXCIpO1xyXG4gIH1cclxuXHJcbiAgZGl2QWxlcnQuZmFkZUluKHRpbWVJbiwgXCJsaW5lYXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBkaXZBbGVydC5mYWRlT3V0KCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgJ2JvdHRvbSc6ICcwJSdcclxuICAgICAgfSwge1xyXG4gICAgICAgIGR1cmF0aW9uOiAnc2xvdycsXHJcbiAgICAgICAgcXVldWU6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG4gICAgfSwgdGltZU91dCk7XHJcbiAgfSkuYW5pbWF0ZSh7XHJcbiAgICAnYm90dG9tJzogJzIwdmgnXHJcbiAgfSwge1xyXG4gICAgZHVyYXRpb246ICdzbG93JyxcclxuICAgIHF1ZXVlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vIFZhbGlkYSBsb25naXR1ZFxyXG5mdW5jdGlvbiB2YWxpZGF0ZUxlbmd0aCh2YWxvciwgbWluTGVuZ3RoLCBtYXhMZW5ndGgpIHtcclxuICBpZiAoKHZhbG9yID49IG1pbkxlbmd0aCkgJiAodmFsb3IgPD0gbWF4TGVuZ3RoKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLyByZW1vdmUgY2xhc3MgY29yZWN0byBvbiBmb3JtdWxhcmlvc1xyXG5mdW5jdGlvbiBlbXB0eUNsYXNzKGZvcm0pe1xyXG5cclxuICBsZXQgc2VsZWN0cyA9ICQoZm9ybSkuZmluZCgnc2VsZWN0Jyk7XHJcbiAgbGV0IGlucHV0cyA9ICQoZm9ybSkuZmluZCgnaW5wdXQnKTtcclxuXHJcblxyXG4gIHNlbGVjdHMudmFsKCdkZWZhdWx0JykucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgaW5wdXRzLnZhbCgnJykucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZm9ybSkge1xyXG5cclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGxldCBpbnB1dHMgPSAkKGZvcm0pLmZpbmQoJ2lucHV0LHNlbGVjdCcpO1xyXG4gIGxldCBjYW1wb3NPYmxpZ2EgPSAkKGZvcm0pLmZpbmQoJ2lucHV0OnZpc2libGUsc2VsZWN0OnZpc2libGUnKS5sZW5ndGg7XHJcbiAgbGV0IGJvdG9uU3VibWl0ID0gJChmb3JtKS5maW5kKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG5cclxuICAvL1ZhcmlhYmxlIHBhcmEgY29tcHJhciBsb3MgaW5wdXRzIHF1ZSBlc3RhbiBiaWVuIGNvbiBsYSBjYW50aWRhZCBkZSBpbnB1dHMgZGVsIGZvcm11bGFyaW9cclxuICBsZXQgdG90YWwgPSAwO1xyXG4gIC8vZXhwcmVzaW9uZXMgUmVndWxhcmVzXHJcbiAgY29uc3QgcmVnRXhwRW1haWwgPSAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvO1xyXG4gIGNvbnN0IHJlZ0V4cE51bWJlciA9IC9eXFxkKyQvO1xyXG5cclxuXHJcblxyXG5cclxuICAvLy8vVmFsaWRhciBsb3MgY2FtcG9zXHJcbiAgJChmb3JtKS5maW5kKCdpbnB1dCxzZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKGksIGUpIHtcclxuXHJcblxyXG4gICAgbGV0IHZhbG9ySW5wdXQgPSAkKGUpLnZhbCgpO1xyXG4gICAgbGV0IHZhbG9yQ2hlY2tib3ggPSAkKGUpLnByb3AoJ2NoZWNrZWQnKTtcclxuICAgIGxldCB2YWxvclNlbGVjdCA9ICQoZSkudmFsKCk7XHJcbiAgICBsZXQgY3VzdG9tRGl2Q2hlY2sgPSAkKGUpLnBhcmVudCgpLmZpbmQoJ2Rpdi5jdXN0b20tY2hlY2tib3gnKTtcclxuXHJcblxyXG4gICAgaWYgKCQoZSkubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHN3aXRjaCAoJChlKS5hdHRyKCd0eXBlJykpIHtcclxuXHJcbiAgICAgICAgY2FzZSBcInRleHRcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxyXG4gICAgICAgICAgdmFsb3JJbnB1dCAhPT0gXCJcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImRhdGVcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJpZGVudGlmaWNhdGlvblwiOlxyXG4gICAgICAgICAgaWYgKChyZWdFeHBOdW1iZXIudGVzdCgkKGUpLnByb3AoJ3ZhbHVlJykpKSAmICh2YWxpZGF0ZUxlbmd0aCh2YWxvcklucHV0Lmxlbmd0aCwgNSwgMTApKSkge1xyXG4gICAgICAgICAgICBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJlbWFpbEN1c3RvbVwiOlxyXG4gICAgICAgICAgcmVnRXhwRW1haWwudGVzdCgkKGUpLnByb3AoJ3ZhbHVlJykpID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcclxuICAgICAgICAgIHZhbG9yQ2hlY2tib3ggIT09IGZhbHNlID8gcGludGFyU3RpbG9zKGN1c3RvbURpdkNoZWNrLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoY3VzdG9tRGl2Q2hlY2ssICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcclxuICAgICAgICAgIHZhbG9yU2VsZWN0ICE9IFwiZGVmYXVsdFwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHRvdGFsID0gdG90YWwgKyBjdW1wbGU7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cclxuICBpZiAodG90YWwgPT09IGNhbXBvc09ibGlnYSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG59XHJcbi8vIE5PVEU6IENPTkZJRyBDT05TVUxUQVNcclxuJC5hamF4U2V0dXAoe1xyXG4gIHVybDogJ3NlcnZpY2VzL3Byb2Nlc3MucGhwJyxcclxuICB0eXBlOiAnUE9TVCcsXHJcbiAgYXN5bmM6IHRydWUsXHJcbiAgZXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICBjb25zb2xlLmxvZygncmVzcG9uc2UnLCByZXNwb25zZSk7XHJcbiAgICBzaG93QWxlcnQoXCJzZXJ2ZXJEb3duXCIsIDEwMDAsIDMwMDApO1xyXG4gIH1cclxufSk7XHJcbi8vIE5PVEU6IExPRyBPVVRcclxuJCgnI2xvZ091dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICQucG9zdChcInNlcnZpY2VzL2xvZ2luLnBocD9sb2c9ZmFsc2VcIiwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICdpbmRleC5waHAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgTE9HSU5cclxuJCgnZm9ybSNsb2dpbicpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGxldCBmb3JtdWxhcmlvID0gJCh0aGlzKTtcclxuICBsZXQgZGF0YSA9IGZvcm11bGFyaW8uc2VyaWFsaXplKCk7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcblxyXG4gICQucG9zdChcInNlcnZpY2VzL2xvZ2luLnBocD9sb2c9dHJ1ZVwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmhpZGUoKTtcclxuICAgIGxldCBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuXHJcbiAgICAgIHNob3dBbGVydChcIm5pY2VcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnaG9tZS5waHAnO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxufSk7XHJcblxyXG5cclxuLy8vLyBOT1RFOiBCVVNDQURPUlxyXG5cclxudmFyIHBldGljaW9uO1xyXG52YXIgYnV0dG9uU2VhcmNoID0gJCgnI3NlYXJjaEFsbCcpO1xyXG5cclxuXHJcbmJ1dHRvblNlYXJjaC5rZXlwcmVzcyhmdW5jdGlvbigpIHtcclxuICBsZXQgYnV0dG9uVmFsdWUgPSBidXR0b25TZWFyY2gudmFsKCk7XHJcblxyXG4gIGlmIChidXR0b25WYWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBzZWFyY2hTdHVkZW50KGJ1dHRvblNlYXJjaCk7XHJcbiAgfVxyXG59KTtcclxuJCgnc3Bhbi5pY29uLXNlYXJjaCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGxldCBidXR0b25WYWx1ZSA9IGJ1dHRvblNlYXJjaC52YWwoKTtcclxuICBpZiAoYnV0dG9uVmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgc2VhcmNoU3R1ZGVudChidXR0b25TZWFyY2gpO1xyXG4gIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hTdHVkZW50KGJ1dHRvbikge1xyXG5cclxuICBsZXQgdmFsdWUgPSBidXR0b24udmFsKCk7XHJcbiAgbGV0IGlucHV0ID0gYnV0dG9uO1xyXG5cclxuXHJcbiAgY2xlYXJUaW1lb3V0KHBldGljaW9uKTtcclxuICBwZXRpY2lvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZGF0YSA9ICdpZEZvcm09c2VhcmNoU3R1ZGVudCYnICsgaW5wdXQuc2VyaWFsaXplKCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAkLnBvc3QoXCJzZXJ2aWNlcy9wcm9jZXNzLnBocFwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgIHZhciBzdHVkZW50cyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgaWYgKHN0dWRlbnRzLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudHMuc3VjY2VzcyA9PSBcIkRvbid0IGV4aXN0c1wiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZG9udEV4aXN0c1wiLCAxMDAwLCAzMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgIHNob3dTdHVkZW50cyhzdHVkZW50cyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9LCAxMDAwKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dTdHVkZW50cyhzdHVkZW50cykge1xyXG4gIGxldCByb2wgPSBzdHVkZW50cy5zbGljZSgtMSlbMF0ucm9sO1xyXG4gIGxldCByb2xlT3B0aW9ucyA9IG51bGw7XHJcblxyXG5cclxuICBzd2l0Y2ggKHJvbCkge1xyXG4gICAgY2FzZSAnQWRtaW5pc3RyYWRvcic6XHJcbiAgICAgIHJvbGVPcHRpb25zID0gYDxzcGFuIGNsYXNzPVwiaWNvbi1leWVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpY29uLWNvaW4tZG9sbGFyXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1wbHVzXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1iaW5cIj48L3NwYW4+YDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdDb29yZGluYWRvcic6XHJcbiAgICAgIHJvbGVPcHRpb25zID0gYDxzcGFuIGNsYXNzPVwiaWNvbi1leWVcIj48L3NwYW4+YDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG5cclxuICB9XHJcblxyXG4gIC8vIE5PVEU6IERlbGV0ZSB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBhcnJheSBjdXogaXQncyB0aGUgcm9sXHJcbiAgc3R1ZGVudHMucG9wKC0xKTtcclxuXHJcbiAgJCgnI3Nob3dTdHVkZW50cycpLmVtcHR5KCk7XHJcbiAgJC5lYWNoKHN0dWRlbnRzLnNsaWNlKDApLCBmdW5jdGlvbihpZCwgc3R1ZGVudCkge1xyXG5cclxuXHJcbiAgICAkLmVhY2goc3R1ZGVudCwgZnVuY3Rpb24oY2FtcG8sIHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIHZhbHVlID0gXCIgXCI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAkKCcjc2hvd1N0dWRlbnRzJykuYXBwZW5kKFxyXG4gICAgICBgXHJcbiAgICAgIDx0cj5cclxuICAgICAgICA8dGQgZGF0YS1zdHVkZW50PVwiJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudC5pZCl9XCI+JHtpZCsxfTwvdGQ+XHJcbiAgICAgICAgPHRkPiR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnQuZGVzY3JpcGNpb25fdGRvYyl9PC90ZD5cclxuICAgICAgICA8dGQgZGF0YS1uZG9jPVwiJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudC5uZG9jKX1cIj4ke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50Lm5kb2MpfTwvdGQ+XHJcbiAgICAgICAgPHRkPiR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnQubm9tYnJlMSl9ICR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnQubm9tYnJlMil9PC90ZD5cclxuICAgICAgICA8dGQ+JHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudC5hcGVsbGlkbzEpfSAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50LmFwZWxsaWRvMil9PC90ZD5cclxuICAgICAgICA8dGQgY2xhc3M9XCJ0YWJsZS1vcHRpb25zXCI+JHtyb2xlT3B0aW9uc308L3RkPlxyXG4gICAgICA8L3RyPlxyXG4gICAgICBgXHJcbiAgICApO1xyXG5cclxuICB9KTtcclxuXHJcbiAgb3B0aW9uc1N0dWRlbnRzKCk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VOdWxsVmFsdWUoc3RyaW5nKXtcclxuICBpZiAoc3RyaW5nID09PSBcIk5VTExcIikge1xyXG4gICAgcmV0dXJuIFwiXCI7XHJcbiAgfWVsc2V7XHJcbiAgICByZXR1cm4gc3RyaW5nO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb3B0aW9uc1N0dWRlbnRzKCkge1xyXG4gIC8vLy9FbGltaW5hciBFU1RVRElBTlRFXHJcblxyXG4gICQoJ3NwYW4uaWNvbi1iaW4nKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxEZWxldGUgPSAkKCcjbW9kYWxEZWxldGUnKTtcclxuICAgIGxldCBpbnB1dE1vZGFsID0gbW9kYWxEZWxldGUuZmluZCgnaW5wdXQnKTtcclxuICAgIGxldCBpZFN0dWRlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGRbZGF0YS1zdHVkZW50XScpLmF0dHIoJ2RhdGEtc3R1ZGVudCcpO1xyXG4gICAgbGV0IG51bURvY1N0dWRlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGRbZGF0YS1uZG9jXScpLmF0dHIoJ2RhdGEtbmRvYycpOztcclxuXHJcbiAgICBpbnB1dE1vZGFsLmF0dHIoJ2RhdGEtc3R1ZGVudCcsIGlkU3R1ZGVudCk7XHJcbiAgICBpbnB1dE1vZGFsLmF0dHIoJ2RhdGEtbmRvYycsIG51bURvY1N0dWRlbnQpO1xyXG5cclxuICAgIG1vZGFsRGVsZXRlLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgICAvLyBtb2RhbERlbGV0ZS5maW5kKCdpbnB1dCcpLmF0dHIoJ2RhdGEtc3R1ZGVudCcsKVxyXG4gIH0pO1xyXG5cclxuICAvLy8vTW9zdHJhciBJTkZPIC8gRURJVEFSXHJcbiAgJCgnc3Bhbi5pY29uLWV5ZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGxldCBtb2RhbFNob3cgPSAkKCcjbW9kYWxFZGl0U2hvdycpO1xyXG4gICAgbGV0IGlkU3R1ZGVudCA9ICQodGhpcykuY2xvc2VzdCgndHInKS5maW5kKCd0ZFtkYXRhLXN0dWRlbnRdJykuYXR0cignZGF0YS1zdHVkZW50Jyk7XHJcblxyXG4gICAgbGV0IGRhdGEgPSBgaWRGb3JtPXNob3dTdHVkZW50SW5mbyZpZFN0dWRlbnQ9JHtpZFN0dWRlbnR9YDtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnbG8gcXVlIGVudmlvICcsIGRhdGEpO1xyXG4gICAgJC5wb3N0KFwic2VydmljZXMvcHJvY2Vzcy5waHBcIiwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlIHN0dWRlbnQnLCByZXNwb25zZSk7XHJcbiAgICAgIHZhciBzdHVkZW50SW5mbyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgaWYgKHN0dWRlbnRJbmZvLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudEluZm8uc3VjY2VzcyA9PSBcIkRvbid0IGV4aXN0c1wiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZG9udEV4aXN0c1wiLCAxMDAwLCAzMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93U3R1ZGVudEluZm8oc3R1ZGVudEluZm8sIG1vZGFsU2hvdyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBzaG93U3R1ZGVudEluZm8oc3R1ZGVudEluZm8sIG1vZGFsU2hvdykge1xyXG5cclxuICAgIGNvbnNvbGUudGFibGUoc3R1ZGVudEluZm9bMF0pO1xyXG5cclxuICAgIGxldCBpbnB1dHMgPSBtb2RhbFNob3cuZmluZCgnc2VsZWN0LGlucHV0Jyk7XHJcbiAgICBsZXQgc2F2ZUJ1dHRvbnMgPSBtb2RhbFNob3cuZmluZCgnLmJ0bi1zdWJtaXRNb2RhbCcpO1xyXG5cclxuICAgIHZhciBzdHVkZW50SW5wdXRzID0ge1xyXG4gICAgICB0aXR0bGU6ICQoJyNwZXJzb25OYW1lJyksXHJcbiAgICAgIG5hbWVzOiAkKCcjZWRpdE5vbWJyZXNFc3R1JyksXHJcbiAgICAgIHN1cm5hbWVzOiAkKCcjZWRpdEFwZWxsaWRvc0VzdHUnKSxcclxuICAgICAgbnVtSWRlbnQ6ICQoJyNlZGl0TnVtSWRlbnRFc3R1JyksXHJcbiAgICAgIHRkb2M6ICQoJyNlZGl0VGlwb0lkZW50RXN0dScpLFxyXG4gICAgICBleHBlZGl0aW9uUGxhY2U6ICQoJyNlZGl0THVnYXJFeHBlJyksXHJcbiAgICAgIGJpcnRoZGF0ZTogJCgnI2VkaXRGZWNoYU5hY2knKSxcclxuICAgICAgYmlydGhwbGFjZTogJCgnI2VkaXRMdWdhck5hY2knKSxcclxuICAgICAgYWRkcmVzczogJCgnI2VkaXREaXJlY2Npb25Fc3R1JyksXHJcbiAgICAgIGVtYWlsOiAkKCcjZWRpdEVtYWlsRXN0dScpLFxyXG4gICAgICB0ZWwxOiAkKCcjZWRpdFRlbFJlc2lFc3R1JyksXHJcbiAgICAgIGVwczogJCgnI2VkaXRFcHMnKSxcclxuICAgICAgcmg6ICQoJyNlZGl0UmgnKSxcclxuICAgICAgaW5jb21lOiAkKCcjZWRpdEVzdHJhdG8nKVxyXG4gICAgfVxyXG4gICAgbW9kYWxTaG93LmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgICBpbnB1dHMuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgIHNhdmVCdXR0b25zLmhpZGUoKTtcclxuICAgIHN0dWRlbnRJbnB1dHMudGl0dGxlLmF0dHIoYGRhdGEtc3R1ZGVudGAsIHN0dWRlbnRJbmZvWzBdLmlkKTtcclxuICAgIHN0dWRlbnRJbnB1dHMudGl0dGxlLnRleHQoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLm5vbWJyZTEpfSAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5ub21icmUyKX0gJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uYXBlbGxpZG8xKX0gJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uYXBlbGxpZG8yKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMubmFtZXMudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5ub21icmUxKX0gJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0ubm9tYnJlMil9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnN1cm5hbWVzLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uYXBlbGxpZG8xKX0gJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uYXBlbGxpZG8yKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMubnVtSWRlbnQudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5uZG9jKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMudGRvYy52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLnRkb2NfcGVyc29uYSl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmV4cGVkaXRpb25QbGFjZS52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmx1Z2FyX2V4cGVkaWNpb24pfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5iaXJ0aGRhdGUudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5mZWNoYV9uYWNpbWllbnRvKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuYmlydGhwbGFjZS52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmx1Z2FyX25hY2ltaWVudG8pfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5hZGRyZXNzLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uZGlyZWNjaW9uKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuZW1haWwudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5lbWFpbCl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRlbDEudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS50ZWwxKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuZXBzLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uZXBzKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMucmgudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5yaCl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmluY29tZS52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmVzdHJhdG8pfWApO1xyXG5cclxuICB9XHJcblxyXG5cclxuICAvLy8vTlVFVkEgTUFUUklDVUxBXHJcbiAgJCgnc3Bhbi5pY29uLXBsdXMnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxNYXRyaSA9ICQoJyNtb2RhbE1hdHJpY3VsYScpO1xyXG4gICAgbGV0IGlucHV0TW9kYWwgPSBtb2RhbE1hdHJpLmZpbmQoJ2lucHV0I251bU1hdHJpJyk7XHJcbiAgICBsZXQgaWRTdHVkZW50ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmZpbmQoJ3RkW2RhdGEtc3R1ZGVudF0nKS5hdHRyKCdkYXRhLXN0dWRlbnQnKTtcclxuICAgIGxldCBudW1Eb2NTdHVkZW50ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmZpbmQoJ3RkW2RhdGEtbmRvY10nKS5hdHRyKCdkYXRhLW5kb2MnKTtcclxuXHJcbiAgICBtb2RhbE1hdHJpLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGlucHV0TW9kYWwuYXR0cignZGF0YS1zdHVkZW50JywgaWRTdHVkZW50KTtcclxuICAgIGlucHV0TW9kYWwuYXR0cignZGF0YS1uZG9jJywgbnVtRG9jU3R1ZGVudCk7XHJcblxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIEVESVRcclxuJCgnZm9ybS5lZGl0Jykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgbGV0IGZvcm0gPSB0aGlzO1xyXG4gIGxldCBtb2RhbCA9ICQoZm9ybSkuY2xvc2VzdCgnLm1vZGFsJyk7XHJcbiAgbGV0IGlkRm9ybSA9ICQoZm9ybSkuYXR0cignaWQnKTtcclxuICBsZXQgaWRTdHVkZW50ID0gJCgnI3BlcnNvbk5hbWUnKS5hdHRyKCdkYXRhLXN0dWRlbnQnKTtcclxuICBsZXQgaW5wdXRzID0gJChmb3JtKS5maW5kKCdpbnB1dCcpO1xyXG4gIGxldCBzZWxlY3RzID0gJChmb3JtKS5maW5kKCdzZWxlY3QnKTtcclxuICB2YXIgZGF0YSA9ICQoZm9ybSkuc2VyaWFsaXplKCk7XHJcblxyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKGZvcm0pKSB7XHJcblxyXG4gICAgbGV0IGRhdGEgPSBgaWRGb3JtPSR7aWRGb3JtfSZpZFN0dWRlbnQ9JHtpZFN0dWRlbnR9JiR7JChmb3JtKS5zZXJpYWxpemUoKX1gO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkNvb2xcIikge1xyXG4gICAgICAgICAgbW9kYWwuZmFkZU91dCgpO1xyXG4gICAgICAgICAgZW1wdHlDbGFzcyhmb3JtKTtcclxuICAgICAgICAgIHNlYXJjaFN0dWRlbnQoYnV0dG9uU2VhcmNoKTtcclxuICAgICAgICAgIHNob3dBbGVydChcIm5pY2VcIiwgMTAwMCwgMzAwMCk7XHJcblxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJlcnJvclwiLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuLy8gTk9URTogQ09OU1VMVEEgTlVFVkEgTUFUUklDVUxBXHJcbiQoJ2Zvcm0jaW5zZXJ0TWF0cmljdWxhJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICBsZXQgZm9ybSA9IHRoaXM7XHJcbiAgbGV0IG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICBsZXQgaWRGb3JtID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xyXG4gIGxldCBpbnB1dCA9ICQodGhpcykuZmluZCgnaW5wdXQnKTtcclxuICBsZXQgaWRTdHVkZW50ID0gaW5wdXQuYXR0cignZGF0YS1zdHVkZW50Jyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuICAgIGxldCBkYXRhID0gYGlkRm9ybT0ke2lkRm9ybX0maWRTdHVkZW50PSR7aWRTdHVkZW50fSYkeyQoZm9ybSkuc2VyaWFsaXplKCl9YDtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoZm9ybSkucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuICAgICAgICAgIG1vZGFsLmZhZGVPdXQoKTtcclxuICAgICAgICAgIGVtcHR5Q2xhc3MoZm9ybSk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVycm9yXCIpIHtcclxuICAgICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbi8vIE5PVEU6IENPTlNVTFRBIEVESVRBUiBVU0VSTkFNRVxyXG4kKCdmb3JtI2VkaXRVc2VybmFtZScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGluc2VydFBlcnNvbih0aGlzLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgRURJVEFSIFBBU1NXT1JEXHJcbiQoJ2Zvcm0jZWRpdFBhc3N3b3JkJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgaW5zZXJ0UGVyc29uKHRoaXMsIGZhbHNlKTtcclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBOVUVWTyBFU1RVRElBTlRFXHJcbiQoJ2Zvcm0jaW5zZXJ0U3R1ZGVudCcpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGluc2VydFBlcnNvbih0aGlzKTtcclxufSk7IC8vIE5PVEU6IENPTlNVTFRBIE5VRVZPIFJFU1BPTlNBQkxFXHJcbiQoJ2Zvcm0jaW5zZXJ0UmVsYXRpdmUnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpbnNlcnRQZXJzb24odGhpcyk7XHJcbn0pO1xyXG4vLyBOT1RFOiBDT05TVUxUQSBFTElNSU5BUlxyXG4kKCdmb3JtI2RlbGV0ZVN0dWRlbnQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGxldCBmb3JtID0gdGhpcztcclxuICBsZXQgbW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG4gIGxldCBpZEZvcm0gPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XHJcbiAgbGV0IGlucHV0ID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpO1xyXG4gIGxldCBpZFN0dWRlbnQgPSBpbnB1dC5hdHRyKCdkYXRhLXN0dWRlbnQnKTtcclxuICBsZXQgbmRvY1N0dWRlbnQgPSBpbnB1dC5hdHRyKCdkYXRhLW5kb2MnKTtcclxuICBsZXQgdHJTdHVkZW50ID0gJCgnI3Nob3dTdHVkZW50cycpLmZpbmQoYHRkW2RhdGEtc3R1ZGVudD1cIiR7aWRTdHVkZW50fVwiXWApLmNsb3Nlc3QoJ3RyJyk7XHJcblxyXG5cclxuICBpZiAoaW5wdXQudmFsKCkgIT09IG5kb2NTdHVkZW50KSB7XHJcbiAgICBwaW50YXJTdGlsb3MoJChpbnB1dCksICdlcnJvcicpO1xyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgcGludGFyU3RpbG9zKCQoaW5wdXQpLCAndmFsaWRvJyk7XHJcblxyXG4gICAgbGV0IGRhdGEgPSBgaWRGb3JtPSR7aWRGb3JtfSZpZFN0dWRlbnQ9JHtpZFN0dWRlbnR9JiR7JChmb3JtKS5zZXJpYWxpemUoKX1gO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiQ29vbFwiKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyh0clN0dWRlbnQpO1xyXG5cclxuICAgICAgICAgIHRyU3R1ZGVudC5yZW1vdmUoKTtcclxuICAgICAgICAgIG1vZGFsLmZhZGVPdXQoKTtcclxuICAgICAgICAgIGVtcHR5Q2xhc3MoZm9ybSk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVycm9yXCIpIHtcclxuICAgICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG5cclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0UGVyc29uKGZvcm0sIGNsb3NlTW9kYWwgPSB0cnVlKSB7XHJcblxyXG4gIGxldCBpZEZvcm0gPSAkKGZvcm0pLmF0dHIoJ2lkJyk7XHJcblxyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKGZvcm0pKSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSBgaWRGb3JtPSR7aWRGb3JtfSYkeyQoZm9ybSkuc2VyaWFsaXplKCl9YDtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoZm9ybSkucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuXHJcbiAgICAgICAgICBpZiAoY2xvc2VNb2RhbCkge1xyXG4gICAgICAgICAgICAkKGZvcm0pLmNsb3Nlc3QoJy5tb2RhbCcpLmZhZGVPdXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVtcHR5Q2xhc3MoZm9ybSk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJlcnJvclwiLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiRW50cnkgZHVwbGljYXRlXCIpIHtcclxuXHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJlbnRyeUR1cGxpY2F0ZVwiLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbiQuZ2V0SlNPTignYXNzZXRzL2pzb24vY2l0eXMuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAvLyB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIHZhciBvcHRpb25zID0gW107XHJcbiAgbGV0IHNlbGVjdCA9ICQoJ3NlbGVjdC5jaXR5cycpO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGZvciAodmFyIHogPSAwOyB6IDwgZGF0YVtpXS5jaXVkYWRlcy5sZW5ndGg7IHorKykge1xyXG4gICAgICBvcHRpb25zLnB1c2goXCI8b3B0aW9uIHZhbHVlPSdcIiArIGRhdGFbaV0uY2l1ZGFkZXNbel0gKyBcIic+XCIgKyBkYXRhW2ldLmRlcGFydGFtZW50byArICctJyArIGRhdGFbaV0uY2l1ZGFkZXNbel0gKyBcIjwvb3B0aW9uPlwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbnNbaV0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuJC5nZXRKU09OKCdhc3NldHMvanNvbi9ibG9vZFR5cGVzLmpzb24nLCBmdW5jdGlvbihkYXRhKSB7XHJcblxyXG4gIHZhciBvcHRpb25zID0gW107XHJcbiAgbGV0IHNlbGVjdCA9ICQoJ3NlbGVjdC5ibG9vZFR5cGVzJyk7XHJcblxyXG4gICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXkpIHtcclxuICAgIG9wdGlvbnMucHVzaChcIjxvcHRpb24gdmFsdWU9J1wiICsga2V5ICsgXCInPlwiICsga2V5ICsgXCI8L29wdGlvbj5cIik7XHJcbiAgfSlcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbnNbaV0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuJC5nZXRKU09OKCdhc3NldHMvanNvbi9lcHMuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgdmFyIG9wdGlvbnMgPSBbXTtcclxuICBsZXQgc2VsZWN0ID0gJCgnc2VsZWN0LmVwc3MnKTtcclxuXHJcbiAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGtleSwgZXBzKSB7XHJcblxyXG4gICAgb3B0aW9ucy5wdXNoKFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyBlcHMubmFtZSArIFwiJz5cIiArIGVwcy5uYW1lICsgXCI8L29wdGlvbj5cIik7XHJcbiAgfSlcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbnNbaV0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuJC5nZXRKU09OKCdhc3NldHMvanNvbi9ncmFkZXMuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgdmFyIG9wdGlvbnMgPSBbXTtcclxuICBsZXQgc2VsZWN0ID0gJCgnc2VsZWN0LmdyYWRlcycpO1xyXG5cclxuICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCBlcHMpIHtcclxuXHJcbiAgICBvcHRpb25zLnB1c2goXCI8b3B0aW9uIHZhbHVlPSdcIiArIGVwcy5uYW1lICsgXCInPlwiICsgZXBzLm5hbWUgKyBcIjwvb3B0aW9uPlwiKTtcclxuICB9KVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHNlbGVjdC5hcHBlbmQob3B0aW9uc1tpXSk7XHJcbiAgfVxyXG5cclxufSk7XHJcbiIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIC8vVkFsaWRhciBzaSBlbCBuYXZlZ2Fkb3IgZXMgSUUuIFNpIGxvIGVzLCBkaXJlY2Npb25hcmxvIGEgb3RyYSBwYWdpbmFcclxuICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiVHJpZGVudC9cIikgPiAtMSkge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS5teC9jaHJvbWUvP2JyYW5kPUNIQkYmZHNfa2lkPTQzNzAwMDM0NjMyNzQ4Njk0JnV0bV9zb3VyY2U9YmluZyZ1dG1fbWVkaXVtPWNwYyZ1dG1fY2FtcGFpZ249MTAwNTk5MiUyMCU3QyUyMENocm9tZSUyMFdpbjEwJTIwJTdDJTIwRFIlMjAlN0MlMjBFU1MwMSUyMCU3QyUyME5BJTIwJTdDJTIwTkElMjAlN0MlMjBlcyUyMCU3QyUyMERlc2slMjAlN0MlMjBCSU5HJTIwU0VNJTIwJTdDJTIwQktXUyUyMH4lMjBUb3AlMjBLV0RTJTIwLSUyMEV4YWN0JnV0bV90ZXJtPWRlc2NhcmdhciUyMGNocm9tZSZ1dG1fY29udGVudD1Eb3dubG9hZCUyMENocm9tZSUyMC0lMjBFeGFjdCZnY2xpZD1DTzcwbTZUVC1lVUNGVVRDRFFvZG1pd0RSUSZnY2xzcmM9ZHMnXHJcbiAgfVxyXG4gIC8vRmFkZSBpbiBkZSBsYSBww6FnaW5hIExvZ2luIGFsIGluaWNpYXIgZWwgbmF2ZWdhZG9yXHJcblxyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdzZWN0aW9uI2xvZ2luJykuZmFkZUluKDE1MDApLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSwgNTAwKTtcclxuICAvL0luaWNpYWxpemFyIGxhcyBhbmltYWNpb25lcyBkZSBsYSBsaWJyZXJpYSBXT1cgKGFuaW1hY2lvbmVzKVxyXG4gIHZhciB3b3cgPSBuZXcgV09XKCkuaW5pdCgpO1xyXG5cclxuICAvLyBIYWNlciBxdWUgbG9zIGNoZWNrYm94IGNvbiBlc3RpbG9zIGZ1bmNpb25lblxyXG4gICQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGN1c3RvbUNoZWNrID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdkaXYuY3VzdG9tLWNoZWNrYm94Jyk7XHJcbiAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA/IGN1c3RvbUNoZWNrLnRleHQoJ+KclCcpIDogY3VzdG9tQ2hlY2sudGV4dCgnJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEVmZWN0b3MgbWVudSBidXJndWVyXHJcbiAgJCgnZGl2Lmljb24tbWVudScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IG1lbnUgPSAkKCdkaXYubWVudS1jb250YWluZXInKTtcclxuICAgIGlmIChtZW51LmNzcygnZGlzcGxheScpID09IFwibm9uZVwiKSB7XHJcbiAgICAgIG1lbnUuc2xpZGVEb3duKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtZW51LnNsaWRlVXAoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnI2Fjb3VudGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGFjb3VudENvbnRhaW5lciA9ICQoJy5hY2NvdW50LWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKGFjb3VudENvbnRhaW5lci5jc3MoJ2Rpc3BsYXknKSA9PSBcIm5vbmVcIikge1xyXG4gICAgICBhY291bnRDb250YWluZXIuc2xpZGVEb3duKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY291bnRDb250YWluZXIuc2xpZGVVcCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvL01vZGFsZXNcclxuXHJcbiAgLy8vL0VkaXRhciB1c3VlYXJpb1xyXG4gICQoJyNlZGl0VXNlcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnI21vZGFsRWRpdFVzZXInKS5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLy8vTnVldmEgbWF0cmljdWxhXHJcbiAgJCgnI2FkZFJlbGF0aXZlJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsID0gJCgnI21vZGFsTmV3UmVsYXRpdmUnKTtcclxuICAgIGxldCBjbG9zZXN0TW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG5cclxuXHJcbiAgICBjbG9zZXN0TW9kYWwuY3NzKHtcInotaW5kZXhcIjogXCIxMFwifSlcclxuXHJcbiAgICBtb2RhbC5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCIsXHJcbiAgICB9KTtcclxuXHJcblxyXG4gIH0pO1xyXG5cclxuICAvLy8vTlVFVk8gRVNUVURJQU5URVxyXG4gICQoJyNuZXdTdHVkZW50JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsID0gJCgnI21vZGFsTmV3U3R1ZGVudCcpO1xyXG5cclxuICAgIGxldCBjbG9zZXN0TW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG5cclxuXHJcbiAgICBjbG9zZXN0TW9kYWwuY3NzKHtcInotaW5kZXhcIjogXCIxMFwifSlcclxuXHJcbiAgICBtb2RhbC5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCIsXHJcbiAgICB9KTtcclxuXHJcblxyXG4gIH0pO1xyXG5cclxuXHJcbiAgLy8vL0NlcnJhciBtb2RhbGVzXHJcbiAgJCgnLmJ0bi1jYW5jZWwnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykuY2xvc2VzdCgnLm1vZGFsLC5tb2RhbC10aXR0bGUnKS5mYWRlT3V0KCk7XHJcbiAgICAvLyAkKCcubG9hZGluZycpLmZhZGVPdXQoKTtcclxuICAgICQoJy5hbGVydC1jb250YWluZXInKS5mYWRlT3V0KCk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAkKCcjYnRuLWVkaXRTdHVkZW50JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIGxldCBtb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsJyk7XHJcbiAgICBsZXQgaW5wdXRzID0gbW9kYWwuZmluZCgnc2VsZWN0LGlucHV0Jyk7XHJcblxyXG4gICAgbW9kYWwuZmluZCgnLmJ0bi1zdWJtaXRNb2RhbCcpLmZhZGVJbignNTAwJyk7XHJcbiAgICBpbnB1dHMuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgfSk7XHJcblxyXG5cclxuXHJcblxyXG4gIC8vVGFibGFzXHJcbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MjApIHtcclxuICAgICAgJCgndGFibGUnKS5jc3Moe1xyXG4gICAgICAgIFwib3ZlcmZsb3cteFwiOiBcInNjcm9sbFwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcblxyXG5cclxufSk7XHJcbiJdfQ==
