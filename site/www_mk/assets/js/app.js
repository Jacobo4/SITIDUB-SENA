function e(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function t(e,t,n){const s=$("div.alert-container"),i="div.alert-content";s.find("div.alert-content").empty(),s.removeClass(),s.addClass("alert-container"),"nice"===e?s.addClass("alert-check").find(i).text("Nice !"):"error"===e?s.addClass("alert-error").find(i).text("Hmm, something went wrong"):"serverDown"===e?s.addClass("alert-server").find(i).text("Maybe the server is down :("):"entryDuplicate"===e?s.addClass("alert-duplicate").find(i).text("This user already exists"):"dontExists"===e&&s.addClass("alert-dontExists").find(i).text("This user don't exists"),s.fadeIn(t,"linear",(function(){setTimeout((function(){s.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),n)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function n(e,t,n){return!!(e>=t&e<=n)}function s(t){event.preventDefault();$(t).find("input,select");let s=$(t).find("input:visible,select:visible").length,i=($(t).find('button[type="submit"]'),0);const o=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,a=/^\d+$/;return $(t).find("input,select").each((function(t,s){let c=$(s).val(),d=$(s).prop("checked"),l=$(s).val(),r=$(s).parent().find("div.custom-checkbox");if(0!==$(s).length){switch($(s).attr("type")){case"text":case"password":case"date":e($(s),""!==c?"valido":"error");break;case"identification":a.test($(s).prop("value"))&n(c.length,5,10)?e($(s),"valido"):e($(s),"error");break;case"emailCustom":o.test($(s).prop("value"))?e($(s),"valido"):e($(s),"error");break;case"checkbox":e(r,!1!==d?"valido":"error");break;case"select":e($(s),"default"!=l?"valido":"error")}i+=cumple}})),i===s}var i;$(document).ready((function(){navigator.userAgent.indexOf("Trident/")>-1&&(window.location.href="https://www.google.com.mx/chrome/?brand=CHBF&ds_kid=43700034632748694&utm_source=bing&utm_medium=cpc&utm_campaign=1005992%20%7C%20Chrome%20Win10%20%7C%20DR%20%7C%20ESS01%20%7C%20NA%20%7C%20NA%20%7C%20es%20%7C%20Desk%20%7C%20BING%20SEM%20%7C%20BKWS%20~%20Top%20KWDS%20-%20Exact&utm_term=descargar%20chrome&utm_content=Download%20Chrome%20-%20Exact&gclid=CO70m6TT-eUCFUTCDQodmiwDRQ&gclsrc=ds"),setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#editUser").click((function(){$("#modalEditUser").fadeIn().css({display:"flex"})})),$("#addRelative").click((function(){let e=$("#modalNewRelative");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$("#newStudent").click((function(){let e=$("#modalNewStudent");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$("#btn-editStudent").click((function(){let e=$(this).closest(".modal"),t=e.find("select,input");e.find(".btn-submitModal").fadeIn("500"),t.attr("disabled",!1)})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"services/process.php",type:"POST",async:!0,error:function(e){console.log("response",e),t("serverDown",1e3,3e3)}});var o=$("#searchAll");function a(e){e.val();let n=e;clearTimeout(i),i=setTimeout((function(){let e="idForm=searchStudent&"+n.serialize();console.log(e),$.post("services/process.php",e,(function(e){var n=JSON.parse(e);"Error"==n.success?t("error",1e3,3e3):"Don't exists"==n.success?t("dontExists",1e3,3e3):c(n)}))}),1e3)}function c(e){let t=e.slice(-1)[0].rol,n=null;switch(t){case"Administrador":n='<span class="icon-eye"></span><span class="icon-plus"></span><span class="icon-bin"></span>';break;case"Coordinador":n='<span class="icon-eye"></span>'}e.pop(-1),$("#showStudents").empty(),$.each(e.slice(0),(function(e,t){$.each(t,(function(e,t){null==t&&(t=" ")})),$("#showStudents").append(`\n      <tr>\n        <td data-student="${t.id}">${e+1}</td>\n        <td>${t.descripcion_tdoc}</td>\n        <td data-ndoc="${t.ndoc}">${t.ndoc}</td>\n        <td>${t.nombre1} ${t.nombre2}</td>\n        <td>${t.apellido1} ${t.apellido2}</td>\n        <td class="table-options">${n}</td>\n      </tr>\n      `)})),d()}function d(){$("span.icon-bin").click((function(){let e=$("#modalDelete"),t=e.find("input"),n=$(this).closest("tr").find("td[data-student]").attr("data-student"),s=$(this).closest("tr").find("td[data-ndoc]").attr("data-ndoc");t.attr("data-student",n),t.attr("data-ndoc",s),e.fadeIn().css({display:"flex"})})),$("span.icon-eye").click((function(){let e=$("#modalEditShow"),n=`idForm=showStudentInfo&idStudent=${$(this).closest("tr").find("td[data-student]").attr("data-student")}`;console.log("lo que envio ",n),$.post("services/process.php",n,(function(n){console.log("response student",n);var s=JSON.parse(n);"Error"==s.success?t("error",1e3,3e3):"Don't exists"==s.success?t("dontExists",1e3,3e3):function(e,t){console.table(e[0]);let n=t.find("select,input"),s=t.find(".btn-submitModal");var i={tittle:$("#personName"),names:$("#editNombresEstu"),surnames:$("#editApellidosEstu"),numIdent:$("#editNumIdentEstu"),tdoc:$("#editTipoIdentEstu"),expeditionPlace:$("#editLugarExpe"),birthdate:$("#editFechaNaci"),birthplace:$("#editLugarNaci"),address:$("#editDireccionEstu"),email:$("#editEmailEstu"),tel1:$("#editTelResiEstu"),eps:$("#editEps"),rh:$("#editRh"),income:$("#editEstrato")};t.fadeIn().css({display:"flex"}),n.attr("disabled",!0),s.hide(),i.tittle.attr("data-student",e[0].id),i.tittle.text(`${e[0].nombre1} ${e[0].nombre2} ${e[0].apellido1} ${e[0].apellido2}`),i.names.val(`${e[0].nombre1} ${e[0].nombre2}`),i.surnames.val(`${e[0].apellido1} ${e[0].apellido2}`),i.numIdent.val(`${e[0].ndoc}`),i.tdoc.val(`${e[0].tdoc_persona}`),i.expeditionPlace.val(`${e[0].lugar_expedicion}`),i.birthdate.val(`${e[0].fecha_nacimiento}`),i.birthplace.val(`${e[0].lugar_nacimiento}`),i.address.val(`${e[0].direccion}`),i.email.val(`${e[0].email}`),i.tel1.val(`${e[0].tel1}`),i.eps.val(`${e[0].eps}`),i.rh.val(`${e[0].rh}`),i.income.val(`${e[0].estrato}`)}(s,e)}))})),$("span.icon-plus").click((function(){$("#modalMatricula").fadeIn().css({display:"flex"})}))}function l(e,n=!0){let i=$(e).attr("id"),o=$(e).find("input"),a=$(e).find("select");if(s(e)){var c=`idForm=${i}&${$(e).serialize()}`;console.log(c),$.ajax({data:c,beforeSend:function(){$(e).parent().find(".loading").show()},success:function(s){$(e).parent().find(".loading").fadeOut(1e3);var i=JSON.parse(s);"Cool"==i.success?(n&&$(e).closest(".modal").fadeOut(),o.val("").removeClass("correcto"),a.val("default").removeClass("correcto"),t("nice",1e3,3e3)):"Error"==i.success?t("error",1e3,3e3):"Entry duplicate"==i.success&&t("entryDuplicate",1e3,3e3)}})}}o.keypress((function(){o.val().length>0&&a(o)})),$("span.icon-search").click((function(){o.val().length>0&&a(o)})),$("form#login").submit((function(e){e.preventDefault();var n=$(this).serialize();console.log(n),$.post("services/login.php?log=true",n,(function(e){"Cool"==JSON.parse(e).success?(t("nice",1e3,3e3),location.href="home.php"):t("error",1e3,3e3)}))})),$("#logOut").click((function(){$.post("services/login.php?log=false",(function(e){"Cool"==JSON.parse(e).success?location.href="index.php":t("error",1e3,3e3)}))})),$("form.edit").submit((function(e){let n=this,i=$(n).closest(".modal"),o=$(n).attr("id"),a=$("#personName").attr("data-student");$(n).find("input"),$(n).find("select");$(n).serialize();if(s(n)){let e=`idForm=${o}&idStudent=${a}&${$(n).serialize()}`;console.log(e),$.ajax({data:e,beforeSend:function(){$(n).parent().find(".loading").show()},success:function(e){$(n).parent().find(".loading").fadeOut(1e3);var s=JSON.parse(e);"Cool"==s.success?(i.fadeOut(),t("nice",1e3,3e3)):"Error"==s.success&&t("error",1e3,3e3)}})}})),$("form#matricula").submit((function(e){l(this)})),$("form#editUsername").submit((function(e){l(this,!1)})),$("form#editPassword").submit((function(e){l(this,!1)})),$("form#insertStudent").submit((function(e){l(this)})),$("form#insertRelative").submit((function(e){l(this)})),$("form#deleteStudent").submit((function(n){n.preventDefault();let s=$(this).closest(".modal"),i=$(this).attr("id"),o=$(this).find("input"),a=o.attr("data-student"),c=o.attr("data-ndoc");if(o.val()!==c)e($(o),"error");else{e($(o),"valido");let n=`idForm=${i}&idStudent=${a}&${$(this).serialize()}`;console.log(n),$.ajax({data:n,beforeSend:function(){$(this).parent().find(".loading").show()},success:function(e){$(this).parent().find(".loading").fadeOut(1e3);var n=JSON.parse(e);"Cool"==n.success?(s.fadeOut(),t("nice",1e3,3e3)):"Error"==n.success&&t("error",1e3,3e3)}})}})),$.getJSON("assets/json/citys.json",(function(e){var t=[];let n=$("select.citys");for(var s=0;s<e.length;s++)for(var i=0;i<e[s].ciudades.length;i++)t.push("<option value='"+e[s].ciudades[i]+"'>"+e[s].departamento+"-"+e[s].ciudades[i]+"</option>");for(s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/bloodTypes.json",(function(e){var t=[];let n=$("select.bloodTypes");$.each(e,(function(e){t.push("<option value='"+e+"'>"+e+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/eps.json",(function(e){var t=[];let n=$("select.epss");$.each(e,(function(e,n){t.push("<option value='"+n.name+"'>"+n.name+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fZm9ybXMuanMiLCJfZG9tLmpzIl0sIm5hbWVzIjpbInBpbnRhclN0aWxvcyIsImVsZW0iLCJ0aXBvIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImN1bXBsZSIsInNob3dBbGVydCIsInRpbWVJbiIsInRpbWVPdXQiLCJkaXZBbGVydCIsIiQiLCJjb250ZW50QWxlcnQiLCJmaW5kIiwiZW1wdHkiLCJ0ZXh0IiwiZmFkZUluIiwic2V0VGltZW91dCIsImZhZGVPdXQiLCJhbmltYXRlIiwiYm90dG9tIiwiZHVyYXRpb24iLCJxdWV1ZSIsInZhbGlkYXRlTGVuZ3RoIiwidmFsb3IiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJ2YWxpZGF0ZUZvcm0iLCJmb3JtIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNhbXBvc09ibGlnYSIsImxlbmd0aCIsInRvdGFsIiwicmVnRXhwRW1haWwiLCJyZWdFeHBOdW1iZXIiLCJlYWNoIiwiaSIsImUiLCJ2YWxvcklucHV0IiwidmFsIiwidmFsb3JDaGVja2JveCIsInByb3AiLCJ2YWxvclNlbGVjdCIsImN1c3RvbURpdkNoZWNrIiwicGFyZW50IiwiYXR0ciIsInRlc3QiLCJwZXRpY2lvbiIsImRvY3VtZW50IiwicmVhZHkiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY3NzIiwiZGlzcGxheSIsIldPVyIsImluaXQiLCJjbGljayIsImN1c3RvbUNoZWNrIiwidGhpcyIsIm1lbnUiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiYWNvdW50Q29udGFpbmVyIiwibW9kYWwiLCJjbG9zZXN0Iiwiei1pbmRleCIsImlucHV0cyIsInJlc2l6ZSIsImlubmVyV2lkdGgiLCJvdmVyZmxvdy14IiwiYWpheFNldHVwIiwidXJsIiwidHlwZSIsImFzeW5jIiwiZXJyb3IiLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJidXR0b25TZWFyY2giLCJzZWFyY2hTdHVkZW50IiwiYnV0dG9uIiwiaW5wdXQiLCJjbGVhclRpbWVvdXQiLCJkYXRhIiwic2VyaWFsaXplIiwicG9zdCIsInN0dWRlbnRzIiwiSlNPTiIsInBhcnNlIiwic3VjY2VzcyIsInNob3dTdHVkZW50cyIsInJvbCIsInNsaWNlIiwib3B0aW9ucyIsInBvcCIsImlkIiwic3R1ZGVudCIsImNhbXBvIiwidmFsdWUiLCJhcHBlbmQiLCJkZXNjcmlwY2lvbl90ZG9jIiwibmRvYyIsIm5vbWJyZTEiLCJub21icmUyIiwiYXBlbGxpZG8xIiwiYXBlbGxpZG8yIiwib3B0aW9uc1N0dWRlbnRzIiwibW9kYWxEZWxldGUiLCJpbnB1dE1vZGFsIiwiaWRTdHVkZW50IiwibnVtRG9jU3R1ZGVudCIsIm1vZGFsU2hvdyIsInN0dWRlbnRJbmZvIiwidGFibGUiLCJzYXZlQnV0dG9ucyIsInN0dWRlbnRJbnB1dHMiLCJ0aXR0bGUiLCJuYW1lcyIsInN1cm5hbWVzIiwibnVtSWRlbnQiLCJ0ZG9jIiwiZXhwZWRpdGlvblBsYWNlIiwiYmlydGhkYXRlIiwiYmlydGhwbGFjZSIsImFkZHJlc3MiLCJlbWFpbCIsInRlbDEiLCJlcHMiLCJyaCIsImluY29tZSIsImhpZGUiLCJ0ZG9jX3BlcnNvbmEiLCJsdWdhcl9leHBlZGljaW9uIiwiZmVjaGFfbmFjaW1pZW50byIsImx1Z2FyX25hY2ltaWVudG8iLCJkaXJlY2Npb24iLCJlc3RyYXRvIiwic2hvd1N0dWRlbnRJbmZvIiwiaW5zZXJ0UGVyc29uIiwiY2xvc2VNb2RhbCIsImlkRm9ybSIsInNlbGVjdHMiLCJhamF4IiwiYmVmb3JlU2VuZCIsInNob3ciLCJqc29uRGF0YSIsImtleXByZXNzIiwic3VibWl0IiwibmRvY1N0dWRlbnQiLCJnZXRKU09OIiwic2VsZWN0IiwieiIsImNpdWRhZGVzIiwicHVzaCIsImRlcGFydGFtZW50byIsImtleSIsIm5hbWUiXSwibWFwcGluZ3MiOiJBQUNBLFNBQUFBLEVBQUFDLEVBQUFDLEdBRUEsVUFBQUEsR0FDQUQsRUFBQUUsU0FBQSxT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QTdILE9BQUE0SCxJQUNBMUQsRUFBQTRELEtBQUEsa0JBQUF0RSxFQUFBbkQsR0FBQXdILFNBQUFELEdBQUEsS0FBQXBFLEVBQUFuRCxHQUFBMEgsYUFBQSxJQUFBdkUsRUFBQW5ELEdBQUF3SCxTQUFBRCxHQUFBLGFBR0EsSUFBQXZILEVBQUEsRUFBQUEsRUFBQTZELEVBQUFsRSxPQUFBSyxJQUNBc0gsRUFBQW5ELE9BQUFOLEVBQUE3RCxPQUtBMUIsRUFBQStJLFFBQUEsK0JBQUEsU0FBQWxFLEdBRUEsSUFBQVUsRUFBQSxHQUNBLElBQUF5RCxFQUFBaEosRUFBQSxxQkFFQUEsRUFBQXlCLEtBQUFvRCxHQUFBLFNBQUF3RSxHQUNBOUQsRUFBQTRELEtBQUEsa0JBQUFFLEVBQUEsS0FBQUEsRUFBQSxnQkFHQSxJQUFBLElBQUEzSCxFQUFBLEVBQUFBLEVBQUE2RCxFQUFBbEUsT0FBQUssSUFDQXNILEVBQUFuRCxPQUFBTixFQUFBN0QsT0FLQTFCLEVBQUErSSxRQUFBLHdCQUFBLFNBQUFsRSxHQUVBLElBQUFVLEVBQUEsR0FDQSxJQUFBeUQsRUFBQWhKLEVBQUEsZUFFQUEsRUFBQXlCLEtBQUFvRCxHQUFBLFNBQUF3RSxFQUFBNUIsR0FFQWxDLEVBQUE0RCxLQUFBLGtCQUFBMUIsRUFBQTZCLEtBQUEsS0FBQTdCLEVBQUE2QixLQUFBLGdCQUdBLElBQUEsSUFBQTVILEVBQUEsRUFBQUEsRUFBQTZELEVBQUFsRSxPQUFBSyxJQUNBc0gsRUFBQW5ELE9BQUFOLEVBQUE3RCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8vLy8vLy8vLy8gUGludGEgZXN0aWxvcyBkZSBlcnJvciB5IHZhbGlkb1xyXG5mdW5jdGlvbiBwaW50YXJTdGlsb3MoZWxlbSwgdGlwbykge1xyXG5cclxuICBpZiAodGlwbyA9PT0gJ2Vycm9yJykge1xyXG4gICAgZWxlbS5hZGRDbGFzcygnZXJyb3InKTtcclxuICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgICBjdW1wbGUgPSAwO1xyXG5cclxuICB9IGVsc2UgaWYgKHRpcG8gPT09ICd2YWxpZG8nKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgZWxlbS5yZW1vdmVDbGFzcygnZXJyb3InKTtcclxuICAgIGN1bXBsZSA9IDE7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vIE11ZXN0cmEgYWxlcnRhIGRlIGxvcyBmb3JtdWxhcmlvc1xyXG5mdW5jdGlvbiBzaG93QWxlcnQoY3VtcGxlLCB0aW1lSW4sIHRpbWVPdXQpIHtcclxuXHJcbiAgY29uc3QgZGl2QWxlcnQgPSAkKCdkaXYuYWxlcnQtY29udGFpbmVyJyk7XHJcbiAgY29uc3QgY29udGVudEFsZXJ0ID0gJ2Rpdi5hbGVydC1jb250ZW50JztcclxuXHJcbiAgZGl2QWxlcnQuZmluZCgnZGl2LmFsZXJ0LWNvbnRlbnQnKS5lbXB0eSgpO1xyXG4gIGRpdkFsZXJ0LnJlbW92ZUNsYXNzKCk7XHJcbiAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWNvbnRhaW5lcicpO1xyXG5cclxuICBpZiAoY3VtcGxlID09PSBcIm5pY2VcIikge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWNoZWNrJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ05pY2UgIScpO1xyXG5cclxuICB9IGVsc2UgaWYgKGN1bXBsZSA9PT0gXCJlcnJvclwiKSB7XHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtZXJyb3InKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnSG1tLCBzb21ldGhpbmcgd2VudCB3cm9uZycpO1xyXG5cclxuICB9IGVsc2UgaWYgKGN1bXBsZSA9PT0gXCJzZXJ2ZXJEb3duXCIpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1zZXJ2ZXInKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnTWF5YmUgdGhlIHNlcnZlciBpcyBkb3duIDooJyk7XHJcblxyXG4gIH0gZWxzZSBpZiAoY3VtcGxlID09PSBcImVudHJ5RHVwbGljYXRlXCIpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1kdXBsaWNhdGUnKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnVGhpcyB1c2VyIGFscmVhZHkgZXhpc3RzJyk7XHJcblxyXG4gIH0gZWxzZSBpZiAoY3VtcGxlID09PSBcImRvbnRFeGlzdHNcIikge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWRvbnRFeGlzdHMnKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dChcIlRoaXMgdXNlciBkb24ndCBleGlzdHNcIik7XHJcbiAgfVxyXG5cclxuICBkaXZBbGVydC5mYWRlSW4odGltZUluLCBcImxpbmVhclwiLCBmdW5jdGlvbigpIHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGRpdkFsZXJ0LmZhZGVPdXQoKS5hbmltYXRlKHtcclxuICAgICAgICAnYm90dG9tJzogJzAlJ1xyXG4gICAgICB9LCB7XHJcbiAgICAgICAgZHVyYXRpb246ICdzbG93JyxcclxuICAgICAgICBxdWV1ZTogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9LCB0aW1lT3V0KTtcclxuICB9KS5hbmltYXRlKHtcclxuICAgICdib3R0b20nOiAnMjB2aCdcclxuICB9LCB7XHJcbiAgICBkdXJhdGlvbjogJ3Nsb3cnLFxyXG4gICAgcXVldWU6IGZhbHNlXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8gVmFsaWRhIGxvbmdpdHVkXHJcbmZ1bmN0aW9uIHZhbGlkYXRlTGVuZ3RoKHZhbG9yLCBtaW5MZW5ndGgsIG1heExlbmd0aCkge1xyXG4gIGlmICgodmFsb3IgPj0gbWluTGVuZ3RoKSAmICh2YWxvciA8PSBtYXhMZW5ndGgpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGZvcm0pIHtcclxuXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICBsZXQgaW5wdXRzID0gJChmb3JtKS5maW5kKCdpbnB1dCxzZWxlY3QnKTtcclxuICBsZXQgY2FtcG9zT2JsaWdhID0gJChmb3JtKS5maW5kKCdpbnB1dDp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlJykubGVuZ3RoO1xyXG4gIGxldCBib3RvblN1Ym1pdCA9ICQoZm9ybSkuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHJcbiAgLy9WYXJpYWJsZSBwYXJhIGNvbXByYXIgbG9zIGlucHV0cyBxdWUgZXN0YW4gYmllbiBjb24gbGEgY2FudGlkYWQgZGUgaW5wdXRzIGRlbCBmb3JtdWxhcmlvXHJcbiAgbGV0IHRvdGFsID0gMDtcclxuICAvL2V4cHJlc2lvbmVzIFJlZ3VsYXJlc1xyXG4gIGNvbnN0IHJlZ0V4cEVtYWlsID0gL15bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT8kLztcclxuICBjb25zdCByZWdFeHBOdW1iZXIgPSAvXlxcZCskLztcclxuXHJcblxyXG5cclxuXHJcbiAgLy8vL1ZhbGlkYXIgbG9zIGNhbXBvc1xyXG4gICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0JykuZWFjaChmdW5jdGlvbihpLCBlKSB7XHJcblxyXG5cclxuICAgIGxldCB2YWxvcklucHV0ID0gJChlKS52YWwoKTtcclxuICAgIGxldCB2YWxvckNoZWNrYm94ID0gJChlKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICBsZXQgdmFsb3JTZWxlY3QgPSAkKGUpLnZhbCgpO1xyXG4gICAgbGV0IGN1c3RvbURpdkNoZWNrID0gJChlKS5wYXJlbnQoKS5maW5kKCdkaXYuY3VzdG9tLWNoZWNrYm94Jyk7XHJcblxyXG5cclxuICAgIGlmICgkKGUpLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICBzd2l0Y2ggKCQoZSkuYXR0cigndHlwZScpKSB7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwicGFzc3dvcmRcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiaWRlbnRpZmljYXRpb25cIjpcclxuICAgICAgICAgIGlmICgocmVnRXhwTnVtYmVyLnRlc3QoJChlKS5wcm9wKCd2YWx1ZScpKSkgJiAodmFsaWRhdGVMZW5ndGgodmFsb3JJbnB1dC5sZW5ndGgsIDUsIDEwKSkpIHtcclxuICAgICAgICAgICAgcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiZW1haWxDdXN0b21cIjpcclxuICAgICAgICAgIHJlZ0V4cEVtYWlsLnRlc3QoJChlKS5wcm9wKCd2YWx1ZScpKSA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XHJcbiAgICAgICAgICB2YWxvckNoZWNrYm94ICE9PSBmYWxzZSA/IHBpbnRhclN0aWxvcyhjdXN0b21EaXZDaGVjaywgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKGN1c3RvbURpdkNoZWNrLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XHJcbiAgICAgICAgICB2YWxvclNlbGVjdCAhPSBcImRlZmF1bHRcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICB0b3RhbCA9IHRvdGFsICsgY3VtcGxlO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxuXHJcbiAgaWYgKHRvdGFsID09PSBjYW1wb3NPYmxpZ2EpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxufVxyXG4vLyBOT1RFOiBDT05GSUcgQ09OU1VMVEFTXHJcbiQuYWpheFNldHVwKHtcclxuICB1cmw6ICdzZXJ2aWNlcy9wcm9jZXNzLnBocCcsXHJcbiAgdHlwZTogJ1BPU1QnLFxyXG4gIGFzeW5jOiB0cnVlLFxyXG4gIGVycm9yOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlJywgcmVzcG9uc2UpO1xyXG4gICAgc2hvd0FsZXJ0KFwic2VydmVyRG93blwiLCAxMDAwLCAzMDAwKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8vLyBOT1RFOiBCVVNDQURPUlxyXG5cclxudmFyIHBldGljaW9uO1xyXG52YXIgYnV0dG9uU2VhcmNoID0gJCgnI3NlYXJjaEFsbCcpO1xyXG5cclxuXHJcbmJ1dHRvblNlYXJjaC5rZXlwcmVzcyhmdW5jdGlvbigpIHtcclxuICBsZXQgYnV0dG9uVmFsdWUgPSBidXR0b25TZWFyY2gudmFsKCk7XHJcblxyXG4gIGlmIChidXR0b25WYWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBzZWFyY2hTdHVkZW50KGJ1dHRvblNlYXJjaCk7XHJcbiAgfVxyXG59KTtcclxuJCgnc3Bhbi5pY29uLXNlYXJjaCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGxldCBidXR0b25WYWx1ZSA9IGJ1dHRvblNlYXJjaC52YWwoKTtcclxuICBpZiAoYnV0dG9uVmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgc2VhcmNoU3R1ZGVudChidXR0b25TZWFyY2gpO1xyXG4gIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hTdHVkZW50KGJ1dHRvbikge1xyXG5cclxuICBsZXQgdmFsdWUgPSBidXR0b24udmFsKCk7XHJcbiAgbGV0IGlucHV0ID0gYnV0dG9uO1xyXG5cclxuXHJcbiAgY2xlYXJUaW1lb3V0KHBldGljaW9uKTtcclxuICBwZXRpY2lvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZGF0YSA9ICdpZEZvcm09c2VhcmNoU3R1ZGVudCYnICsgaW5wdXQuc2VyaWFsaXplKCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAkLnBvc3QoXCJzZXJ2aWNlcy9wcm9jZXNzLnBocFwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgIHZhciBzdHVkZW50cyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgaWYgKHN0dWRlbnRzLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudHMuc3VjY2VzcyA9PSBcIkRvbid0IGV4aXN0c1wiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZG9udEV4aXN0c1wiLCAxMDAwLCAzMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgIHNob3dTdHVkZW50cyhzdHVkZW50cyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9LCAxMDAwKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dTdHVkZW50cyhzdHVkZW50cykge1xyXG4gIGxldCByb2wgPSBzdHVkZW50cy5zbGljZSgtMSlbMF0ucm9sO1xyXG4gIGxldCBvcHRpb25zID0gbnVsbDtcclxuXHJcblxyXG4gIHN3aXRjaCAocm9sKSB7XHJcbiAgICBjYXNlICdBZG1pbmlzdHJhZG9yJzpcclxuICAgICAgb3B0aW9ucyA9IGA8c3BhbiBjbGFzcz1cImljb24tZXllXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1wbHVzXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1iaW5cIj48L3NwYW4+YDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdDb29yZGluYWRvcic6XHJcbiAgICAgIG9wdGlvbnMgPSBgPHNwYW4gY2xhc3M9XCJpY29uLWV5ZVwiPjwvc3Bhbj5gO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gTk9URTogRGVsZXRlIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5IGN1eiBpdCdzIHRoZSByb2xcclxuICBzdHVkZW50cy5wb3AoLTEpO1xyXG5cclxuICAkKCcjc2hvd1N0dWRlbnRzJykuZW1wdHkoKTtcclxuICAkLmVhY2goc3R1ZGVudHMuc2xpY2UoMCksIGZ1bmN0aW9uKGlkLCBzdHVkZW50KSB7XHJcblxyXG5cclxuICAgICQuZWFjaChzdHVkZW50LCBmdW5jdGlvbihjYW1wbywgdmFsdWUpIHtcclxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuXHJcbiAgICAgICAgdmFsdWUgPSBcIiBcIjtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnI3Nob3dTdHVkZW50cycpLmFwcGVuZChcclxuICAgICAgYFxyXG4gICAgICA8dHI+XHJcbiAgICAgICAgPHRkIGRhdGEtc3R1ZGVudD1cIiR7c3R1ZGVudC5pZH1cIj4ke2lkKzF9PC90ZD5cclxuICAgICAgICA8dGQ+JHtzdHVkZW50LmRlc2NyaXBjaW9uX3Rkb2N9PC90ZD5cclxuICAgICAgICA8dGQgZGF0YS1uZG9jPVwiJHtzdHVkZW50Lm5kb2N9XCI+JHtzdHVkZW50Lm5kb2N9PC90ZD5cclxuICAgICAgICA8dGQ+JHtzdHVkZW50Lm5vbWJyZTF9ICR7c3R1ZGVudC5ub21icmUyfTwvdGQ+XHJcbiAgICAgICAgPHRkPiR7c3R1ZGVudC5hcGVsbGlkbzF9ICR7c3R1ZGVudC5hcGVsbGlkbzJ9PC90ZD5cclxuICAgICAgICA8dGQgY2xhc3M9XCJ0YWJsZS1vcHRpb25zXCI+JHtvcHRpb25zfTwvdGQ+XHJcbiAgICAgIDwvdHI+XHJcbiAgICAgIGBcclxuICAgICk7XHJcblxyXG4gIH0pO1xyXG5cclxuICBvcHRpb25zU3R1ZGVudHMoKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wdGlvbnNTdHVkZW50cygpIHtcclxuICAvLy8vRWxpbWluYXIgRVNUVURJQU5URVxyXG5cclxuICAkKCdzcGFuLmljb24tYmluJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsRGVsZXRlID0gJCgnI21vZGFsRGVsZXRlJyk7XHJcbiAgICBsZXQgaW5wdXRNb2RhbCA9IG1vZGFsRGVsZXRlLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICBsZXQgaWRTdHVkZW50ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmZpbmQoJ3RkW2RhdGEtc3R1ZGVudF0nKS5hdHRyKCdkYXRhLXN0dWRlbnQnKTtcclxuICAgIGxldCBudW1Eb2NTdHVkZW50ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmZpbmQoJ3RkW2RhdGEtbmRvY10nKS5hdHRyKCdkYXRhLW5kb2MnKTs7XHJcblxyXG4gICAgaW5wdXRNb2RhbC5hdHRyKCdkYXRhLXN0dWRlbnQnLCBpZFN0dWRlbnQpO1xyXG4gICAgaW5wdXRNb2RhbC5hdHRyKCdkYXRhLW5kb2MnLCBudW1Eb2NTdHVkZW50KTtcclxuXHJcbiAgICBtb2RhbERlbGV0ZS5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gICAgLy8gbW9kYWxEZWxldGUuZmluZCgnaW5wdXQnKS5hdHRyKCdkYXRhLXN0dWRlbnQnLClcclxuICB9KTtcclxuXHJcbiAgLy8vL01vc3RyYXIgSU5GTyAvIEVESVRBUlxyXG4gICQoJ3NwYW4uaWNvbi1leWUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxTaG93ID0gJCgnI21vZGFsRWRpdFNob3cnKTtcclxuICAgIGxldCBpZFN0dWRlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGRbZGF0YS1zdHVkZW50XScpLmF0dHIoJ2RhdGEtc3R1ZGVudCcpO1xyXG5cclxuICAgIGxldCBkYXRhID0gYGlkRm9ybT1zaG93U3R1ZGVudEluZm8maWRTdHVkZW50PSR7aWRTdHVkZW50fWA7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ2xvIHF1ZSBlbnZpbyAnLCBkYXRhKTtcclxuICAgICQucG9zdChcInNlcnZpY2VzL3Byb2Nlc3MucGhwXCIsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZSBzdHVkZW50JywgcmVzcG9uc2UpO1xyXG4gICAgICB2YXIgc3R1ZGVudEluZm8gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgIGlmIChzdHVkZW50SW5mby5zdWNjZXNzID09IFwiRXJyb3JcIikge1xyXG4gICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0dWRlbnRJbmZvLnN1Y2Nlc3MgPT0gXCJEb24ndCBleGlzdHNcIikge1xyXG4gICAgICAgIHNob3dBbGVydChcImRvbnRFeGlzdHNcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd1N0dWRlbnRJbmZvKHN0dWRlbnRJbmZvLCBtb2RhbFNob3cpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gc2hvd1N0dWRlbnRJbmZvKHN0dWRlbnRJbmZvLCBtb2RhbFNob3cpIHtcclxuXHJcbiAgICBjb25zb2xlLnRhYmxlKHN0dWRlbnRJbmZvWzBdKTtcclxuXHJcbiAgICBsZXQgaW5wdXRzID0gbW9kYWxTaG93LmZpbmQoJ3NlbGVjdCxpbnB1dCcpO1xyXG4gICAgbGV0IHNhdmVCdXR0b25zID0gbW9kYWxTaG93LmZpbmQoJy5idG4tc3VibWl0TW9kYWwnKTtcclxuXHJcbiAgICB2YXIgc3R1ZGVudElucHV0cyA9IHtcclxuICAgICAgdGl0dGxlOiAkKCcjcGVyc29uTmFtZScpLFxyXG4gICAgICBuYW1lczogJCgnI2VkaXROb21icmVzRXN0dScpLFxyXG4gICAgICBzdXJuYW1lczogJCgnI2VkaXRBcGVsbGlkb3NFc3R1JyksXHJcbiAgICAgIG51bUlkZW50OiAkKCcjZWRpdE51bUlkZW50RXN0dScpLFxyXG4gICAgICB0ZG9jOiAkKCcjZWRpdFRpcG9JZGVudEVzdHUnKSxcclxuICAgICAgZXhwZWRpdGlvblBsYWNlOiAkKCcjZWRpdEx1Z2FyRXhwZScpLFxyXG4gICAgICBiaXJ0aGRhdGU6ICQoJyNlZGl0RmVjaGFOYWNpJyksXHJcbiAgICAgIGJpcnRocGxhY2U6ICQoJyNlZGl0THVnYXJOYWNpJyksXHJcbiAgICAgIGFkZHJlc3M6ICQoJyNlZGl0RGlyZWNjaW9uRXN0dScpLFxyXG4gICAgICBlbWFpbDogJCgnI2VkaXRFbWFpbEVzdHUnKSxcclxuICAgICAgdGVsMTogJCgnI2VkaXRUZWxSZXNpRXN0dScpLFxyXG4gICAgICBlcHM6ICQoJyNlZGl0RXBzJyksXHJcbiAgICAgIHJoOiAkKCcjZWRpdFJoJyksXHJcbiAgICAgIGluY29tZTogJCgnI2VkaXRFc3RyYXRvJylcclxuICAgIH1cclxuICAgIG1vZGFsU2hvdy5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gICAgaW5wdXRzLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICBzYXZlQnV0dG9ucy5oaWRlKCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRpdHRsZS5hdHRyKGBkYXRhLXN0dWRlbnRgLCBzdHVkZW50SW5mb1swXS5pZCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRpdHRsZS50ZXh0KGAke3N0dWRlbnRJbmZvWzBdLm5vbWJyZTF9ICR7c3R1ZGVudEluZm9bMF0ubm9tYnJlMn0gJHtzdHVkZW50SW5mb1swXS5hcGVsbGlkbzF9ICR7c3R1ZGVudEluZm9bMF0uYXBlbGxpZG8yfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5uYW1lcy52YWwoYCR7c3R1ZGVudEluZm9bMF0ubm9tYnJlMX0gJHtzdHVkZW50SW5mb1swXS5ub21icmUyfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5zdXJuYW1lcy52YWwoYCR7c3R1ZGVudEluZm9bMF0uYXBlbGxpZG8xfSAke3N0dWRlbnRJbmZvWzBdLmFwZWxsaWRvMn1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMubnVtSWRlbnQudmFsKGAke3N0dWRlbnRJbmZvWzBdLm5kb2N9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRkb2MudmFsKGAke3N0dWRlbnRJbmZvWzBdLnRkb2NfcGVyc29uYX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuZXhwZWRpdGlvblBsYWNlLnZhbChgJHtzdHVkZW50SW5mb1swXS5sdWdhcl9leHBlZGljaW9ufWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5iaXJ0aGRhdGUudmFsKGAke3N0dWRlbnRJbmZvWzBdLmZlY2hhX25hY2ltaWVudG99YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmJpcnRocGxhY2UudmFsKGAke3N0dWRlbnRJbmZvWzBdLmx1Z2FyX25hY2ltaWVudG99YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmFkZHJlc3MudmFsKGAke3N0dWRlbnRJbmZvWzBdLmRpcmVjY2lvbn1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuZW1haWwudmFsKGAke3N0dWRlbnRJbmZvWzBdLmVtYWlsfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy50ZWwxLnZhbChgJHtzdHVkZW50SW5mb1swXS50ZWwxfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5lcHMudmFsKGAke3N0dWRlbnRJbmZvWzBdLmVwc31gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMucmgudmFsKGAke3N0dWRlbnRJbmZvWzBdLnJofWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5pbmNvbWUudmFsKGAke3N0dWRlbnRJbmZvWzBdLmVzdHJhdG99YCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICB9XHJcblxyXG5cclxuICAvLy8vTlVFVkEgTUFUUklDVUxBXHJcbiAgJCgnc3Bhbi5pY29uLXBsdXMnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxNYXRyaSA9ICQoJyNtb2RhbE1hdHJpY3VsYScpO1xyXG5cclxuICAgIG1vZGFsTWF0cmkuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBMT0dJTlxyXG4kKCdmb3JtI2xvZ2luJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG4gIHZhciBkYXRhID0gZm9ybXVsYXJpby5zZXJpYWxpemUoKTtcclxuICBjb25zb2xlLmxvZyhkYXRhKTtcclxuXHJcbiAgJC5wb3N0KFwic2VydmljZXMvbG9naW4ucGhwP2xvZz10cnVlXCIsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkNvb2xcIikge1xyXG5cclxuICAgICAgc2hvd0FsZXJ0KFwibmljZVwiLCAxMDAwLCAzMDAwKTtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICdob21lLnBocCc7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59KTtcclxuXHJcbi8vIE5PVEU6IExPRyBPVVRcclxuJCgnI2xvZ091dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICQucG9zdChcInNlcnZpY2VzL2xvZ2luLnBocD9sb2c9ZmFsc2VcIiwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICdpbmRleC5waHAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgRURJVFxyXG4kKCdmb3JtLmVkaXQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBsZXQgZm9ybSA9IHRoaXM7XHJcbiAgbGV0IG1vZGFsID0gJChmb3JtKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICBsZXQgaWRGb3JtID0gJChmb3JtKS5hdHRyKCdpZCcpO1xyXG4gIGxldCBpZFN0dWRlbnQgPSAkKCcjcGVyc29uTmFtZScpLmF0dHIoJ2RhdGEtc3R1ZGVudCcpO1xyXG4gIGxldCBpbnB1dHMgPSAkKGZvcm0pLmZpbmQoJ2lucHV0Jyk7XHJcbiAgbGV0IHNlbGVjdHMgPSAkKGZvcm0pLmZpbmQoJ3NlbGVjdCcpO1xyXG4gIHZhciBkYXRhID0gJChmb3JtKS5zZXJpYWxpemUoKTtcclxuXHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0oZm9ybSkpIHtcclxuXHJcbiAgICBsZXQgZGF0YSA9IGBpZEZvcm09JHtpZEZvcm19JmlkU3R1ZGVudD0ke2lkU3R1ZGVudH0mJHskKGZvcm0pLnNlcmlhbGl6ZSgpfWA7XHJcblxyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICQoZm9ybSkucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiQ29vbFwiKSB7XHJcbiAgICAgICAgICBtb2RhbC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJlcnJvclwiLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuLy8gTk9URTogQ09OU1VMVEEgTlVFVkEgTUFUUklDVUxBXHJcbiQoJ2Zvcm0jbWF0cmljdWxhJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgaW5zZXJ0UGVyc29uKHRoaXMpO1xyXG59KTtcclxuLy8gTk9URTogQ09OU1VMVEEgRURJVEFSIFVTRVJOQU1FXHJcbiQoJ2Zvcm0jZWRpdFVzZXJuYW1lJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgaW5zZXJ0UGVyc29uKHRoaXMsIGZhbHNlKTtcclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBFRElUQVIgUEFTU1dPUkRcclxuJCgnZm9ybSNlZGl0UGFzc3dvcmQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpbnNlcnRQZXJzb24odGhpcywgZmFsc2UpO1xyXG59KTtcclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIE5VRVZPIEVTVFVESUFOVEVcclxuJCgnZm9ybSNpbnNlcnRTdHVkZW50Jykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgaW5zZXJ0UGVyc29uKHRoaXMpO1xyXG59KTsgLy8gTk9URTogQ09OU1VMVEEgTlVFVk8gUkVTUE9OU0FCTEVcclxuJCgnZm9ybSNpbnNlcnRSZWxhdGl2ZScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGluc2VydFBlcnNvbih0aGlzKTtcclxufSk7XHJcbi8vIE5PVEU6IENPTlNVTFRBIEVMSU1JTkFSXHJcbiQoJ2Zvcm0jZGVsZXRlU3R1ZGVudCcpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbGV0IG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICBsZXQgaWRGb3JtID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xyXG4gIGxldCBpbnB1dCA9ICQodGhpcykuZmluZCgnaW5wdXQnKTtcclxuICBsZXQgaWRTdHVkZW50ID0gaW5wdXQuYXR0cignZGF0YS1zdHVkZW50Jyk7XHJcbiAgbGV0IG5kb2NTdHVkZW50ID0gaW5wdXQuYXR0cignZGF0YS1uZG9jJyk7XHJcblxyXG4gIGlmIChpbnB1dC52YWwoKSAhPT0gbmRvY1N0dWRlbnQpIHtcclxuICAgIHBpbnRhclN0aWxvcygkKGlucHV0KSwgJ2Vycm9yJyk7XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICBwaW50YXJTdGlsb3MoJChpbnB1dCksICd2YWxpZG8nKTtcclxuXHJcbiAgICBsZXQgZGF0YSA9IGBpZEZvcm09JHtpZEZvcm19JmlkU3R1ZGVudD0ke2lkU3R1ZGVudH0mJHskKHRoaXMpLnNlcmlhbGl6ZSgpfWA7XHJcblxyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiQ29vbFwiKSB7XHJcbiAgICAgICAgICBtb2RhbC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVycm9yXCIpIHtcclxuICAgICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG5cclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0UGVyc29uKGZvcm0sIGNsb3NlTW9kYWwgPSB0cnVlKSB7XHJcblxyXG4gIGxldCBpZEZvcm0gPSAkKGZvcm0pLmF0dHIoJ2lkJyk7XHJcbiAgbGV0IGlucHV0cyA9ICQoZm9ybSkuZmluZCgnaW5wdXQnKTtcclxuICBsZXQgc2VsZWN0cyA9ICQoZm9ybSkuZmluZCgnc2VsZWN0Jyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0oZm9ybSkpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IGBpZEZvcm09JHtpZEZvcm19JiR7JChmb3JtKS5zZXJpYWxpemUoKX1gO1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkNvb2xcIikge1xyXG5cclxuICAgICAgICAgIGlmIChjbG9zZU1vZGFsKSB7XHJcbiAgICAgICAgICAgICQoZm9ybSkuY2xvc2VzdCgnLm1vZGFsJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXRzLnZhbCgnJykucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgICAgICAgICBzZWxlY3RzLnZhbCgnZGVmYXVsdCcpLnJlbW92ZUNsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KFwibmljZVwiLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiRXJyb3JcIikge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVudHJ5IGR1cGxpY2F0ZVwiKSB7XHJcblxyXG4gICAgICAgICAgc2hvd0FsZXJ0KFwiZW50cnlEdXBsaWNhdGVcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4kLmdldEpTT04oJ2Fzc2V0cy9qc29uL2NpdHlzLmpzb24nLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgLy8gdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICB2YXIgb3B0aW9ucyA9IFtdO1xyXG4gIGxldCBzZWxlY3QgPSAkKCdzZWxlY3QuY2l0eXMnKTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBmb3IgKHZhciB6ID0gMDsgeiA8IGRhdGFbaV0uY2l1ZGFkZXMubGVuZ3RoOyB6KyspIHtcclxuICAgICAgb3B0aW9ucy5wdXNoKFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyBkYXRhW2ldLmNpdWRhZGVzW3pdICsgXCInPlwiICsgZGF0YVtpXS5kZXBhcnRhbWVudG8gKyAnLScgKyBkYXRhW2ldLmNpdWRhZGVzW3pdICsgXCI8L29wdGlvbj5cIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb25zW2ldKTtcclxuICB9XHJcblxyXG59KTtcclxuXHJcbiQuZ2V0SlNPTignYXNzZXRzL2pzb24vYmxvb2RUeXBlcy5qc29uJywgZnVuY3Rpb24oZGF0YSkge1xyXG5cclxuICB2YXIgb3B0aW9ucyA9IFtdO1xyXG4gIGxldCBzZWxlY3QgPSAkKCdzZWxlY3QuYmxvb2RUeXBlcycpO1xyXG5cclxuICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5KSB7XHJcbiAgICBvcHRpb25zLnB1c2goXCI8b3B0aW9uIHZhbHVlPSdcIiArIGtleSArIFwiJz5cIiArIGtleSArIFwiPC9vcHRpb24+XCIpO1xyXG4gIH0pXHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb25zW2ldKTtcclxuICB9XHJcblxyXG59KTtcclxuXHJcbiQuZ2V0SlNPTignYXNzZXRzL2pzb24vZXBzLmpzb24nLCBmdW5jdGlvbihkYXRhKSB7XHJcblxyXG4gIHZhciBvcHRpb25zID0gW107XHJcbiAgbGV0IHNlbGVjdCA9ICQoJ3NlbGVjdC5lcHNzJyk7XHJcblxyXG4gICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXksIGVwcykge1xyXG5cclxuICAgIG9wdGlvbnMucHVzaChcIjxvcHRpb24gdmFsdWU9J1wiICsgZXBzLm5hbWUgKyBcIic+XCIgKyBlcHMubmFtZSArIFwiPC9vcHRpb24+XCIpO1xyXG4gIH0pXHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb25zW2ldKTtcclxuICB9XHJcblxyXG59KTtcclxuIiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgLy9WQWxpZGFyIHNpIGVsIG5hdmVnYWRvciBlcyBJRS4gU2kgbG8gZXMsIGRpcmVjY2lvbmFybG8gYSBvdHJhIHBhZ2luYVxyXG4gIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJUcmlkZW50L1wiKSA+IC0xKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tLm14L2Nocm9tZS8/YnJhbmQ9Q0hCRiZkc19raWQ9NDM3MDAwMzQ2MzI3NDg2OTQmdXRtX3NvdXJjZT1iaW5nJnV0bV9tZWRpdW09Y3BjJnV0bV9jYW1wYWlnbj0xMDA1OTkyJTIwJTdDJTIwQ2hyb21lJTIwV2luMTAlMjAlN0MlMjBEUiUyMCU3QyUyMEVTUzAxJTIwJTdDJTIwTkElMjAlN0MlMjBOQSUyMCU3QyUyMGVzJTIwJTdDJTIwRGVzayUyMCU3QyUyMEJJTkclMjBTRU0lMjAlN0MlMjBCS1dTJTIwfiUyMFRvcCUyMEtXRFMlMjAtJTIwRXhhY3QmdXRtX3Rlcm09ZGVzY2FyZ2FyJTIwY2hyb21lJnV0bV9jb250ZW50PURvd25sb2FkJTIwQ2hyb21lJTIwLSUyMEV4YWN0JmdjbGlkPUNPNzBtNlRULWVVQ0ZVVENEUW9kbWl3RFJRJmdjbHNyYz1kcydcclxuICB9XHJcbiAgLy9GYWRlIGluIGRlIGxhIHDDoWdpbmEgTG9naW4gYWwgaW5pY2lhciBlbCBuYXZlZ2Fkb3JcclxuXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICQoJ3NlY3Rpb24jbG9naW4nKS5mYWRlSW4oMTUwMCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9LCA1MDApO1xyXG4gIC8vSW5pY2lhbGl6YXIgbGFzIGFuaW1hY2lvbmVzIGRlIGxhIGxpYnJlcmlhIFdPVyAoYW5pbWFjaW9uZXMpXHJcbiAgdmFyIHdvdyA9IG5ldyBXT1coKS5pbml0KCk7XHJcblxyXG4gIC8vIEhhY2VyIHF1ZSBsb3MgY2hlY2tib3ggY29uIGVzdGlsb3MgZnVuY2lvbmVuXHJcbiAgJCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY3VzdG9tQ2hlY2sgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2Rpdi5jdXN0b20tY2hlY2tib3gnKTtcclxuICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcpID8gY3VzdG9tQ2hlY2sudGV4dCgn4pyUJykgOiBjdXN0b21DaGVjay50ZXh0KCcnKTtcclxuICB9KTtcclxuXHJcbiAgLy8gRWZlY3RvcyBtZW51IGJ1cmd1ZXJcclxuICAkKCdkaXYuaWNvbi1tZW51JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgbWVudSA9ICQoJ2Rpdi5tZW51LWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKG1lbnUuY3NzKCdkaXNwbGF5JykgPT0gXCJub25lXCIpIHtcclxuICAgICAgbWVudS5zbGlkZURvd24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1lbnUuc2xpZGVVcCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcjYWNvdW50YnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgYWNvdW50Q29udGFpbmVyID0gJCgnLmFjY291bnQtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoYWNvdW50Q29udGFpbmVyLmNzcygnZGlzcGxheScpID09IFwibm9uZVwiKSB7XHJcbiAgICAgIGFjb3VudENvbnRhaW5lci5zbGlkZURvd24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFjb3VudENvbnRhaW5lci5zbGlkZVVwKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vTW9kYWxlc1xyXG5cclxuICAvLy8vRWRpdGFyIHVzdWVhcmlvXHJcbiAgJCgnI2VkaXRVc2VyJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcjbW9kYWxFZGl0VXNlcicpLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vLy9OdWV2YSBtYXRyaWN1bGFcclxuICAkKCcjYWRkUmVsYXRpdmUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWwgPSAkKCcjbW9kYWxOZXdSZWxhdGl2ZScpO1xyXG4gICAgbGV0IGNsb3Nlc3RNb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsJyk7XHJcblxyXG5cclxuICAgIGNsb3Nlc3RNb2RhbC5jc3Moe1wiei1pbmRleFwiOiBcIjEwXCJ9KVxyXG5cclxuICAgIG1vZGFsLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIixcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgfSk7XHJcblxyXG4gIC8vLy9OVUVWTyBFU1RVRElBTlRFXHJcbiAgJCgnI25ld1N0dWRlbnQnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWwgPSAkKCcjbW9kYWxOZXdTdHVkZW50Jyk7XHJcblxyXG4gICAgbGV0IGNsb3Nlc3RNb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsJyk7XHJcblxyXG5cclxuICAgIGNsb3Nlc3RNb2RhbC5jc3Moe1wiei1pbmRleFwiOiBcIjEwXCJ9KVxyXG5cclxuICAgIG1vZGFsLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIixcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgfSk7XHJcblxyXG5cclxuICAvLy8vQ2VycmFyIG1vZGFsZXNcclxuICAkKCcuYnRuLWNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwsLm1vZGFsLXRpdHRsZScpLmZhZGVPdXQoKTtcclxuICAgIC8vICQoJy5sb2FkaW5nJykuZmFkZU91dCgpO1xyXG4gICAgJCgnLmFsZXJ0LWNvbnRhaW5lcicpLmZhZGVPdXQoKTtcclxuICB9KTtcclxuXHJcblxyXG4gICQoJyNidG4tZWRpdFN0dWRlbnQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgbGV0IG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICAgIGxldCBpbnB1dHMgPSBtb2RhbC5maW5kKCdzZWxlY3QsaW5wdXQnKTtcclxuXHJcbiAgICBtb2RhbC5maW5kKCcuYnRuLXN1Ym1pdE1vZGFsJykuZmFkZUluKCc1MDAnKTtcclxuICAgIGlucHV0cy5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgLy9UYWJsYXNcclxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDUyMCkge1xyXG4gICAgICAkKCd0YWJsZScpLmNzcyh7XHJcbiAgICAgICAgXCJvdmVyZmxvdy14XCI6IFwic2Nyb2xsXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuXHJcblxyXG59KTtcclxuIl19
