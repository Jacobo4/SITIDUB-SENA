var e=3;function t(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function i(e,t,i){const a=$("div.alert-container");a.find("div.alert-content").empty(),1===e?a.addClass("alert-check").find("div.alert-content").text("Nice !"):2===e?a.addClass("alert-error").find("div.alert-content").text("Hmm, something went wrong"):3===e&&a.addClass("alert-server").find("div.alert-content").text("Maybe the server is down :("),a.fadeIn(t,"linear",(function(){setTimeout((function(){a.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),i)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function a(e,t,i){return!!(e>=t&e<=i)}function n(e){event.preventDefault();var i=$(e).find("input,select").length,n=($(e).find('button[type="submit"]'),0);const s=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,o=/^\d+$/;return $(e).find("input,select").each((function(e,i){var c=$(i).attr("id");$(i).attr("name",c);var r=$(i).val(),d=$(i).prop("checked"),l=$(i).val(),u=$(i).parent().find("div.custom-checkbox");if(0!==$(i).length){switch($(i).attr("type")){case"text":case"password":case"date":t($(i),""!==r?"valido":"error");break;case"identification":o.test($(i).prop("value"))&a(r.length,10,10)?t($(i),"valido"):t($(i),"error");break;case"emailCustom":s.test($(i).prop("value"))?t($(i),"valido"):t($(i),"error");break;case"checkbox":t(u,!1!==d?"valido":"error");break;case"select":t($(i),1!=l?"valido":"error")}n+=cumple}})),n===i}$(document).ready((function(){setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#btn-nuevo").click((function(){$("#modalNuevo").fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$("span.icon-bin").click((function(){$("#modalElminar").fadeIn().css({display:"flex"})})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"procesar.php",type:"POST",async:!0,beforeSend:function(){$(".loading").show()},error:function(e){console.log(e),i(3,1e3,3e3)}}),$("form#login").submit((function(e){$(this);n(this)&&(window.location.href="home.html")})),$("form#eliminar").submit((function(e){var t=$(this);if(n(this)){var a=$(this).serialize();$.ajax({data:a,success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.closest(".modal").fadeOut(),i(1,1e3,3e3)):i(2,1e3,3e3)}})}})),$("form#matricula").submit((function(e){var t=$(this);if(n(this)){var a=$(this).serialize();$.ajax({data:a,success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.hide(),$("form#clinic").show()):i(2,1e3,3e3)}})}})),$("form#clinic").submit((function(e){var t=$(this);if(n(this)){var a=$(this).serialize();$.ajax({data:a,success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.hide(),$("form#estudiante").show()):i(2,1e3,3e3)}})}})),$("form#estudiante").submit((function(e){var t=$(this);if(n(this)){var a=$(this).serialize();$.ajax({data:a,success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.hide(),$("form#acudiente").show()):i(2,1e3,3e3)}})}})),$("form#acudiente").submit((function(e){var t=$(this);if(n(this)){var a=$(this).serialize();$.ajax({data:a,success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.closest(".modal").fadeOut(),t.closest(".modal").find("form").hide(),t.closest(".modal").find("form#matricula").show(),i(1,1e3,3e3)):i(2,1e3,3e3)}})}}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMuanMiLCJfX2Zvcm1zLmpzIiwiX2RvbS5qcyJdLCJuYW1lcyI6WyJjIiwicGludGFyU3RpbG9zIiwiZWxlbSIsInRpcG8iLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiY3VtcGxlIiwic2hvd0FsZXJ0IiwidGltZUluIiwidGltZU91dCIsImRpdkFsZXJ0IiwiJCIsImZpbmQiLCJlbXB0eSIsInRleHQiLCJmYWRlSW4iLCJzZXRUaW1lb3V0IiwiZmFkZU91dCIsImFuaW1hdGUiLCJib3R0b20iLCJkdXJhdGlvbiIsInF1ZXVlIiwidmFsaWRhckxlbmd0aCIsInZhbG9yIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwidmFsaWRhdGVGb3JtIiwiZm9ybSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjYW1wb3NPYmxpZ2EiLCJsZW5ndGgiLCJ0b3RhbCIsInJlZ0V4cEVtYWlsIiwicmVnRXhwTnVtYmVyIiwiZWFjaCIsImkiLCJlIiwiaWQiLCJhdHRyIiwidmFsb3JJbnB1dCIsInZhbCIsInZhbG9yQ2hlY2tib3giLCJwcm9wIiwidmFsb3JTZWxlY3QiLCJjdXN0b21EaXZDaGVjayIsInBhcmVudCIsInRlc3QiLCJkb2N1bWVudCIsInJlYWR5IiwiY3NzIiwiZGlzcGxheSIsIldPVyIsImluaXQiLCJjbGljayIsImN1c3RvbUNoZWNrIiwidGhpcyIsIm1lbnUiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiYWNvdW50Q29udGFpbmVyIiwiY2xvc2VzdCIsIndpbmRvdyIsInJlc2l6ZSIsImlubmVyV2lkdGgiLCJvdmVyZmxvdy14IiwiYWpheFNldHVwIiwidXJsIiwidHlwZSIsImFzeW5jIiwiYmVmb3JlU2VuZCIsInNob3ciLCJlcnJvciIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsInN1Ym1pdCIsImxvY2F0aW9uIiwiaHJlZiIsImZvcm11bGFyaW8iLCJkYXRhIiwic2VyaWFsaXplIiwiYWpheCIsInN1Y2Nlc3MiLCJKU09OIiwicGFyc2UiLCJo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QUEsU0FBQWhELEdBRUEsSUFBQW1ELEVBQUFwRSxFQUFBNkMsTUFFQSxHQUFBOUIsRUFBQThCLE1BQUEsQ0FHQSxJQUFBd0IsRUFBQXJFLEVBQUE2QyxNQUFBeUIsWUFFQXRFLEVBQUF1RSxLQUFBLENBQ0FGLEtBQUFBLEVBQ0FHLFFBQUEsU0FBQVYsR0FDQU0sRUFBQWpDLFNBQUFsQyxLQUFBLFlBQUFLLFFBQUEsS0FHQSxLQURBbUUsS0FBQUMsTUFBQVosR0FDQVUsU0FFQUosRUFBQWxCLFFBQUEsVUFBQTVDLFVBQ0E4RCxFQUFBbEIsUUFBQSxVQUFBakQsS0FBQSxRQUFBMEUsT0FDQVAsRUFBQWxCLFFBQUEsVUFBQWpELEtBQUEsa0JBQUEyRCxPQUNBaEUsRUFBQSxFQUFBLElBQUEsTUFHQUEsRUFBQSxFQUFBLElBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGMgPSAzO1xyXG4iLCIvLy8vLy8vLy8vLy8gUGludGEgZXN0aWxvcyBkZSBlcnJvciB5IHZhbGlkb1xyXG5mdW5jdGlvbiBwaW50YXJTdGlsb3MoZWxlbSwgdGlwbykge1xyXG5cclxuICBpZiAodGlwbyA9PT0gJ2Vycm9yJykge1xyXG4gICAgZWxlbS5hZGRDbGFzcygnZXJyb3InKTtcclxuICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgICBjdW1wbGUgPSAwO1xyXG5cclxuICB9IGVsc2UgaWYgKHRpcG8gPT09ICd2YWxpZG8nKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgZWxlbS5yZW1vdmVDbGFzcygnZXJyb3InKTtcclxuICAgIGN1bXBsZSA9IDE7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vIE11ZXN0cmEgYWxlcnRhIGRlIGxvcyBmb3JtdWxhcmlvc1xyXG5mdW5jdGlvbiBzaG93QWxlcnQoY3VtcGxlLCB0aW1lSW4sIHRpbWVPdXQpIHtcclxuXHJcbiAgY29uc3QgZGl2QWxlcnQgPSAkKCdkaXYuYWxlcnQtY29udGFpbmVyJyk7XHJcbiAgY29uc3QgY29udGVudEFsZXJ0ID0gJ2Rpdi5hbGVydC1jb250ZW50JztcclxuXHJcbiAgZGl2QWxlcnQuZmluZCgnZGl2LmFsZXJ0LWNvbnRlbnQnKS5lbXB0eSgpO1xyXG5cclxuXHJcbiAgaWYgKGN1bXBsZSA9PT0gMSkge1xyXG5cclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1jaGVjaycpLmZpbmQoY29udGVudEFsZXJ0KS50ZXh0KCdOaWNlICEnKTtcclxuICB9IGVsc2UgaWYgKGN1bXBsZSA9PT0gMikge1xyXG5cclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1lcnJvcicpLmZpbmQoY29udGVudEFsZXJ0KS50ZXh0KCdIbW0sIHNvbWV0aGluZyB3ZW50IHdyb25nJyk7XHJcbiAgfSBlbHNlIGlmIChjdW1wbGUgPT09IDMpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1zZXJ2ZXInKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnTWF5YmUgdGhlIHNlcnZlciBpcyBkb3duIDooJyk7XHJcbiAgfVxyXG5cclxuICBkaXZBbGVydC5mYWRlSW4odGltZUluLCBcImxpbmVhclwiLCBmdW5jdGlvbigpIHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGRpdkFsZXJ0LmZhZGVPdXQoKS5hbmltYXRlKHtcclxuICAgICAgICAnYm90dG9tJzogJzAlJ1xyXG4gICAgICB9LCB7XHJcbiAgICAgICAgZHVyYXRpb246ICdzbG93JyxcclxuICAgICAgICBxdWV1ZTogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICB9LCB0aW1lT3V0KTtcclxuICB9KS5hbmltYXRlKHtcclxuICAgICdib3R0b20nOiAnMjB2aCdcclxuICB9LCB7XHJcbiAgICBkdXJhdGlvbjogJ3Nsb3cnLFxyXG4gICAgcXVldWU6IGZhbHNlXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG4vLy8vLy8vLy8vLy8gVmFsaWRhIGxvbmdpdHVkXHJcbmZ1bmN0aW9uIHZhbGlkYXJMZW5ndGgodmFsb3IsIG1pbkxlbmd0aCwgbWF4TGVuZ3RoKSB7XHJcbiAgaWYgKCh2YWxvciA+PSBtaW5MZW5ndGgpICYgKHZhbG9yIDw9IG1heExlbmd0aCkpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZm9ybSkge1xyXG5cclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICB2YXIgY2FtcG9zT2JsaWdhID0gJChmb3JtKS5maW5kKCdpbnB1dCxzZWxlY3QnKS5sZW5ndGg7XHJcbiAgdmFyIGJvdG9uU3VibWl0ID0gJChmb3JtKS5maW5kKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG5cclxuXHJcblxyXG5cclxuICB2YXIgdG90YWwgPSAwO1xyXG4gIC8vQXJyZWdsbyBkb25kZSBhbG1hY2VuYXLDoSBjYWRhIGNhbXBvXHJcbiAgLy9leHByZXNpb25lcyBSZWd1bGFyZXNcclxuICBjb25zdCByZWdFeHBFbWFpbCA9IC9eW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKkAoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/JC87XHJcbiAgY29uc3QgcmVnRXhwTnVtYmVyID0gL15cXGQrJC87XHJcblxyXG4gIC8vLy9WYWxpZGFyIGxvcyBjYW1wb3NcclxuICAkKGZvcm0pLmZpbmQoJ2lucHV0LHNlbGVjdCcpLmVhY2goZnVuY3Rpb24oaSwgZSkge1xyXG5cclxuICAgIHZhciBpZCA9ICQoZSkuYXR0cignaWQnKVxyXG4gICAgLy9Qb25lciBlbCBpZCBlbiBlbCBuYW1lIHBhcmEgbWFuZGFyIGxvcyBkYXRvcyBwb3Igc2VyaWFsaXplXHJcbiAgICAkKGUpLmF0dHIoJ25hbWUnLCBpZCk7XHJcblxyXG4gICAgdmFyIHZhbG9ySW5wdXQgPSAkKGUpLnZhbCgpO1xyXG4gICAgdmFyIHZhbG9yQ2hlY2tib3ggPSAkKGUpLnByb3AoJ2NoZWNrZWQnKTtcclxuICAgIHZhciB2YWxvclNlbGVjdCA9ICQoZSkudmFsKCk7XHJcbiAgICB2YXIgY3VzdG9tRGl2Q2hlY2sgPSAkKGUpLnBhcmVudCgpLmZpbmQoJ2Rpdi5jdXN0b20tY2hlY2tib3gnKTtcclxuXHJcblxyXG4gICAgaWYgKCQoZSkubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHN3aXRjaCAoJChlKS5hdHRyKCd0eXBlJykpIHtcclxuXHJcbiAgICAgICAgY2FzZSBcInRleHRcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxyXG4gICAgICAgICAgdmFsb3JJbnB1dCAhPT0gXCJcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImRhdGVcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJpZGVudGlmaWNhdGlvblwiOlxyXG4gICAgICAgICAgaWYgKChyZWdFeHBOdW1iZXIudGVzdCgkKGUpLnByb3AoJ3ZhbHVlJykpKSAmICh2YWxpZGFyTGVuZ3RoKHZhbG9ySW5wdXQubGVuZ3RoLCAxMCwgMTApKSkge1xyXG4gICAgICAgICAgICBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJlbWFpbEN1c3RvbVwiOlxyXG4gICAgICAgICAgcmVnRXhwRW1haWwudGVzdCgkKGUpLnByb3AoJ3ZhbHVlJykpID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcclxuICAgICAgICAgIHZhbG9yQ2hlY2tib3ggIT09IGZhbHNlID8gcGludGFyU3RpbG9zKGN1c3RvbURpdkNoZWNrLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoY3VzdG9tRGl2Q2hlY2ssICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcclxuICAgICAgICAgIHZhbG9yU2VsZWN0ICE9IDEgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgdG90YWwgPSB0b3RhbCArIGN1bXBsZTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblxyXG4gIGlmICh0b3RhbCA9PT0gY2FtcG9zT2JsaWdhKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbiQuYWpheFNldHVwKHtcclxuICB1cmw6ICdwcm9jZXNhci5waHAnLFxyXG4gIHR5cGU6ICdQT1NUJyxcclxuICBhc3luYzogdHJ1ZSxcclxuICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gIH0sXHJcbiAgZXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICBzaG93QWxlcnQoMywgMTAwMCwgMzAwMCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbiQoJ2Zvcm0jbG9naW4nKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICB2YXIgZm9ybXVsYXJpbyA9ICQodGhpcyk7XHJcbiAgaWYodmFsaWRhdGVGb3JtKHRoaXMpKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdob21lLmh0bWwnO1xyXG59KTtcclxuXHJcbiQoJ2Zvcm0jZWxpbWluYXInKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKHRoaXMpKSB7XHJcblxyXG4gICAgLy8gRGF0YSBxdWUgc2UgZW52aWEgYSBsYSBiYXNlIGRlIGRhdG9zXHJcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG4gICAgICAgICAgZm9ybXVsYXJpby5jbG9zZXN0KCcubW9kYWwnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoMSwgMTAwMCwgMzAwMCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoMiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG5cclxuJCgnZm9ybSNtYXRyaWN1bGEnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICB2YXIgZm9ybXVsYXJpbyA9ICQodGhpcyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvL0RhdGEgcXVlIHNlIGVudmlhIGEgbGEgYmFzZSBkZSBkYXRvc1xyXG4gICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlcmlhbGl6ZSgpO1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCIxXCIpIHtcclxuICAgICAgICAgIGZvcm11bGFyaW8uaGlkZSgpO1xyXG4gICAgICAgICAgJCgnZm9ybSNjbGluaWMnKS5zaG93KCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoMiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG4kKCdmb3JtI2NsaW5pYycpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG5cclxuICB2YXIgZm9ybXVsYXJpbyA9ICQodGhpcyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiMVwiKSB7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmhpZGUoKTtcclxuICAgICAgICAgICQoJ2Zvcm0jZXN0dWRpYW50ZScpLnNob3coKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KTtcclxuXHJcblxyXG4kKCdmb3JtI2VzdHVkaWFudGUnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKHRoaXMpKSB7XHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuXHJcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiMVwiKSB7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmhpZGUoKTtcclxuICAgICAgICAgICQoJ2Zvcm0jYWN1ZGllbnRlJykuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoMiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG4kKCdmb3JtI2FjdWRpZW50ZScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG5cclxuICB2YXIgZm9ybXVsYXJpbyA9ICQodGhpcyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG5cclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG5cclxuICAgICAgICAgIGZvcm11bGFyaW8uY2xvc2VzdCgnLm1vZGFsJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgZm9ybXVsYXJpby5jbG9zZXN0KCcubW9kYWwnKS5maW5kKCdmb3JtJykuaGlkZSgpO1xyXG4gICAgICAgICAgZm9ybXVsYXJpby5jbG9zZXN0KCcubW9kYWwnKS5maW5kKCdmb3JtI21hdHJpY3VsYScpLnNob3coKTtcclxuICAgICAgICAgIHNob3dBbGVydCgxLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KTtcclxuIiwiXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gIC8vRmFkZSBpbiBkZSBsYSBww6FnaW5hIExvZ2luIGFsIGluaWNpYXIgZWwgbmF2ZWdhZG9yXHJcblxyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAkKCdzZWN0aW9uI2xvZ2luJykuZmFkZUluKDE1MDApLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSwgNTAwKTtcclxuICAvL0luaWNpYWxpemFyIGxhcyBhbmltYWNpb25lcyBkZSBsYSBsaWJyZXJpYSBXT1cgKGFuaW1hY2lvbmVzKVxyXG4gIHZhciB3b3cgPSBuZXcgV09XKCkuaW5pdCgpO1xyXG5cclxuICAvLyBIYWNlciBxdWUgbG9zIGNoZWNrYm94IGNvbiBlc3RpbG9zIGZ1bmNpb25lblxyXG4gICQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGN1c3RvbUNoZWNrID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdkaXYuY3VzdG9tLWNoZWNrYm94Jyk7XHJcbiAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSA/IGN1c3RvbUNoZWNrLnRleHQoJ+KclCcpIDogY3VzdG9tQ2hlY2sudGV4dCgnJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEVmZWN0b3MgbWVudSBidXJndWVyXHJcbiAgJCgnZGl2Lmljb24tbWVudScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IG1lbnUgPSAkKCdkaXYubWVudS1jb250YWluZXInKTtcclxuICAgIGlmIChtZW51LmNzcygnZGlzcGxheScpID09IFwibm9uZVwiKSB7XHJcbiAgICAgIG1lbnUuc2xpZGVEb3duKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtZW51LnNsaWRlVXAoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnI2Fjb3VudGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGFjb3VudENvbnRhaW5lciA9ICQoJy5hY2NvdW50LWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKGFjb3VudENvbnRhaW5lci5jc3MoJ2Rpc3BsYXknKSA9PSBcIm5vbmVcIikge1xyXG4gICAgICBhY291bnRDb250YWluZXIuc2xpZGVEb3duKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY291bnRDb250YWluZXIuc2xpZGVVcCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvL01vZGFsZXNcclxuXHJcblxyXG4gICQoJyNidG4tbnVldm8nKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAkKCcjbW9kYWxOdWV2bycpLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAkKCcuYnRuLWNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwsLm1vZGFsLXRpdHRsZScpLmZhZGVPdXQoKTtcclxuICAgIC8vICQoJy5sb2FkaW5nJykuZmFkZU91dCgpO1xyXG4gICAgJCgnLmFsZXJ0LWNvbnRhaW5lcicpLmZhZGVPdXQoKTtcclxuICB9KTtcclxuXHJcbiQoJ3NwYW4uaWNvbi1iaW4nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICQoJyNtb2RhbEVsbWluYXInKS5mYWRlSW4oKS5jc3Moe1xyXG4gICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgfSk7XHJcbn0pXHJcblxyXG5cclxuXHJcbiAgLy9UYWJsYXNcclxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDUyMCkge1xyXG4gICAgICAkKCd0YWJsZScpLmNzcyh7XHJcbiAgICAgICAgXCJvdmVyZmxvdy14XCI6IFwic2Nyb2xsXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxufSk7XHJcbiJdfQ==
