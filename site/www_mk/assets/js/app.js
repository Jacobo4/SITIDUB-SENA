var e=3;function t(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function a(e,t,a){const n=$("div.alert-container");n.find("div.alert-content").empty(),1===e?n.addClass("alert-check").find("div.alert-content").text("Nice !"):2===e?n.addClass("alert-error").find("div.alert-content").text("Hmm, something went wrong"):3===e&&n.addClass("alert-server").find("div.alert-content").text("Maybe the server is down :("),n.fadeIn(t,"linear",(function(){setTimeout((function(){n.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),a)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function n(e,t,a){return!!(e>=t&e<=a)}function i(e){event.preventDefault();var a=$(e).find("input,select").length,i=($(e).find('button[type="submit"]'),0);const o=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,s=/^\d+$/;return $(e).find("input,select").each((function(e,a){var c=$(a).attr("id");$(a).attr("name",c);var r=$(a).val(),d=$(a).prop("checked"),l=$(a).val(),u=$(a).parent().find("div.custom-checkbox");if(0!==$(a).length){switch($(a).attr("type")){case"text":case"password":case"date":t($(a),""!==r?"valido":"error");break;case"identification":s.test($(a).prop("value"))&n(r.length,10,10)?t($(a),"valido"):t($(a),"error");break;case"emailCustom":o.test($(a).prop("value"))?t($(a),"valido"):t($(a),"error");break;case"checkbox":t(u,!1!==d?"valido":"error");break;case"select":t($(a),1!=l?"valido":"error")}i+=cumple}})),i===a}$(document).ready((function(){setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#modalNuevo").fadeIn().css({display:"flex"}),$("#btn-nuevo").click((function(){$("#modalNuevo").fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"procesar.php",type:"POST",async:!0,beforeSend:function(){$(".loading").show()},error:function(e){console.log(e),a(3,1e3,3e3)}}),$("form#matricula").submit((function(e){var t=$(this);if(i(this)){var n=$(this).serialize();$.ajax({data:n,success:function(e){"1"==JSON.parse(e).success?(t.hide(),$("form#clinic").show(),t.parent().find(".loading").fadeOut(1e3)):(a(2,1e3,3e3),clinic)}})}})),$("form#clinic").submit((function(e){var t=$(this);if(i(this)){var n=$(this).serialize();$.ajax({data:n,success:function(e){"1"==JSON.parse(e).success?(t.hide(),$("form#estudiante").show(),t.parent().find(".loading").fadeOut(1e3)):a(2,1e3,3e3)}})}})),$("form#estudiante").submit((function(e){var t=$(this);if(i(this)){var n=$(this).serialize();$.ajax({data:n,success:function(e){"1"==JSON.parse(e).success?(t.closest(".modal").fadeOut(),t.closest(".modal").find("form").hide(),t.closest(".modal").find("form#matricula").show(),t.parent().find(".loading").fadeOut(1e3),a(1,1e3,3e3)):a(2,1e3,3e3)}})}}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMuanMiLCJfX2Zvcm1zLmpzIiwiX2RvbS5qcyJdLCJuYW1lcyI6WyJjIiwicGludGFyU3RpbG9zIiwiZWxlbSIsInRpcG8iLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiY3VtcGxlIiwic2hvd0FsZXJ0IiwidGltZUluIiwidGltZU91dCIsImRpdkFsZXJ0IiwiJCIsImZpbmQiLCJlbXB0eSIsInRleHQiLCJmYWRlSW4iLCJzZXRUaW1lb3V0IiwiZmFkZU91dCIsImFuaW1hdGUiLCJib3R0b20iLCJkdXJhdGlvbiIsInF1ZXVlIiwidmFsaWRhckxlbmd0aCIsInZhbG9yIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwidmFsaWRhdGVGb3JtIiwiZm9ybSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjYW1wb3NPYmxpZ2EiLCJsZW5ndGgiLCJ0b3RhbCIsInJlZ0V4cEVtYWlsIiwicmVnRXhwTnVtYmVyIiwiZWFjaCIsImkiLCJlIiwiaWQiLCJhdHRyIiwidmFsb3JJbnB1dCIsInZhbCIsInZhbG9yQ2hlY2tib3giLCJwcm9wIiwidmFsb3JTZWxlY3QiLCJjdXN0b21EaXZDaGVjayIsInBhcmVudCIsInRlc3QiLCJkb2N1bWVudCIsInJlYWR5IiwiY3NzIiwiZGlzcGxheSIsIldPVyIsImluaXQiLCJjbGljayIsImN1c3RvbUNoZWNrIiwidGhpcyIsIm1lbnUiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiYWNvdW50Q29udGFpbmVyIiwiY2xvc2VzdCIsIndpbmRvdyIsInJlc2l6ZSIsImlubmVyV2lkdGgiLCJvdmVyZmxvdy14IiwiYWpheFNldHVwIiwidXJsIiwidHlwZSIsImFzeW5jIiwiYmVmb3JlU2VuZCIsInNob3ciLCJlcnJvciIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsInN1Ym1pdCIsImZvcm11bGFyaW8iLCJkYXRhIiwic2VyaWFsaXplIiwiYWpheCIsInN1Y2Nlc3MiLCJKU09OIiwicGFyc2UiLCJoaWRlIiwiY2xpbmljIl0sIm1h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LEVBQUFuRSxFQUFBNkMsTUFBQXVCLFlBQ0FwRSxFQUFBcUUsS0FBQSxDQUNBRixLQUFBQSxFQUNBRyxRQUFBLFNBQUFSLEdBR0EsS0FEQVMsS0FBQUMsTUFBQVYsR0FDQVEsU0FDQUosRUFBQU8sT0FDQXpFLEVBQUEsbUJBQUE0RCxPQUNBTSxFQUFBL0IsU0FBQWxDLEtBQUEsWUFBQUssUUFBQSxNQUVBVixFQUFBLEVBQUEsSUFBQSxZQVNBSSxFQUFBLG1CQUFBaUUsUUFBQSxTQUFBaEQsR0FFQSxJQUFBaUQsRUFBQWxFLEVBQUE2QyxNQUVBLEdBQUE5QixFQUFBOEIsTUFBQSxDQUVBLElBQUFzQixFQUFBbkUsRUFBQTZDLE1BQUF1QixZQUNBcEUsRUFBQXFFLEtBQUEsQ0FDQUYsS0FBQUEsRUFDQUcsUUFBQSxTQUFBUixHQUdBLEtBREFTLEtBQUFDLE1BQUFWLEdBQ0FRLFNBQ0FKLEVBQUFoQixRQUFBLFVBQUE1QyxVQUNBNEQsRUFBQWhCLFFBQUEsVUFBQWpELEtBQUEsUUFBQXdFLE9BQ0FQLEVBQUFoQixRQUFBLFVBQUFqRCxLQUFBLGtCQUFBMkQsT0FDQU0sRUFBQS9CLFNBQUFsQyxLQUFBLFlBQUFLLFFBQUEsS0FDQVYsRUFBQSxFQUFBLElBQUEsTUFFQUEsRUFBQSxFQUFBLElBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGMgPSAzO1xyXG4iLCIvLy8vLy8vLy8vLy8gUGludGEgZXN0aWxvcyBkZSBlcnJvciB5IHZhbGlkb1xyXG5mdW5jdGlvbiBwaW50YXJTdGlsb3MoZWxlbSwgdGlwbykge1xyXG5cclxuICBpZiAodGlwbyA9PT0gJ2Vycm9yJykge1xyXG4gICAgZWxlbS5hZGRDbGFzcygnZXJyb3InKTtcclxuICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgICBjdW1wbGUgPSAwO1xyXG5cclxuICB9IGVsc2UgaWYgKHRpcG8gPT09ICd2YWxpZG8nKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgZWxlbS5yZW1vdmVDbGFzcygnZXJyb3InKTtcclxuICAgIGN1bXBsZSA9IDE7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0FsZXJ0KGN1bXBsZSwgdGltZUluLCB0aW1lT3V0KSB7XHJcblxyXG4gIGNvbnN0IGRpdkFsZXJ0ID0gJCgnZGl2LmFsZXJ0LWNvbnRhaW5lcicpO1xyXG4gIGNvbnN0IGNvbnRlbnRBbGVydCA9ICdkaXYuYWxlcnQtY29udGVudCc7XHJcblxyXG4gIGRpdkFsZXJ0LmZpbmQoJ2Rpdi5hbGVydC1jb250ZW50JykuZW1wdHkoKTtcclxuXHJcblxyXG4gIGlmIChjdW1wbGUgPT09IDEpIHtcclxuXHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtY2hlY2snKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnTmljZSAhJyk7XHJcbiAgfSBlbHNlIGlmIChjdW1wbGUgPT09IDIpIHtcclxuXHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtZXJyb3InKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnSG1tLCBzb21ldGhpbmcgd2VudCB3cm9uZycpO1xyXG4gIH0gZWxzZSBpZiAoY3VtcGxlID09PSAzKSB7XHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtc2VydmVyJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ01heWJlIHRoZSBzZXJ2ZXIgaXMgZG93biA6KCcpO1xyXG4gIH1cclxuXHJcbiAgZGl2QWxlcnQuZmFkZUluKHRpbWVJbiwgXCJsaW5lYXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBkaXZBbGVydC5mYWRlT3V0KCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgJ2JvdHRvbSc6ICcwJSdcclxuICAgICAgfSwge1xyXG4gICAgICAgIGR1cmF0aW9uOiAnc2xvdycsXHJcbiAgICAgICAgcXVldWU6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG4gICAgfSwgdGltZU91dCk7XHJcbiAgfSkuYW5pbWF0ZSh7XHJcbiAgICAnYm90dG9tJzogJzIwdmgnXHJcbiAgfSwge1xyXG4gICAgZHVyYXRpb246ICdzbG93JyxcclxuICAgIHF1ZXVlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vIFZhbGlkYSBsb25naXR1ZFxyXG5mdW5jdGlvbiB2YWxpZGFyTGVuZ3RoKHZhbG9yLCBtaW5MZW5ndGgsIG1heExlbmd0aCkge1xyXG4gIGlmICgodmFsb3IgPj0gbWluTGVuZ3RoKSAmICh2YWxvciA8PSBtYXhMZW5ndGgpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGZvcm0pIHtcclxuXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgdmFyIGNhbXBvc09ibGlnYSA9ICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0JykubGVuZ3RoO1xyXG4gIHZhciBib3RvblN1Ym1pdCA9ICQoZm9ybSkuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHJcbiAgLy8gLy8gRGVzYWJpbGl0YXIgZWwgYm90b24gc3VibWl0XHJcbiAgLy8gaWYgKGNhbXBvc09ibGlnYSAhPSBudWxsKSB7XHJcbiAgLy8gICBib3RvblN1Ym1pdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gIC8vICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgLy8gICAgIGJvdG9uU3VibWl0LmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gIC8vICAgfSwgMzAwMCk7XHJcbiAgLy8gfVxyXG5cclxuXHJcbiAgdmFyIHRvdGFsID0gMDtcclxuICAvL0FycmVnbG8gZG9uZGUgYWxtYWNlbmFyw6EgY2FkYSBjYW1wb1xyXG4gIC8vZXhwcmVzaW9uZXMgUmVndWxhcmVzXHJcbiAgY29uc3QgcmVnRXhwRW1haWwgPSAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvO1xyXG4gIGNvbnN0IHJlZ0V4cE51bWJlciA9IC9eXFxkKyQvO1xyXG5cclxuICAvLy8vVmFsaWRhciBsb3MgY2FtcG9zXHJcbiAgJChmb3JtKS5maW5kKCdpbnB1dCxzZWxlY3QnKS5lYWNoKGZ1bmN0aW9uKGksIGUpIHtcclxuXHJcbiAgICB2YXIgaWQgPSAkKGUpLmF0dHIoJ2lkJylcclxuICAgIC8vUG9uZXIgZWwgaWQgZW4gZWwgbmFtZSBwYXJhIG1hbmRhciBsb3MgZGF0b3MgcG9yIHNlcmlhbGl6ZVxyXG4gICAgJChlKS5hdHRyKCduYW1lJywgaWQpO1xyXG5cclxuICAgIHZhciB2YWxvcklucHV0ID0gJChlKS52YWwoKTtcclxuICAgIHZhciB2YWxvckNoZWNrYm94ID0gJChlKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICB2YXIgdmFsb3JTZWxlY3QgPSAkKGUpLnZhbCgpO1xyXG4gICAgdmFyIGN1c3RvbURpdkNoZWNrID0gJChlKS5wYXJlbnQoKS5maW5kKCdkaXYuY3VzdG9tLWNoZWNrYm94Jyk7XHJcblxyXG5cclxuICAgIGlmICgkKGUpLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICBzd2l0Y2ggKCQoZSkuYXR0cigndHlwZScpKSB7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwicGFzc3dvcmRcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiaWRlbnRpZmljYXRpb25cIjpcclxuICAgICAgICAgIGlmICgocmVnRXhwTnVtYmVyLnRlc3QoJChlKS5wcm9wKCd2YWx1ZScpKSkgJiAodmFsaWRhckxlbmd0aCh2YWxvcklucHV0Lmxlbmd0aCwgMTAsIDEwKSkpIHtcclxuICAgICAgICAgICAgcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiZW1haWxDdXN0b21cIjpcclxuICAgICAgICAgIHJlZ0V4cEVtYWlsLnRlc3QoJChlKS5wcm9wKCd2YWx1ZScpKSA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XHJcbiAgICAgICAgICB2YWxvckNoZWNrYm94ICE9PSBmYWxzZSA/IHBpbnRhclN0aWxvcyhjdXN0b21EaXZDaGVjaywgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKGN1c3RvbURpdkNoZWNrLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XHJcbiAgICAgICAgICB2YWxvclNlbGVjdCAhPSAxID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHRvdGFsID0gdG90YWwgKyBjdW1wbGU7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cclxuICBpZiAodG90YWwgPT09IGNhbXBvc09ibGlnYSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG59XHJcblxyXG4kLmFqYXhTZXR1cCh7XHJcbiAgdXJsOiAncHJvY2VzYXIucGhwJyxcclxuICB0eXBlOiAnUE9TVCcsXHJcbiAgYXN5bmM6IHRydWUsXHJcbiAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcubG9hZGluZycpLnNob3coKTtcclxuICB9LFxyXG4gIGVycm9yOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gICAgc2hvd0FsZXJ0KDMsIDEwMDAsIDMwMDApO1xyXG4gIH1cclxufSk7XHJcblxyXG5cclxuXHJcbiQoJ2Zvcm0jbWF0cmljdWxhJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKHRoaXMpKSB7XHJcbiAgICAvL0RhdGEgcXVlIHNlIGVudmlhIGEgbGEgYmFzZSBkZSBkYXRvc1xyXG4gICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlcmlhbGl6ZSgpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCIxXCIpIHtcclxuICAgICAgICAgIGZvcm11bGFyaW8uaGlkZSgpO1xyXG4gICAgICAgICAgJCgnZm9ybSNjbGluaWMnKS5zaG93KCk7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICAgIGNsaW5pY1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuJCgnZm9ybSNjbGluaWMnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKHRoaXMpKSB7XHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiMVwiKSB7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmhpZGUoKTtcclxuICAgICAgICAgICQoJ2Zvcm0jZXN0dWRpYW50ZScpLnNob3coKTtcclxuICAgICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93QWxlcnQoMiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG5cclxuJCgnZm9ybSNlc3R1ZGlhbnRlJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gIHZhciBmb3JtdWxhcmlvID0gJCh0aGlzKTtcclxuXHJcbiAgaWYgKHZhbGlkYXRlRm9ybSh0aGlzKSkge1xyXG4gICAgLy8gRGF0YSBxdWUgc2UgZW52aWEgYSBsYSBiYXNlIGRlIGRhdG9zXHJcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG4gICAgICAgICAgZm9ybXVsYXJpby5jbG9zZXN0KCcubW9kYWwnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJ2Zvcm0nKS5oaWRlKCk7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJ2Zvcm0jbWF0cmljdWxhJykuc2hvdygpO1xyXG4gICAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgICBzaG93QWxlcnQoMSwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59KTtcclxuXHJcblxyXG4vL1xyXG4vLyBmdW5jdGlvbiBzdWJtaXRBamF4KGZvcm0pIHtcclxuLy9cclxuLy8gICB2YXIgZXN0dWRpYW50ZSA9IGZvcm0uc2VyaWFsaXplKCk7XHJcbi8vICAgY29uc29sZS5sb2coJ2xvIHF1ZSBlbnZpbycgKyBlc3R1ZGlhbnRlKTtcclxuLy9cclxuLy8gICAkLnBvc3QoXCJleGFtcGxlLnBocFwiLCBmdW5jdGlvbigpIHtcclxuLy8gICAgIGFsZXJ0KFwic3VjY2Vzc1wiKTtcclxuLy8gICB9KVxyXG4vLyAgIC8vIC5kb25lKGZ1bmN0aW9uKCkge1xyXG4vLyAgIC8vICAgaW5zZXJ0Q2xpZXQoaW5zZXJ0RG9jdW1lbnQoKSlcclxuLy8gICAvLyB9KVxyXG4vLyAgIC8vXHJcbi8vICAgLy8gZnVuY3Rpb24gaW5zZXJ0Q2xpZXQob25TdWNjZXNzKXtcclxuLy8gICAvLyAgICQucG9zdCggXCJleGFtcGxlLnBocFwiLCBmdW5jdGlvbigpIHtcclxuLy8gICAvLyAgICAgYWxlcnQoIFwic3VjY2Vzc1wiICk7XHJcbi8vICAgLy8gICB9KVxyXG4vLyAgIC8vICAgLmRvbmUoZnVuY3Rpb24oKSB7XHJcbi8vICAgLy8gICAgIG9uU3VjY2VzcygpO1xyXG4vLyAgIC8vICAgfSlcclxuLy8gICAvLyB9XHJcbi8vICAgLy9cclxuLy8gICAvLyBmdW5jdGlvbiBpbnNlcnREb2N1bWVudChvblN1Y2Nlc3Mpe1xyXG4vLyAgIC8vICAgJC5wb3N0KCBcImV4YW1wbGUucGhwXCIsIGZ1bmN0aW9uKCkge1xyXG4vLyAgIC8vICAgICBhbGVydCggXCJzdWNjZXNzXCIgKTtcclxuLy8gICAvLyAgIH0pXHJcbi8vICAgLy8gICAuZG9uZShmdW5jdGlvbigpIHtcclxuLy8gICAvLyAgICAgYWxlcnQoJ2NvbXBsZXRvIScpXHJcbi8vICAgLy8gICB9KVxyXG4vLyAgIC8vIH1cclxuLy9cclxuLy9cclxuLy8gfVxyXG4iLCJcclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgLy9GYWRlIGluIGRlIGxhIHDDoWdpbmEgTG9naW4gYWwgaW5pY2lhciBlbCBuYXZlZ2Fkb3JcclxuXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICQoJ3NlY3Rpb24jbG9naW4nKS5mYWRlSW4oMTUwMCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9LCA1MDApO1xyXG4gIC8vSW5pY2lhbGl6YXIgbGFzIGFuaW1hY2lvbmVzIGRlIGxhIGxpYnJlcmlhIFdPVyAoYW5pbWFjaW9uZXMpXHJcbiAgdmFyIHdvdyA9IG5ldyBXT1coKS5pbml0KCk7XHJcblxyXG4gIC8vIEhhY2VyIHF1ZSBsb3MgY2hlY2tib3ggY29uIGVzdGlsb3MgZnVuY2lvbmVuXHJcbiAgJCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY3VzdG9tQ2hlY2sgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2Rpdi5jdXN0b20tY2hlY2tib3gnKTtcclxuICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcpID8gY3VzdG9tQ2hlY2sudGV4dCgn4pyUJykgOiBjdXN0b21DaGVjay50ZXh0KCcnKTtcclxuICB9KTtcclxuXHJcbiAgLy8gRWZlY3RvcyBtZW51IGJ1cmd1ZXJcclxuICAkKCdkaXYuaWNvbi1tZW51JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgbWVudSA9ICQoJ2Rpdi5tZW51LWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKG1lbnUuY3NzKCdkaXNwbGF5JykgPT0gXCJub25lXCIpIHtcclxuICAgICAgbWVudS5zbGlkZURvd24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1lbnUuc2xpZGVVcCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcjYWNvdW50YnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgYWNvdW50Q29udGFpbmVyID0gJCgnLmFjY291bnQtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoYWNvdW50Q29udGFpbmVyLmNzcygnZGlzcGxheScpID09IFwibm9uZVwiKSB7XHJcbiAgICAgIGFjb3VudENvbnRhaW5lci5zbGlkZURvd24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFjb3VudENvbnRhaW5lci5zbGlkZVVwKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vTW9kYWxlc1xyXG5cclxuICAkKCcjbW9kYWxOdWV2bycpLmZhZGVJbigpLmNzcyh7XHJcbiAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICB9KTtcclxuXHJcbiAgJCgnI2J0bi1udWV2bycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICQoJyNtb2RhbE51ZXZvJykuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcblxyXG4gICQoJy5idG4tY2FuY2VsJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCwubW9kYWwtdGl0dGxlJykuZmFkZU91dCgpO1xyXG4gICAgJCgnLmFsZXJ0LWNvbnRhaW5lcicpLmZhZGVPdXQoKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4gIC8vVGFibGFzXHJcbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MjApIHtcclxuICAgICAgJCgndGFibGUnKS5jc3Moe1xyXG4gICAgICAgIFwib3ZlcmZsb3cteFwiOiBcInNjcm9sbFwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbn0pO1xyXG4iXX0=
