function e(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function t(e,t,n){const s=$("div.alert-container"),a="div.alert-content";s.find("div.alert-content").empty(),s.removeClass(),s.addClass("alert-container"),"nice"===e?s.addClass("alert-check").find(a).text("Nice !"):"error"===e?s.addClass("alert-error").find(a).text("Hmm, something went wrong"):"serverDown"===e?s.addClass("alert-server").find(a).text("Maybe the server is down :("):"entryDuplicate"===e?s.addClass("alert-duplicate").find(a).text("This user already exists"):"dontExists"===e&&s.addClass("alert-dontExists").find(a).text("This user don't exists"),s.fadeIn(t,"linear",(function(){setTimeout((function(){s.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),n)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function n(e,t,n){return!!(e>=t&e<=n)}function s(e){let t=$(e).find("select"),n=$(e).find("input");t.val("default").removeClass("correcto"),n.val("").removeClass("correcto")}function a(t){event.preventDefault();$(t).find("input,select");let s=$(t).find("input:visible,select:visible").length,a=($(t).find('button[type="submit"]'),0);const i=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,o=/^\d+$/;return $(t).find("input,select").each((function(t,s){let d=$(s).val(),c=$(s).prop("checked"),r=$(s).val(),l=$(s).parent().find("div.custom-checkbox");if(0!==$(s).length){switch($(s).attr("type")){case"text":case"password":case"date":e($(s),""!==d?"valido":"error");break;case"identification":o.test($(s).prop("value"))&n(d.length,5,14)?e($(s),"valido"):e($(s),"error");break;case"emailCustom":i.test($(s).prop("value"))?e($(s),"valido"):e($(s),"error");break;case"checkbox":e(l,!1!==c?"valido":"error");break;case"select":e($(s),"default"!=r?"valido":"error");break;case"year":o.test($(s).prop("value"))&n(d.length,4,5)?e($(s),"valido"):e($(s),"error")}a+=cumple}})),a===s}var i;$(document).ready((function(){navigator.userAgent.indexOf("Trident/")>-1&&(window.location.href="https://www.google.com.mx/chrome/?brand=CHBF&ds_kid=43700034632748694&utm_source=bing&utm_medium=cpc&utm_campaign=1005992%20%7C%20Chrome%20Win10%20%7C%20DR%20%7C%20ESS01%20%7C%20NA%20%7C%20NA%20%7C%20es%20%7C%20Desk%20%7C%20BING%20SEM%20%7C%20BKWS%20~%20Top%20KWDS%20-%20Exact&utm_term=descargar%20chrome&utm_content=Download%20Chrome%20-%20Exact&gclid=CO70m6TT-eUCFUTCDQodmiwDRQ&gclsrc=ds"),setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#editUser").click((function(){$("#modalEditUser").fadeIn().css({display:"flex"})})),$("#newStudent").click((function(){let e=$("#modalNewStudent");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$("#btn-editStudent").click((function(){let e=$(this).closest(".modal"),t=e.find("select,input");e.find(".btn-submitModal").fadeIn("500"),t.attr("disabled",!1)})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"services/process.php",type:"POST",async:!0,error:function(e){t("serverDown",1e3,3e3)}}),$("#logOut").click((function(){$.post("services/login.php?log=false",(function(e){"Cool"==JSON.parse(e).success?location.href="index.php":t("error",1e3,3e3)}))})),$("form#login").submit((function(e){e.preventDefault();let n=$(this),s=n.serialize();console.log(s),n.parent().find(".loading").show(),$.post("services/login.php?log=true",s,(function(e){n.parent().find(".loading").hide(),"Cool"==JSON.parse(e).success?(t("nice",1e3,3e3),location.href="home.php"):t("error",1e3,3e3)}))}));var o=$("#searchAll");function d(e){e.val();let n=e;clearTimeout(i),i=setTimeout((function(){let e="idForm=searchStudent&"+n.serialize();console.log(e),$.post("services/process.php",e,(function(e){var n=JSON.parse(e);"Error"==n.success?t("error",1e3,3e3):"Don't exists"==n.success?t("dontExists",1e3,3e3):c(n)}))}),1e3)}function c(e){let t=e.slice(-1)[0].rol,n=null;switch(t){case"Administrador":n='<span class="icon-eye"></span><span class="icon-coin-dollar"></span><span class="icon-plus"></span><span class="icon-bin"></span>';break;case"Coordinador":n='<span class="icon-eye"></span>'}e.pop(-1),$("#showStudents").empty(),$.each(e.slice(0),(function(e,t){$("#showStudents").append(`\n      <tr>\n        <td data-student="${r(t.id)}">${e+1}</td>\n        <td>${r(t.descripcion_tdoc)}</td>\n        <td data-ndoc="${r(t.ndoc)}">${r(t.ndoc)}</td>\n        <td>${r(t.nombre1)} ${r(t.nombre2)}</td>\n        <td>${r(t.apellido1)} ${r(t.apellido2)}</td>\n        <td class="table-options">${n}</td>\n      </tr>\n      `)})),l()}function r(e){return"NULL"===e?"":e}function l(){$("span.icon-coin-dollar").click((function(){let e=$("#modalPayments"),t=e.find("input"),n=$(this).closest("tr").find("td[data-student]").attr("data-student");$(this).closest("tr").find("td[data-ndoc]").attr("data-ndoc");t.attr("data-student",n),e.fadeIn().css({display:"flex"})})),$("span.icon-bin").click((function(){let n=$("#modalDelete"),a=n.find("input"),i=$(this).closest("tr").find("td[data-student]").attr("data-student"),o=$(this).closest("tr").find("td[data-ndoc]").attr("data-ndoc");a.attr("data-student",i),n.fadeIn().css({display:"flex"}),$("form#deleteStudent").submit((function(n){n.preventDefault();let a=this,d=$(this).closest(".modal"),c=$(this).attr("id"),r=$(this).find("input"),l=$("#showStudents").find(`td[data-student="${i}"]`).closest("tr");if(r.val()!==o)e($(r),"error");else{e($(r),"valido");let n=`idForm=${c}&idStudent=${i}&${$(a).serialize()}`;console.log(n),$.ajax({data:n,beforeSend:function(){$(a).parent().find(".loading").show()},success:function(e){$(a).parent().find(".loading").fadeOut(1e3);var n=JSON.parse(e);"Cool"==n.success?(l.remove(),d.fadeOut(),s(a),t("nice",1e3,3e3)):"Error"==n.success&&t("error",1e3,3e3)}})}}))})),$("span.icon-eye").click((function(){let e=$("#modalEditShow"),n=`idForm=showStudentInfo&idStudent=${$(this).closest("tr").find("td[data-student]").attr("data-student")}`;$.post("services/process.php",n,(function(n){var s=JSON.parse(n);"Error"==s.success?t("error",1e3,3e3):"Don't exists"==s.success?t("dontExists",1e3,3e3):function(e,t){let n=t.find("select,input"),s=t.find(".btn-submitModal");var a={tittle:$("#personName"),names:$("#editNombresEstu"),surnames:$("#editApellidosEstu"),numIdent:$("#editNumIdentEstu"),tdoc:$("#editTipoIdentEstu"),expeditionPlace:$("#editLugarExpe"),birthdate:$("#editFechaNaci"),birthplace:$("#editLugarNaci"),address:$("#editDireccionEstu"),email:$("#editEmailEstu"),tel1:$("#editTelResiEstu"),eps:$("#editEps"),rh:$("#editRh"),income:$("#editEstrato")};t.fadeIn().css({display:"flex"}),n.attr("disabled",!0),s.hide(),a.tittle.attr("data-student",e[0].id),a.tittle.text(`${r(e[0].nombre1)} ${r(e[0].nombre2)} ${r(e[0].apellido1)} ${r(e[0].apellido2)}`),a.names.val(`${r(e[0].nombre1)} ${r(e[0].nombre2)}`),a.surnames.val(`${r(e[0].apellido1)} ${r(e[0].apellido2)}`),a.numIdent.val(`${r(e[0].ndoc)}`),a.tdoc.val(`${r(e[0].tdoc_persona)}`),a.expeditionPlace.val(`${r(e[0].lugar_expedicion)}`),a.birthdate.val(`${r(e[0].fecha_nacimiento)}`),a.birthplace.val(`${r(e[0].lugar_nacimiento)}`),a.address.val(`${r(e[0].direccion)}`),a.email.val(`${r(e[0].email)}`),a.tel1.val(`${r(e[0].tel1)}`),a.eps.val(`${r(e[0].eps)}`),a.rh.val(`${r(e[0].rh)}`),a.income.val(`${r(e[0].estrato)}`)}(s,e)}))})),$("span.icon-plus").click((function(){let e=$("#modalMatricula"),n=(e.find("input#numMatri"),$(this).closest("tr").find("td[data-student]").attr("data-student"));$(this).closest("tr").find("td[data-student]").attr("data-student");e.fadeIn().css({display:"flex"}),e.find("h1").text("juan"),$("form#insertMatricula").submit((function(e){e.preventDefault();let i=this,o=$(this).closest(".modal"),d=$(this).attr("id");if(a(this)){let e=`idForm=${d}&idStudent=${n}&${$(i).serialize()}`;console.log(e),$.ajax({data:e,beforeSend:function(){$(i).parent().find(".loading").show()},success:function(e){$(i).parent().find(".loading").fadeOut(1e3);var n=JSON.parse(e);"Cool"==n.success?(o.fadeOut(),s(i),t("nice",1e3,3e3)):"Error"==n.success?t("error",1e3,3e3):"Entry duplicate"==n.success&&t("entryDuplicate",1e3,3e3)}})}}))}))}function u(e,n=!0){let i=$(e).attr("id");if(a(e)){var o=`idForm=${i}&${$(e).serialize()}`;console.log(o),$.ajax({data:o,beforeSend:function(){$(e).parent().find(".loading").show()},success:function(a){$(e).parent().find(".loading").fadeOut(1e3);var i=JSON.parse(a);"Cool"==i.success?(n&&$(e).closest(".modal").fadeOut(),s(e),t("nice",1e3,3e3)):"Error"==i.success?t("error",1e3,3e3):"Entry duplicate"==i.success&&t("entryDuplicate",1e3,3e3)}})}}o.keypress((function(){o.val().length>0&&d(o)})),$("span.icon-search").click((function(){o.val().length>0&&d(o)})),$("form.edit").submit((function(e){let n=this,i=$(n).closest(".modal"),c=$(n).attr("id"),r=$("#personName").attr("data-student");$(n).find("input"),$(n).find("select");$(n).serialize();if(a(n)){let e=`idForm=${c}&idStudent=${r}&${$(n).serialize()}`;console.log(e),$.ajax({data:e,beforeSend:function(){$(n).parent().find(".loading").show()},success:function(e){$(n).parent().find(".loading").fadeOut(1e3);var a=JSON.parse(e);"Cool"==a.success?(i.fadeOut(),s(n),d(o),t("nice",1e3,3e3)):"Error"==a.success&&t("error",1e3,3e3)}})}})),$("form#editUsername").submit((function(e){u(this,!1)})),$("form#editPassword").submit((function(e){u(this,!1)})),$("form#insertStudent").submit((function(e){u(this)})),$("#addRelative").click((function(){let e=$("#modalNewRelative"),n=$(this).closest(".modal"),i=n.find("#personName").attr("data-student");n.css({"z-index":"10"}),e.fadeIn().css({display:"flex"}),$("form#insertRelative").submit((function(e){let n=$(this),o=n.attr("id");if(a(n)){let e=`idForm=${o}&idStudent=${i}&${n.serialize()}`;console.log(e),$.ajax({data:e,beforeSend:function(){n.parent().find(".loading").show()},success:function(e){n.parent().find(".loading").fadeOut(1e3);var a=JSON.parse(e);"Cool"==a.success?(n.closest(".modal").fadeOut(),s(n),t("nice",1e3,3e3)):"Error"==a.success?t("error",1e3,3e3):"Entry duplicate"==a.success&&t("entryDuplicate",1e3,3e3)}})}}))})),$.getJSON("assets/json/citys.json",(function(e){var t=[];let n=$("select.citys");for(var s=0;s<e.length;s++)for(var a=0;a<e[s].ciudades.length;a++)t.push("<option value='"+e[s].ciudades[a]+"'>"+e[s].departamento+"-"+e[s].ciudades[a]+"</option>");for(s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/bloodTypes.json",(function(e){var t=[];let n=$("select.bloodTypes");$.each(e,(function(e){t.push("<option value='"+e+"'>"+e+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/eps.json",(function(e){var t=[];let n=$("select.epss");$.each(e,(function(e,n){t.push("<option value='"+n.name+"'>"+n.name+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])})),$.getJSON("assets/json/grades.json",(function(e){var t=[];let n=$("select.grades");$.each(e,(function(e,n){t.push("<option value='"+n.name+"'>"+n.name+"</option>")}));for(var s=0;s<t.length;s++)n.append(t[s])}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fZm9ybXMuanMiLCJfZG9tLmpzIl0sIm5hbWVzIjpbInBpbnRhclN0aWxvcyIsImVsZW0iLCJ0aXBvIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImN1bXBsZSIsInNob3dBbGVydCIsInR5cGUiLCJ0aW1lSW4iLCJ0aW1lT3V0IiwiZGl2QWxlcnQiLCIkIiwiY29udGVudEFsZXJ0IiwiZmluZCIsImVtcHR5IiwidGV4dCIsImZhZGVJbiIsInNldFRpbWVvdXQiLCJmYWRlT3V0IiwiYW5pbWF0ZSIsImJvdHRvbSIsImR1cmF0aW9uIiwicXVldWUiLCJ2YWxpZGF0ZUxlbmd0aCIsInZhbG9yIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwiZW1wdHlDbGFzcyIsImZvcm0iLCJzZWxlY3RzIiwiaW5wdXRzIiwidmFsIiwidmFsaWRhdGVGb3JtIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNhbXBvc09ibGlnYSIsImxlbmd0aCIsInRvdGFsIiwicmVnRXhwRW1haWwiLCJyZWdFeHBOdW1iZXIiLCJlYWNoIiwiaSIsImUiLCJ2YWxvcklucHV0IiwidmFsb3JDaGVja2JveCIsInByb3AiLCJ2YWxvclNlbGVjdCIsImN1c3RvbURpdkNoZWNrIiwicGFyZW50IiwiYXR0ciIsInRlc3QiLCJwZXRpY2lvbiIsImRvY3VtZW50IiwicmVhZHkiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY3NzIiwiZGlzcGxheSIsIldPVyIsImluaXQiLCJjbGljayIsImN1c3RvbUNoZWNrIiwidGhpcyIsIm1lbnUiLCJzbGlkZURvd24iLCJzbGlkZVVwIiwiYWNvdW50Q29udGFpbmVyIiwibW9kYWwiLCJjbG9zZXN0Iiwiei1pbmRleCIsInJlc2l6ZSIsImlubmVyV2lkdGgiLCJvdmVyZmxvdy14IiwiYWpheFNldHVwIiwidXJsIiwiYXN5bmMiLCJlcnJvciIsInJlc3BvbnNlIiwicG9zdCIsIkpTT04iLCJwYXJzZSIsInN1Y2Nlc3MiLCJzdWJtaXQiLCJmb3JtdWxhcmlvIiwiZGF0YSIsInNlcmlhbGl6ZSIsImNvbnNvbGUiLCJsb2ciLCJzaG93IiwiaGlkZSIsImJ1dHRvblNlYXJjaCIsInNlYXJjaFN0dWRlbnQiLCJidXR0b24iLCJpbnB1dCIsImNsZWFyVGltZW91dCIsInN0dWRlbnRzIiwic2hvd1N0dWRlbnRzIiwicm9sIiwic2xpY2UiLCJyb2xlT3B0aW9ucyIsInBvcCIsImlkIiwic3R1ZGVudCIsImFwcGVuZCIsImNoYW5nZU51bGxWYWx1ZSIsImRlc2NyaXBjaW9uX3Rkb2MiLCJuZG9jIiwibm9tYnJlMSIsIm5vbWJyZTIiLCJhcGVsbGlkbzEiLCJhcGVsbGlkbzIiLCJvcHRpb25zU3R1ZGVudHMiLCJzdHJpbmciLCJtb2RhbFBheW1lbnRzIiwiaW5wdXRNb2RhbCIsImlkU3R1ZGVudCIsIm1vZGFsRGVsZXRlIiwibnVtRG9jU3R1ZGVudCIsImlkRm9ybSIsInRyU3R1ZGVudCIsImFqYXgiLCJiZWZvcmVTZW5kIiwianNvbkRhdGEiLCJyZW1vdmUiLCJtb2RhbFNob3ciLCJzdHVkZW50SW5mbyIsInNhdmVCdXR0b25zIiwic3R1ZGVudElucHV0cyIsInRpdHRsZSIsIm5hbWVzIiwic3VybmFtZXMiLCJudW1JZGVudCIsInRkb2MiLCJleHBlZGl0aW9uUGxhY2UiLCJiaXJ0aGRhdGUiLCJiaXJ0aHBsYWNlIiwiYWRkcmVzcyIsImVtYWlsIiwidGVsMSIsImVwcyIsInJoIiwiaW5jb21lIiwidGRvY19wZXJzb25hIiwibHVnYXJfZXhwZWRpY2lvbiIsImZlY2hhX25hY2ltaWVudG8iLCJsdWdhcl9uYWNpbWllbnRvIiwiZGlyZWNjaW9uIiwiZXN0cmF0byIsInNob3dTdHVkZW50SW5mbyIsIm1vZGFsTWF0cmkiLCJpbnNlcnRQZXJzb24iLCJjbG9zZU1vZGFsIiwia2V5cHJlc3MiLCJjbG9zZXN0TW9kYWwiLCJnZXRKU09OIiwib3B0aW9ucyIsInNlbGVjdCIsInoiLCJjaXVkYWRlcyIsInB1c2gi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QUFBLGdCQUdBLElBQUEsSUFBQTdILEVBQUEsRUFBQUEsRUFBQXNILEVBQUEzSCxPQUFBSyxJQUNBdUgsRUFBQXJELE9BQUFvRCxFQUFBdEgiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vLy8vLy8vLy8vIFBpbnRhIGVzdGlsb3MgZGUgZXJyb3IgeSB2YWxpZG9cclxuZnVuY3Rpb24gcGludGFyU3RpbG9zKGVsZW0sIHRpcG8pIHtcclxuXHJcbiAgaWYgKHRpcG8gPT09ICdlcnJvcicpIHtcclxuICAgIGVsZW0uYWRkQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICBlbGVtLnJlbW92ZUNsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgY3VtcGxlID0gMDtcclxuXHJcbiAgfSBlbHNlIGlmICh0aXBvID09PSAndmFsaWRvJykge1xyXG4gICAgZWxlbS5hZGRDbGFzcygnY29ycmVjdG8nKTtcclxuICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XHJcbiAgICBjdW1wbGUgPSAxO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLyBNdWVzdHJhIGFsZXJ0YSBkZSBsb3MgZm9ybXVsYXJpb3NcclxuZnVuY3Rpb24gc2hvd0FsZXJ0KHR5cGUsIHRpbWVJbiwgdGltZU91dCkge1xyXG5cclxuICBjb25zdCBkaXZBbGVydCA9ICQoJ2Rpdi5hbGVydC1jb250YWluZXInKTtcclxuICBjb25zdCBjb250ZW50QWxlcnQgPSAnZGl2LmFsZXJ0LWNvbnRlbnQnO1xyXG5cclxuICBkaXZBbGVydC5maW5kKCdkaXYuYWxlcnQtY29udGVudCcpLmVtcHR5KCk7XHJcbiAgZGl2QWxlcnQucmVtb3ZlQ2xhc3MoKTtcclxuICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtY29udGFpbmVyJyk7XHJcblxyXG4gIGlmICh0eXBlID09PSBcIm5pY2VcIikge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWNoZWNrJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ05pY2UgIScpO1xyXG5cclxuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZXJyb3JcIikge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWVycm9yJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ0htbSwgc29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcclxuXHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcInNlcnZlckRvd25cIikge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LXNlcnZlcicpLmZpbmQoY29udGVudEFsZXJ0KS50ZXh0KCdNYXliZSB0aGUgc2VydmVyIGlzIGRvd24gOignKTtcclxuXHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcImVudHJ5RHVwbGljYXRlXCIpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1kdXBsaWNhdGUnKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnVGhpcyB1c2VyIGFscmVhZHkgZXhpc3RzJyk7XHJcblxyXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJkb250RXhpc3RzXCIpIHtcclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1kb250RXhpc3RzJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoXCJUaGlzIHVzZXIgZG9uJ3QgZXhpc3RzXCIpO1xyXG4gIH1cclxuXHJcbiAgZGl2QWxlcnQuZmFkZUluKHRpbWVJbiwgXCJsaW5lYXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBkaXZBbGVydC5mYWRlT3V0KCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgJ2JvdHRvbSc6ICcwJSdcclxuICAgICAgfSwge1xyXG4gICAgICAgIGR1cmF0aW9uOiAnc2xvdycsXHJcbiAgICAgICAgcXVldWU6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG4gICAgfSwgdGltZU91dCk7XHJcbiAgfSkuYW5pbWF0ZSh7XHJcbiAgICAnYm90dG9tJzogJzIwdmgnXHJcbiAgfSwge1xyXG4gICAgZHVyYXRpb246ICdzbG93JyxcclxuICAgIHF1ZXVlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vIFZhbGlkYSBsb25naXR1ZFxyXG5mdW5jdGlvbiB2YWxpZGF0ZUxlbmd0aCh2YWxvciwgbWluTGVuZ3RoLCBtYXhMZW5ndGgpIHtcclxuICBpZiAoKHZhbG9yID49IG1pbkxlbmd0aCkgJiAodmFsb3IgPD0gbWF4TGVuZ3RoKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLyByZW1vdmUgY2xhc3MgY29yZWN0byBvbiBmb3JtdWxhcmlvc1xyXG5mdW5jdGlvbiBlbXB0eUNsYXNzKGZvcm0pIHtcclxuXHJcbiAgbGV0IHNlbGVjdHMgPSAkKGZvcm0pLmZpbmQoJ3NlbGVjdCcpO1xyXG4gIGxldCBpbnB1dHMgPSAkKGZvcm0pLmZpbmQoJ2lucHV0Jyk7XHJcblxyXG5cclxuICBzZWxlY3RzLnZhbCgnZGVmYXVsdCcpLnJlbW92ZUNsYXNzKCdjb3JyZWN0bycpO1xyXG4gIGlucHV0cy52YWwoJycpLnJlbW92ZUNsYXNzKCdjb3JyZWN0bycpO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGZvcm0pIHtcclxuXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICBsZXQgaW5wdXRzID0gJChmb3JtKS5maW5kKCdpbnB1dCxzZWxlY3QnKTtcclxuICBsZXQgY2FtcG9zT2JsaWdhID0gJChmb3JtKS5maW5kKCdpbnB1dDp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlJykubGVuZ3RoO1xyXG4gIGxldCBib3RvblN1Ym1pdCA9ICQoZm9ybSkuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHJcbiAgLy9WYXJpYWJsZSBwYXJhIGNvbXByYXIgbG9zIGlucHV0cyBxdWUgZXN0YW4gYmllbiBjb24gbGEgY2FudGlkYWQgZGUgaW5wdXRzIGRlbCBmb3JtdWxhcmlvXHJcbiAgbGV0IHRvdGFsID0gMDtcclxuICAvL2V4cHJlc2lvbmVzIFJlZ3VsYXJlc1xyXG4gIGNvbnN0IHJlZ0V4cEVtYWlsID0gL15bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT8kLztcclxuICBjb25zdCByZWdFeHBOdW1iZXIgPSAvXlxcZCskLztcclxuXHJcblxyXG5cclxuXHJcbiAgLy8vL1ZhbGlkYXIgbG9zIGNhbXBvc1xyXG4gICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0JykuZWFjaChmdW5jdGlvbihpLCBlKSB7XHJcblxyXG5cclxuICAgIGxldCB2YWxvcklucHV0ID0gJChlKS52YWwoKTtcclxuICAgIGxldCB2YWxvckNoZWNrYm94ID0gJChlKS5wcm9wKCdjaGVja2VkJyk7XHJcbiAgICBsZXQgdmFsb3JTZWxlY3QgPSAkKGUpLnZhbCgpO1xyXG4gICAgbGV0IGN1c3RvbURpdkNoZWNrID0gJChlKS5wYXJlbnQoKS5maW5kKCdkaXYuY3VzdG9tLWNoZWNrYm94Jyk7XHJcblxyXG5cclxuICAgIGlmICgkKGUpLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICBzd2l0Y2ggKCQoZSkuYXR0cigndHlwZScpKSB7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwicGFzc3dvcmRcIjpcclxuICAgICAgICAgIHZhbG9ySW5wdXQgIT09IFwiXCIgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiaWRlbnRpZmljYXRpb25cIjpcclxuICAgICAgICAgIGlmICgocmVnRXhwTnVtYmVyLnRlc3QoJChlKS5wcm9wKCd2YWx1ZScpKSkgJiAodmFsaWRhdGVMZW5ndGgodmFsb3JJbnB1dC5sZW5ndGgsIDUsIDE0KSkpIHtcclxuICAgICAgICAgICAgcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiZW1haWxDdXN0b21cIjpcclxuICAgICAgICAgIHJlZ0V4cEVtYWlsLnRlc3QoJChlKS5wcm9wKCd2YWx1ZScpKSA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XHJcbiAgICAgICAgICB2YWxvckNoZWNrYm94ICE9PSBmYWxzZSA/IHBpbnRhclN0aWxvcyhjdXN0b21EaXZDaGVjaywgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKGN1c3RvbURpdkNoZWNrLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XHJcbiAgICAgICAgICB2YWxvclNlbGVjdCAhPSBcImRlZmF1bHRcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwieWVhclwiOlxyXG4gICAgICAgICAgaWYgKChyZWdFeHBOdW1iZXIudGVzdCgkKGUpLnByb3AoJ3ZhbHVlJykpKSAmICh2YWxpZGF0ZUxlbmd0aCh2YWxvcklucHV0Lmxlbmd0aCwgNCwgNSkpKXtcclxuICAgICAgICAgICAgcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHRvdGFsID0gdG90YWwgKyBjdW1wbGU7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cclxuICBpZiAodG90YWwgPT09IGNhbXBvc09ibGlnYSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG59XHJcbi8vIE5PVEU6IENPTkZJRyBDT05TVUxUQVNcclxuJC5hamF4U2V0dXAoe1xyXG4gIHVybDogJ3NlcnZpY2VzL3Byb2Nlc3MucGhwJyxcclxuICB0eXBlOiAnUE9TVCcsXHJcbiAgYXN5bmM6IHRydWUsXHJcbiAgZXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygncmVzcG9uc2UnLCByZXNwb25zZSk7XHJcbiAgICBzaG93QWxlcnQoXCJzZXJ2ZXJEb3duXCIsIDEwMDAsIDMwMDApO1xyXG4gIH1cclxufSk7XHJcbi8vIE5PVEU6IExPRyBPVVRcclxuJCgnI2xvZ091dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICQucG9zdChcInNlcnZpY2VzL2xvZ2luLnBocD9sb2c9ZmFsc2VcIiwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuICAgICAgbG9jYXRpb24uaHJlZiA9ICdpbmRleC5waHAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgTE9HSU5cclxuJCgnZm9ybSNsb2dpbicpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGxldCBmb3JtdWxhcmlvID0gJCh0aGlzKTtcclxuICBsZXQgZGF0YSA9IGZvcm11bGFyaW8uc2VyaWFsaXplKCk7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcblxyXG4gICQucG9zdChcInNlcnZpY2VzL2xvZ2luLnBocD9sb2c9dHJ1ZVwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmhpZGUoKTtcclxuICAgIGxldCBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuXHJcbiAgICAgIHNob3dBbGVydChcIm5pY2VcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnaG9tZS5waHAnO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxufSk7XHJcblxyXG5cclxuLy8vLyBOT1RFOiBCVVNDQURPUlxyXG5cclxudmFyIHBldGljaW9uO1xyXG52YXIgYnV0dG9uU2VhcmNoID0gJCgnI3NlYXJjaEFsbCcpO1xyXG5cclxuXHJcbmJ1dHRvblNlYXJjaC5rZXlwcmVzcyhmdW5jdGlvbigpIHtcclxuICBsZXQgYnV0dG9uVmFsdWUgPSBidXR0b25TZWFyY2gudmFsKCk7XHJcblxyXG4gIGlmIChidXR0b25WYWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICBzZWFyY2hTdHVkZW50KGJ1dHRvblNlYXJjaCk7XHJcbiAgfVxyXG59KTtcclxuJCgnc3Bhbi5pY29uLXNlYXJjaCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gIGxldCBidXR0b25WYWx1ZSA9IGJ1dHRvblNlYXJjaC52YWwoKTtcclxuICBpZiAoYnV0dG9uVmFsdWUubGVuZ3RoID4gMCkge1xyXG4gICAgc2VhcmNoU3R1ZGVudChidXR0b25TZWFyY2gpO1xyXG4gIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZWFyY2hTdHVkZW50KGJ1dHRvbikge1xyXG5cclxuICBsZXQgdmFsdWUgPSBidXR0b24udmFsKCk7XHJcbiAgbGV0IGlucHV0ID0gYnV0dG9uO1xyXG5cclxuXHJcbiAgY2xlYXJUaW1lb3V0KHBldGljaW9uKTtcclxuICBwZXRpY2lvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZGF0YSA9ICdpZEZvcm09c2VhcmNoU3R1ZGVudCYnICsgaW5wdXQuc2VyaWFsaXplKCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAkLnBvc3QoXCJzZXJ2aWNlcy9wcm9jZXNzLnBocFwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgIHZhciBzdHVkZW50cyA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG5cclxuICAgICAgaWYgKHN0dWRlbnRzLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc3R1ZGVudHMuc3VjY2VzcyA9PSBcIkRvbid0IGV4aXN0c1wiKSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KFwiZG9udEV4aXN0c1wiLCAxMDAwLCAzMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgIHNob3dTdHVkZW50cyhzdHVkZW50cyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICB9LCAxMDAwKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dTdHVkZW50cyhzdHVkZW50cykge1xyXG4gIGxldCByb2wgPSBzdHVkZW50cy5zbGljZSgtMSlbMF0ucm9sO1xyXG4gIGxldCByb2xlT3B0aW9ucyA9IG51bGw7XHJcblxyXG5cclxuICBzd2l0Y2ggKHJvbCkge1xyXG4gICAgY2FzZSAnQWRtaW5pc3RyYWRvcic6XHJcbiAgICAgIHJvbGVPcHRpb25zID0gYDxzcGFuIGNsYXNzPVwiaWNvbi1leWVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpY29uLWNvaW4tZG9sbGFyXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1wbHVzXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaWNvbi1iaW5cIj48L3NwYW4+YDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdDb29yZGluYWRvcic6XHJcbiAgICAgIHJvbGVPcHRpb25zID0gYDxzcGFuIGNsYXNzPVwiaWNvbi1leWVcIj48L3NwYW4+YDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG5cclxuICB9XHJcblxyXG4gIC8vIE5PVEU6IERlbGV0ZSB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBhcnJheSBjdXogaXQncyB0aGUgcm9sXHJcbiAgc3R1ZGVudHMucG9wKC0xKTtcclxuXHJcbiAgJCgnI3Nob3dTdHVkZW50cycpLmVtcHR5KCk7XHJcbiAgJC5lYWNoKHN0dWRlbnRzLnNsaWNlKDApLCBmdW5jdGlvbihpZCwgc3R1ZGVudCkge1xyXG5cclxuXHJcblxyXG4gICAgJCgnI3Nob3dTdHVkZW50cycpLmFwcGVuZChcclxuICAgICAgYFxyXG4gICAgICA8dHI+XHJcbiAgICAgICAgPHRkIGRhdGEtc3R1ZGVudD1cIiR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnQuaWQpfVwiPiR7aWQrMX08L3RkPlxyXG4gICAgICAgIDx0ZD4ke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50LmRlc2NyaXBjaW9uX3Rkb2MpfTwvdGQ+XHJcbiAgICAgICAgPHRkIGRhdGEtbmRvYz1cIiR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnQubmRvYyl9XCI+JHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudC5uZG9jKX08L3RkPlxyXG4gICAgICAgIDx0ZD4ke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50Lm5vbWJyZTEpfSAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50Lm5vbWJyZTIpfTwvdGQ+XHJcbiAgICAgICAgPHRkPiR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnQuYXBlbGxpZG8xKX0gJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudC5hcGVsbGlkbzIpfTwvdGQ+XHJcbiAgICAgICAgPHRkIGNsYXNzPVwidGFibGUtb3B0aW9uc1wiPiR7cm9sZU9wdGlvbnN9PC90ZD5cclxuICAgICAgPC90cj5cclxuICAgICAgYFxyXG4gICAgKTtcclxuXHJcbiAgfSk7XHJcblxyXG4gIG9wdGlvbnNTdHVkZW50cygpO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlTnVsbFZhbHVlKHN0cmluZykge1xyXG4gIHJldHVybiBzdHJpbmcgPT09IFwiTlVMTFwiID8gXCJcIiA6IHN0cmluZztcclxufVxyXG5cclxuZnVuY3Rpb24gb3B0aW9uc1N0dWRlbnRzKCkge1xyXG5cclxuXHJcbiAgJCgnc3Bhbi5pY29uLWNvaW4tZG9sbGFyJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsUGF5bWVudHMgPSAkKCcjbW9kYWxQYXltZW50cycpO1xyXG4gICAgbGV0IGlucHV0TW9kYWwgPSBtb2RhbFBheW1lbnRzLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICBsZXQgaWRTdHVkZW50ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmZpbmQoJ3RkW2RhdGEtc3R1ZGVudF0nKS5hdHRyKCdkYXRhLXN0dWRlbnQnKTtcclxuICAgIGxldCBudW1Eb2NTdHVkZW50ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmZpbmQoJ3RkW2RhdGEtbmRvY10nKS5hdHRyKCdkYXRhLW5kb2MnKTs7XHJcblxyXG4gICAgaW5wdXRNb2RhbC5hdHRyKCdkYXRhLXN0dWRlbnQnLCBpZFN0dWRlbnQpO1xyXG5cclxuICAgIG1vZGFsUGF5bWVudHMuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAvLyBOT1RFOiBDT05TVUxUQSBFTElNSU5BUlxyXG4gICAgLy8gJCgnZm9ybSNkZWxldGVTdHVkZW50Jykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyAgIGxldCBmb3JtID0gdGhpcztcclxuICAgIC8vICAgbGV0IG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICAgIC8vICAgbGV0IGlkRm9ybSA9ICQodGhpcykuYXR0cignaWQnKTtcclxuICAgIC8vICAgbGV0IGlucHV0ID0gJCh0aGlzKS5maW5kKCdpbnB1dCcpO1xyXG4gICAgLy8gICBsZXQgdHJTdHVkZW50ID0gJCgnI3Nob3dTdHVkZW50cycpLmZpbmQoYHRkW2RhdGEtc3R1ZGVudD1cIiR7aWRTdHVkZW50fVwiXWApLmNsb3Nlc3QoJ3RyJyk7XHJcbiAgICAvL1xyXG4gICAgLy9cclxuICAgIC8vICAgaWYgKGlucHV0LnZhbCgpICE9PSBudW1Eb2NTdHVkZW50KSB7XHJcbiAgICAvLyAgICAgcGludGFyU3RpbG9zKCQoaW5wdXQpLCAnZXJyb3InKTtcclxuICAgIC8vICAgfSBlbHNlIHtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgcGludGFyU3RpbG9zKCQoaW5wdXQpLCAndmFsaWRvJyk7XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIGxldCBkYXRhID0gYGlkRm9ybT0ke2lkRm9ybX0maWRTdHVkZW50PSR7aWRTdHVkZW50fSYkeyQoZm9ybSkuc2VyaWFsaXplKCl9YDtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAvLyAgICAgJC5hamF4KHtcclxuICAgIC8vICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAvLyAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgIC8vICAgICAgIH0sXHJcbiAgICAvLyAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAvLyAgICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuICAgIC8vICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0clN0dWRlbnQpO1xyXG4gICAgLy9cclxuICAgIC8vICAgICAgICAgICB0clN0dWRlbnQucmVtb3ZlKCk7XHJcbiAgICAvLyAgICAgICAgICAgbW9kYWwuZmFkZU91dCgpO1xyXG4gICAgLy8gICAgICAgICAgIGVtcHR5Q2xhc3MoZm9ybSk7XHJcbiAgICAvLyAgICAgICAgICAgc2hvd0FsZXJ0KFwibmljZVwiLCAxMDAwLCAzMDAwKTtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiRXJyb3JcIikge1xyXG4gICAgLy8gICAgICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICB9LFxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vICAgfVxyXG4gICAgLy9cclxuICAgIC8vXHJcbiAgICAvLyB9KTtcclxuXHJcbiAgfSk7XHJcbiAgLy8vL0VsaW1pbmFyIEVTVFVESUFOVEVcclxuXHJcbiAgJCgnc3Bhbi5pY29uLWJpbicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGxldCBtb2RhbERlbGV0ZSA9ICQoJyNtb2RhbERlbGV0ZScpO1xyXG4gICAgbGV0IGlucHV0TW9kYWwgPSBtb2RhbERlbGV0ZS5maW5kKCdpbnB1dCcpO1xyXG4gICAgbGV0IGlkU3R1ZGVudCA9ICQodGhpcykuY2xvc2VzdCgndHInKS5maW5kKCd0ZFtkYXRhLXN0dWRlbnRdJykuYXR0cignZGF0YS1zdHVkZW50Jyk7XHJcbiAgICBsZXQgbnVtRG9jU3R1ZGVudCA9ICQodGhpcykuY2xvc2VzdCgndHInKS5maW5kKCd0ZFtkYXRhLW5kb2NdJykuYXR0cignZGF0YS1uZG9jJyk7O1xyXG5cclxuICAgIGlucHV0TW9kYWwuYXR0cignZGF0YS1zdHVkZW50JywgaWRTdHVkZW50KTtcclxuXHJcbiAgICBtb2RhbERlbGV0ZS5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE5PVEU6IENPTlNVTFRBIEVMSU1JTkFSXHJcbiAgICAkKCdmb3JtI2RlbGV0ZVN0dWRlbnQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgbGV0IGZvcm0gPSB0aGlzO1xyXG4gICAgICBsZXQgbW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG4gICAgICBsZXQgaWRGb3JtID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xyXG4gICAgICBsZXQgaW5wdXQgPSAkKHRoaXMpLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICAgIGxldCB0clN0dWRlbnQgPSAkKCcjc2hvd1N0dWRlbnRzJykuZmluZChgdGRbZGF0YS1zdHVkZW50PVwiJHtpZFN0dWRlbnR9XCJdYCkuY2xvc2VzdCgndHInKTtcclxuXHJcblxyXG4gICAgICBpZiAoaW5wdXQudmFsKCkgIT09IG51bURvY1N0dWRlbnQpIHtcclxuICAgICAgICBwaW50YXJTdGlsb3MoJChpbnB1dCksICdlcnJvcicpO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBwaW50YXJTdGlsb3MoJChpbnB1dCksICd2YWxpZG8nKTtcclxuXHJcbiAgICAgICAgbGV0IGRhdGEgPSBgaWRGb3JtPSR7aWRGb3JtfSZpZFN0dWRlbnQ9JHtpZFN0dWRlbnR9JiR7JChmb3JtKS5zZXJpYWxpemUoKX1gO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkNvb2xcIikge1xyXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRyU3R1ZGVudCk7XHJcblxyXG4gICAgICAgICAgICAgIHRyU3R1ZGVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICBtb2RhbC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgZW1wdHlDbGFzcyhmb3JtKTtcclxuICAgICAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICB9XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICB9KTtcclxuXHJcbiAgLy8vL01vc3RyYXIgSU5GTyAvIEVESVRBUlxyXG4gICQoJ3NwYW4uaWNvbi1leWUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxTaG93ID0gJCgnI21vZGFsRWRpdFNob3cnKTtcclxuICAgIGxldCBpZFN0dWRlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGRbZGF0YS1zdHVkZW50XScpLmF0dHIoJ2RhdGEtc3R1ZGVudCcpO1xyXG5cclxuICAgIGxldCBkYXRhID0gYGlkRm9ybT1zaG93U3R1ZGVudEluZm8maWRTdHVkZW50PSR7aWRTdHVkZW50fWA7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ2xvIHF1ZSBlbnZpbyAnLCBkYXRhKTtcclxuICAgICQucG9zdChcInNlcnZpY2VzL3Byb2Nlc3MucGhwXCIsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXNwb25zZSBzdHVkZW50JywgcmVzcG9uc2UpO1xyXG4gICAgICB2YXIgc3R1ZGVudEluZm8gPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgIGlmIChzdHVkZW50SW5mby5zdWNjZXNzID09IFwiRXJyb3JcIikge1xyXG4gICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0dWRlbnRJbmZvLnN1Y2Nlc3MgPT0gXCJEb24ndCBleGlzdHNcIikge1xyXG4gICAgICAgIHNob3dBbGVydChcImRvbnRFeGlzdHNcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd1N0dWRlbnRJbmZvKHN0dWRlbnRJbmZvLCBtb2RhbFNob3cpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gc2hvd1N0dWRlbnRJbmZvKHN0dWRlbnRJbmZvLCBtb2RhbFNob3cpIHtcclxuXHJcbiAgICAvLyBjb25zb2xlLnRhYmxlKHN0dWRlbnRJbmZvWzBdKTtcclxuXHJcbiAgICBsZXQgaW5wdXRzID0gbW9kYWxTaG93LmZpbmQoJ3NlbGVjdCxpbnB1dCcpO1xyXG4gICAgbGV0IHNhdmVCdXR0b25zID0gbW9kYWxTaG93LmZpbmQoJy5idG4tc3VibWl0TW9kYWwnKTtcclxuXHJcbiAgICB2YXIgc3R1ZGVudElucHV0cyA9IHtcclxuICAgICAgdGl0dGxlOiAkKCcjcGVyc29uTmFtZScpLFxyXG4gICAgICBuYW1lczogJCgnI2VkaXROb21icmVzRXN0dScpLFxyXG4gICAgICBzdXJuYW1lczogJCgnI2VkaXRBcGVsbGlkb3NFc3R1JyksXHJcbiAgICAgIG51bUlkZW50OiAkKCcjZWRpdE51bUlkZW50RXN0dScpLFxyXG4gICAgICB0ZG9jOiAkKCcjZWRpdFRpcG9JZGVudEVzdHUnKSxcclxuICAgICAgZXhwZWRpdGlvblBsYWNlOiAkKCcjZWRpdEx1Z2FyRXhwZScpLFxyXG4gICAgICBiaXJ0aGRhdGU6ICQoJyNlZGl0RmVjaGFOYWNpJyksXHJcbiAgICAgIGJpcnRocGxhY2U6ICQoJyNlZGl0THVnYXJOYWNpJyksXHJcbiAgICAgIGFkZHJlc3M6ICQoJyNlZGl0RGlyZWNjaW9uRXN0dScpLFxyXG4gICAgICBlbWFpbDogJCgnI2VkaXRFbWFpbEVzdHUnKSxcclxuICAgICAgdGVsMTogJCgnI2VkaXRUZWxSZXNpRXN0dScpLFxyXG4gICAgICBlcHM6ICQoJyNlZGl0RXBzJyksXHJcbiAgICAgIHJoOiAkKCcjZWRpdFJoJyksXHJcbiAgICAgIGluY29tZTogJCgnI2VkaXRFc3RyYXRvJylcclxuICAgIH1cclxuICAgIG1vZGFsU2hvdy5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gICAgaW5wdXRzLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICBzYXZlQnV0dG9ucy5oaWRlKCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRpdHRsZS5hdHRyKGBkYXRhLXN0dWRlbnRgLCBzdHVkZW50SW5mb1swXS5pZCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRpdHRsZS50ZXh0KGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5ub21icmUxKX0gJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0ubm9tYnJlMil9ICR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmFwZWxsaWRvMSl9ICR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmFwZWxsaWRvMil9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLm5hbWVzLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0ubm9tYnJlMSl9ICR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLm5vbWJyZTIpfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5zdXJuYW1lcy52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmFwZWxsaWRvMSl9ICR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmFwZWxsaWRvMil9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLm51bUlkZW50LnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0ubmRvYyl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnRkb2MudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS50ZG9jX3BlcnNvbmEpfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5leHBlZGl0aW9uUGxhY2UudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5sdWdhcl9leHBlZGljaW9uKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuYmlydGhkYXRlLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uZmVjaGFfbmFjaW1pZW50byl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmJpcnRocGxhY2UudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5sdWdhcl9uYWNpbWllbnRvKX1gKTtcclxuICAgIHN0dWRlbnRJbnB1dHMuYWRkcmVzcy52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmRpcmVjY2lvbil9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmVtYWlsLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0uZW1haWwpfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy50ZWwxLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0udGVsMSl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLmVwcy52YWwoYCR7Y2hhbmdlTnVsbFZhbHVlKHN0dWRlbnRJbmZvWzBdLmVwcyl9YCk7XHJcbiAgICBzdHVkZW50SW5wdXRzLnJoLnZhbChgJHtjaGFuZ2VOdWxsVmFsdWUoc3R1ZGVudEluZm9bMF0ucmgpfWApO1xyXG4gICAgc3R1ZGVudElucHV0cy5pbmNvbWUudmFsKGAke2NoYW5nZU51bGxWYWx1ZShzdHVkZW50SW5mb1swXS5lc3RyYXRvKX1gKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgLy8vL05VRVZBIE1BVFJJQ1VMQVxyXG4gICQoJ3NwYW4uaWNvbi1wbHVzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsTWF0cmkgPSAkKCcjbW9kYWxNYXRyaWN1bGEnKTtcclxuICAgIGxldCBpbnB1dE1vZGFsID0gbW9kYWxNYXRyaS5maW5kKCdpbnB1dCNudW1NYXRyaScpO1xyXG4gICAgbGV0IGlkU3R1ZGVudCA9ICQodGhpcykuY2xvc2VzdCgndHInKS5maW5kKCd0ZFtkYXRhLXN0dWRlbnRdJykuYXR0cignZGF0YS1zdHVkZW50Jyk7XHJcbiAgICBsZXQgbmFtZVN0dWRlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuZmluZCgndGRbZGF0YS1zdHVkZW50XScpLmF0dHIoJ2RhdGEtc3R1ZGVudCcpO1xyXG5cclxuICAgIG1vZGFsTWF0cmkuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuXHJcbiAgICBtb2RhbE1hdHJpLmZpbmQoJ2gxJykudGV4dCgnanVhbicpO1xyXG5cclxuXHJcbiAgICAvLyBOT1RFOiBDT05TVUxUQSBOVUVWQSBNQVRSSUNVTEFcclxuICAgICQoJ2Zvcm0jaW5zZXJ0TWF0cmljdWxhJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGxldCBmb3JtID0gdGhpcztcclxuICAgICAgbGV0IG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICAgICAgbGV0IGlkRm9ybSA9ICQodGhpcykuYXR0cignaWQnKTtcclxuXHJcblxyXG4gICAgICBpZiAodmFsaWRhdGVGb3JtKHRoaXMpKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBgaWRGb3JtPSR7aWRGb3JtfSZpZFN0dWRlbnQ9JHtpZFN0dWRlbnR9JiR7JChmb3JtKS5zZXJpYWxpemUoKX1gO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICQoZm9ybSkucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuICAgICAgICAgICAgICBtb2RhbC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgZW1wdHlDbGFzcyhmb3JtKTtcclxuICAgICAgICAgICAgICBzaG93QWxlcnQoXCJuaWNlXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFcnJvclwiKSB7XHJcbiAgICAgICAgICAgICAgc2hvd0FsZXJ0KFwiZXJyb3JcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVudHJ5IGR1cGxpY2F0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgc2hvd0FsZXJ0KFwiZW50cnlEdXBsaWNhdGVcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgRURJVFxyXG4kKCdmb3JtLmVkaXQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBsZXQgZm9ybSA9IHRoaXM7XHJcbiAgbGV0IG1vZGFsID0gJChmb3JtKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICBsZXQgaWRGb3JtID0gJChmb3JtKS5hdHRyKCdpZCcpO1xyXG4gIGxldCBpZFN0dWRlbnQgPSAkKCcjcGVyc29uTmFtZScpLmF0dHIoJ2RhdGEtc3R1ZGVudCcpO1xyXG4gIGxldCBpbnB1dHMgPSAkKGZvcm0pLmZpbmQoJ2lucHV0Jyk7XHJcbiAgbGV0IHNlbGVjdHMgPSAkKGZvcm0pLmZpbmQoJ3NlbGVjdCcpO1xyXG4gIHZhciBkYXRhID0gJChmb3JtKS5zZXJpYWxpemUoKTtcclxuXHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0oZm9ybSkpIHtcclxuXHJcbiAgICBsZXQgZGF0YSA9IGBpZEZvcm09JHtpZEZvcm19JmlkU3R1ZGVudD0ke2lkU3R1ZGVudH0mJHskKGZvcm0pLnNlcmlhbGl6ZSgpfWA7XHJcblxyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICQoZm9ybSkucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiQ29vbFwiKSB7XHJcbiAgICAgICAgICBtb2RhbC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICBlbXB0eUNsYXNzKGZvcm0pO1xyXG4gICAgICAgICAgc2VhcmNoU3R1ZGVudChidXR0b25TZWFyY2gpO1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KFwibmljZVwiLCAxMDAwLCAzMDAwKTtcclxuXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVycm9yXCIpIHtcclxuICAgICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgRURJVEFSIFVTRVJOQU1FXHJcbiQoJ2Zvcm0jZWRpdFVzZXJuYW1lJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgaW5zZXJ0UGVyc29uKHRoaXMsIGZhbHNlKTtcclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBFRElUQVIgUEFTU1dPUkRcclxuJCgnZm9ybSNlZGl0UGFzc3dvcmQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpbnNlcnRQZXJzb24odGhpcywgZmFsc2UpO1xyXG59KTtcclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIE5VRVZPIEVTVFVESUFOVEVcclxuJCgnZm9ybSNpbnNlcnRTdHVkZW50Jykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gIGluc2VydFBlcnNvbih0aGlzKTtcclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBOVUVWTyBSRVNQT05TQUJMRVxyXG4kKCcjYWRkUmVsYXRpdmUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgbGV0IG1vZGFsID0gJCgnI21vZGFsTmV3UmVsYXRpdmUnKTtcclxuICBsZXQgY2xvc2VzdE1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICBsZXQgaWRTdHVkZW50ID0gY2xvc2VzdE1vZGFsLmZpbmQoJyNwZXJzb25OYW1lJykuYXR0cignZGF0YS1zdHVkZW50Jyk7XHJcblxyXG5cclxuICBjbG9zZXN0TW9kYWwuY3NzKHtcclxuICAgIFwiei1pbmRleFwiOiBcIjEwXCJcclxuICB9KVxyXG5cclxuICBtb2RhbC5mYWRlSW4oKS5jc3Moe1xyXG4gICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiLFxyXG4gIH0pO1xyXG5cclxuICAkKCdmb3JtI2luc2VydFJlbGF0aXZlJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBsZXQgZm9ybSA9ICQodGhpcyk7XHJcbiAgICBsZXQgaWRGb3JtID0gZm9ybS5hdHRyKCdpZCcpO1xyXG5cclxuXHJcbiAgICBpZiAodmFsaWRhdGVGb3JtKGZvcm0pKSB7XHJcblxyXG4gICAgICBsZXQgZGF0YSA9IGBpZEZvcm09JHtpZEZvcm19JmlkU3R1ZGVudD0ke2lkU3R1ZGVudH0mJHtmb3JtLnNlcmlhbGl6ZSgpfWA7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZm9ybS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICBmb3JtLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJDb29sXCIpIHtcclxuXHJcblxyXG4gICAgICAgICAgICBmb3JtLmNsb3Nlc3QoJy5tb2RhbCcpLmZhZGVPdXQoKTtcclxuXHJcbiAgICAgICAgICAgIGVtcHR5Q2xhc3MoZm9ybSk7XHJcbiAgICAgICAgICAgIHNob3dBbGVydChcIm5pY2VcIiwgMTAwMCwgMzAwMCk7XHJcblxyXG4gICAgICAgICAgfSBlbHNlIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiRXJyb3JcIikge1xyXG4gICAgICAgICAgICBzaG93QWxlcnQoXCJlcnJvclwiLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFbnRyeSBkdXBsaWNhdGVcIikge1xyXG5cclxuICAgICAgICAgICAgc2hvd0FsZXJ0KFwiZW50cnlEdXBsaWNhdGVcIiwgMTAwMCwgMzAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBpbnNlcnRQZXJzb24oZm9ybSwgY2xvc2VNb2RhbCA9IHRydWUpIHtcclxuXHJcbiAgbGV0IGlkRm9ybSA9ICQoZm9ybSkuYXR0cignaWQnKTtcclxuXHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0oZm9ybSkpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IGBpZEZvcm09JHtpZEZvcm19JiR7JChmb3JtKS5zZXJpYWxpemUoKX1gO1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJChmb3JtKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkNvb2xcIikge1xyXG5cclxuICAgICAgICAgIGlmIChjbG9zZU1vZGFsKSB7XHJcbiAgICAgICAgICAgICQoZm9ybSkuY2xvc2VzdCgnLm1vZGFsJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZW1wdHlDbGFzcyhmb3JtKTtcclxuICAgICAgICAgIHNob3dBbGVydChcIm5pY2VcIiwgMTAwMCwgMzAwMCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIkVycm9yXCIpIHtcclxuICAgICAgICAgIHNob3dBbGVydChcImVycm9yXCIsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCJFbnRyeSBkdXBsaWNhdGVcIikge1xyXG5cclxuICAgICAgICAgIHNob3dBbGVydChcImVudHJ5RHVwbGljYXRlXCIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuJC5nZXRKU09OKCdhc3NldHMvanNvbi9jaXR5cy5qc29uJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gIC8vIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgdmFyIG9wdGlvbnMgPSBbXTtcclxuICBsZXQgc2VsZWN0ID0gJCgnc2VsZWN0LmNpdHlzJyk7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgZm9yICh2YXIgeiA9IDA7IHogPCBkYXRhW2ldLmNpdWRhZGVzLmxlbmd0aDsgeisrKSB7XHJcbiAgICAgIG9wdGlvbnMucHVzaChcIjxvcHRpb24gdmFsdWU9J1wiICsgZGF0YVtpXS5jaXVkYWRlc1t6XSArIFwiJz5cIiArIGRhdGFbaV0uZGVwYXJ0YW1lbnRvICsgJy0nICsgZGF0YVtpXS5jaXVkYWRlc1t6XSArIFwiPC9vcHRpb24+XCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHNlbGVjdC5hcHBlbmQob3B0aW9uc1tpXSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG4kLmdldEpTT04oJ2Fzc2V0cy9qc29uL2Jsb29kVHlwZXMuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcbiAgdmFyIG9wdGlvbnMgPSBbXTtcclxuICBsZXQgc2VsZWN0ID0gJCgnc2VsZWN0LmJsb29kVHlwZXMnKTtcclxuXHJcbiAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgb3B0aW9ucy5wdXNoKFwiPG9wdGlvbiB2YWx1ZT0nXCIgKyBrZXkgKyBcIic+XCIgKyBrZXkgKyBcIjwvb3B0aW9uPlwiKTtcclxuICB9KVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHNlbGVjdC5hcHBlbmQob3B0aW9uc1tpXSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG4kLmdldEpTT04oJ2Fzc2V0cy9qc29uL2Vwcy5qc29uJywgZnVuY3Rpb24oZGF0YSkge1xyXG5cclxuICB2YXIgb3B0aW9ucyA9IFtdO1xyXG4gIGxldCBzZWxlY3QgPSAkKCdzZWxlY3QuZXBzcycpO1xyXG5cclxuICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCBlcHMpIHtcclxuXHJcbiAgICBvcHRpb25zLnB1c2goXCI8b3B0aW9uIHZhbHVlPSdcIiArIGVwcy5uYW1lICsgXCInPlwiICsgZXBzLm5hbWUgKyBcIjwvb3B0aW9uPlwiKTtcclxuICB9KVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHNlbGVjdC5hcHBlbmQob3B0aW9uc1tpXSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG4kLmdldEpTT04oJ2Fzc2V0cy9qc29uL2dyYWRlcy5qc29uJywgZnVuY3Rpb24oZGF0YSkge1xyXG5cclxuICB2YXIgb3B0aW9ucyA9IFtdO1xyXG4gIGxldCBzZWxlY3QgPSAkKCdzZWxlY3QuZ3JhZGVzJyk7XHJcblxyXG4gICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXksIGVwcykge1xyXG5cclxuICAgIG9wdGlvbnMucHVzaChcIjxvcHRpb24gdmFsdWU9J1wiICsgZXBzLm5hbWUgKyBcIic+XCIgKyBlcHMubmFtZSArIFwiPC9vcHRpb24+XCIpO1xyXG4gIH0pXHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb25zW2ldKTtcclxuICB9XHJcblxyXG59KTtcclxuIiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgLy9WQWxpZGFyIHNpIGVsIG5hdmVnYWRvciBlcyBJRS4gU2kgbG8gZXMsIGRpcmVjY2lvbmFybG8gYSBvdHJhIHBhZ2luYVxyXG4gIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJUcmlkZW50L1wiKSA+IC0xKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL3d3dy5nb29nbGUuY29tLm14L2Nocm9tZS8/YnJhbmQ9Q0hCRiZkc19raWQ9NDM3MDAwMzQ2MzI3NDg2OTQmdXRtX3NvdXJjZT1iaW5nJnV0bV9tZWRpdW09Y3BjJnV0bV9jYW1wYWlnbj0xMDA1OTkyJTIwJTdDJTIwQ2hyb21lJTIwV2luMTAlMjAlN0MlMjBEUiUyMCU3QyUyMEVTUzAxJTIwJTdDJTIwTkElMjAlN0MlMjBOQSUyMCU3QyUyMGVzJTIwJTdDJTIwRGVzayUyMCU3QyUyMEJJTkclMjBTRU0lMjAlN0MlMjBCS1dTJTIwfiUyMFRvcCUyMEtXRFMlMjAtJTIwRXhhY3QmdXRtX3Rlcm09ZGVzY2FyZ2FyJTIwY2hyb21lJnV0bV9jb250ZW50PURvd25sb2FkJTIwQ2hyb21lJTIwLSUyMEV4YWN0JmdjbGlkPUNPNzBtNlRULWVVQ0ZVVENEUW9kbWl3RFJRJmdjbHNyYz1kcydcclxuICB9XHJcbiAgLy9GYWRlIGluIGRlIGxhIHDDoWdpbmEgTG9naW4gYWwgaW5pY2lhciBlbCBuYXZlZ2Fkb3JcclxuXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICQoJ3NlY3Rpb24jbG9naW4nKS5mYWRlSW4oMTUwMCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9LCA1MDApO1xyXG4gIC8vSW5pY2lhbGl6YXIgbGFzIGFuaW1hY2lvbmVzIGRlIGxhIGxpYnJlcmlhIFdPVyAoYW5pbWFjaW9uZXMpXHJcbiAgdmFyIHdvdyA9IG5ldyBXT1coKS5pbml0KCk7XHJcblxyXG4gIC8vIEhhY2VyIHF1ZSBsb3MgY2hlY2tib3ggY29uIGVzdGlsb3MgZnVuY2lvbmVuXHJcbiAgJCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY3VzdG9tQ2hlY2sgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2Rpdi5jdXN0b20tY2hlY2tib3gnKTtcclxuICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcpID8gY3VzdG9tQ2hlY2sudGV4dCgn4pyUJykgOiBjdXN0b21DaGVjay50ZXh0KCcnKTtcclxuICB9KTtcclxuXHJcbiAgLy8gRWZlY3RvcyBtZW51IGJ1cmd1ZXJcclxuICAkKCdkaXYuaWNvbi1tZW51JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgbWVudSA9ICQoJ2Rpdi5tZW51LWNvbnRhaW5lcicpO1xyXG4gICAgaWYgKG1lbnUuY3NzKCdkaXNwbGF5JykgPT0gXCJub25lXCIpIHtcclxuICAgICAgbWVudS5zbGlkZURvd24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1lbnUuc2xpZGVVcCgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKCcjYWNvdW50YnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgYWNvdW50Q29udGFpbmVyID0gJCgnLmFjY291bnQtY29udGFpbmVyJyk7XHJcbiAgICBpZiAoYWNvdW50Q29udGFpbmVyLmNzcygnZGlzcGxheScpID09IFwibm9uZVwiKSB7XHJcbiAgICAgIGFjb3VudENvbnRhaW5lci5zbGlkZURvd24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFjb3VudENvbnRhaW5lci5zbGlkZVVwKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vTW9kYWxlc1xyXG5cclxuICAvLy8vRWRpdGFyIHVzdWVhcmlvXHJcbiAgJCgnI2VkaXRVc2VyJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcjbW9kYWxFZGl0VXNlcicpLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgXHJcblxyXG4gIC8vLy9OVUVWTyBFU1RVRElBTlRFXHJcbiAgJCgnI25ld1N0dWRlbnQnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWwgPSAkKCcjbW9kYWxOZXdTdHVkZW50Jyk7XHJcblxyXG4gICAgbGV0IGNsb3Nlc3RNb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsJyk7XHJcblxyXG5cclxuICAgIGNsb3Nlc3RNb2RhbC5jc3Moe1wiei1pbmRleFwiOiBcIjEwXCJ9KVxyXG5cclxuICAgIG1vZGFsLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIixcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgfSk7XHJcblxyXG5cclxuICAvLy8vQ2VycmFyIG1vZGFsZXNcclxuICAkKCcuYnRuLWNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwsLm1vZGFsLXRpdHRsZScpLmZhZGVPdXQoKTtcclxuICAgIC8vICQoJy5sb2FkaW5nJykuZmFkZU91dCgpO1xyXG4gICAgJCgnLmFsZXJ0LWNvbnRhaW5lcicpLmZhZGVPdXQoKTtcclxuICB9KTtcclxuXHJcblxyXG4gICQoJyNidG4tZWRpdFN0dWRlbnQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgbGV0IG1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuICAgIGxldCBpbnB1dHMgPSBtb2RhbC5maW5kKCdzZWxlY3QsaW5wdXQnKTtcclxuXHJcbiAgICBtb2RhbC5maW5kKCcuYnRuLXN1Ym1pdE1vZGFsJykuZmFkZUluKCc1MDAnKTtcclxuICAgIGlucHV0cy5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgLy9UYWJsYXNcclxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDUyMCkge1xyXG4gICAgICAkKCd0YWJsZScpLmNzcyh7XHJcbiAgICAgICAgXCJvdmVyZmxvdy14XCI6IFwic2Nyb2xsXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuXHJcblxyXG59KTtcclxuIl19
