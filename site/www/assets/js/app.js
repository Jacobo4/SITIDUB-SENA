function e(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function t(e,t,n){const i=$("div.alert-container");i.find("div.alert-content").empty(),i.removeClass(),i.addClass("alert-container"),1===e?i.addClass("alert-check").find("div.alert-content").text("Nice !"):2===e?i.addClass("alert-error").find("div.alert-content").text("Hmm, something went wrong"):3===e&&i.addClass("alert-server").find("div.alert-content").text("Maybe the server is down :("),i.fadeIn(t,"linear",(function(){setTimeout((function(){i.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),n)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function n(e,t,n){return!!(e>=t&e<=n)}function i(t){event.preventDefault();$(t).find("input,select");let i=$(t).find("input:visible,select:visible").length,o=($(t).find('button[type="submit"]'),0);const s=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,a=/^\d+$/;return $(t).find("input,select").each((function(t,i){let c=$(i).val(),l=$(i).prop("checked"),r=$(i).val(),d=$(i).parent().find("div.custom-checkbox");if(0!==$(i).length){switch($(i).attr("type")){case"text":case"password":case"date":e($(i),""!==c?"valido":"error");break;case"identification":a.test($(i).prop("value"))&n(c.length,10,10)?e($(i),"valido"):e($(i),"error");break;case"emailCustom":s.test($(i).prop("value"))?e($(i),"valido"):e($(i),"error");break;case"checkbox":e(d,!1!==l?"valido":"error");break;case"select":e($(i),1!=r?"valido":"error")}o+=cumple}})),o===i}var o;function s(e,n=!0){let o=$(e).attr("id"),s=$(e).find("input,select");if(i(e)){var a="idForm="+o+"&"+$(e).serialize();console.log(a),$.ajax({data:a,beforeSend:function(){$(e).parent().find(".loading").show()},success:function(i){$(e).parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(i).success?(n&&$(e).closest(".modal").fadeOut(),s.val("").removeClass("correcto"),t(1,1e3,3e3)):t(2,1e3,3e3)}})}}$(document).ready((function(){navigator.userAgent.indexOf("Trident/")>-1&&(window.location.href="https://www.google.com.mx/chrome/?brand=CHBF&ds_kid=43700034632748694&utm_source=bing&utm_medium=cpc&utm_campaign=1005992%20%7C%20Chrome%20Win10%20%7C%20DR%20%7C%20ESS01%20%7C%20NA%20%7C%20NA%20%7C%20es%20%7C%20Desk%20%7C%20BING%20SEM%20%7C%20BKWS%20~%20Top%20KWDS%20-%20Exact&utm_term=descargar%20chrome&utm_content=Download%20Chrome%20-%20Exact&gclid=CO70m6TT-eUCFUTCDQodmiwDRQ&gclsrc=ds"),setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#editUser").click((function(){$("#modalEditUser").fadeIn().css({display:"flex"})})),$("#addRelative").click((function(){let e=$("#modalNewRelative");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$("#newStudent").click((function(){let e=$("#modalNewStudent");$(this).closest(".modal").css({"z-index":"10"}),e.fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$("span.icon-bin").click((function(){$("#modalDelete").fadeIn().css({display:"flex"})})),$("span.icon-eye").click((function(){let e=$("#modalEditShow"),t=e.find("select,input"),n=e.find(".btn-submitModal");e.fadeIn().css({display:"flex"}),t.attr("disabled",!0),n.hide()})),$("#btn-editStudent").click((function(){let e=$(this).closest(".modal"),t=e.find("select,input");e.find(".btn-submitModal").fadeIn("500"),t.attr("disabled",!1)})),$("span.icon-plus").click((function(){$("#modalMatricula").fadeIn().css({display:"flex"})})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"procesar.php",type:"POST",async:!0,error:function(e){console.log("response",e),t(3,1e3,3e3)}}),$("#searchAll").keypress((function(){clearTimeout(o),o=setTimeout((function(){let e=$(this).serialize();$.post("procesar.php",e,(function(e){"1"==JSON.parse(e).success?t(1,1e3,3e3):t(2,1e3,3e3)}))}),1e3)})),$("form#login").submit((function(e){e.preventDefault();var n=$(this).serialize();console.log(n),$.post("login.php?log=true",n,(function(e){"1"==JSON.parse(e).success?(t(1,1e3,3e3),location.href="home.php"):t(2,1e3,3e3)}))})),$("#logOut").click((function(){$.post("login.php?log=false",(function(e){"1"==JSON.parse(e).success?location.href="index.php":t(2,1e3,3e3)}))})),$("form.edit").submit((function(e){s(this,!1)})),$("form#editUsername").submit((function(e){s(this,!1)})),$("form#editPassword").submit((function(e){s(this,!1)})),$("form#estudiante").submit((function(e){s(this)})),$("form#responsable").submit((function(e){s(this)})),$("form#delete").submit((function(e){s(this)})),$("form#matricula").submit((function(e){s(this)})),$.getJSON("assets/json/citys.json",(function(e){var t=[];let n=$("select.citys");for(var i=0;i<e.length;i++)for(var o=0;o<e[i].ciudades.length;o++)t.push("<option value='"+e[i].ciudades[o]+"'>"+e[i].departamento+"-"+e[i].ciudades[o]+"</option>");for(i=0;i<t.length;i++)n.append(t[i])})),$.getJSON("assets/json/bloodTypes.json",(function(e){var t=[];let n=$("select.bloodTypes");$.each(e,(function(e){t.push("<option value='"+e+"'>"+e+"</option>")}));for(var i=0;i<t.length;i++)n.append(t[i])}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9fZm9ybXMuanMiLCJfZG9tLmpzIl0sIm5hbWVzIjpbInBpbnRhclN0aWxvcyIsImVsZW0iLCJ0aXBvIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImN1bXBsZSIsInNob3dBbGVydCIsInRpbWVJbiIsInRpbWVPdXQiLCJkaXZBbGVydCIsIiQiLCJmaW5kIiwiZW1wdHkiLCJ0ZXh0IiwiZmFkZUluIiwic2V0VGltZW91dCIsImZhZGVPdXQiLCJhbmltYXRlIiwiYm90dG9tIiwiZHVyYXRpb24iLCJxdWV1ZSIsInZhbGlkYXJMZW5ndGgiLCJ2YWxvciIsIm1pbkxlbmd0aCIsIm1heExlbmd0aCIsInZhbGlkYXRlRm9ybSIsImZvcm0iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY2FtcG9zT2JsaWdhIiwibGVuZ3RoIiwidG90YWwiLCJyZWdFeHBFbWFpbCIsInJlZ0V4cE51bWJlciIsImVhY2giLCJpIiwiZSIsInZhbG9ySW5wdXQiLCJ2YWwiLCJ2YWxvckNoZWNrYm94IiwicHJvcCIsInZhbG9yU2VsZWN0IiwiY3VzdG9tRGl2Q2hlY2siLCJwYXJlbnQiLCJhdHRyIiwidGVzdCIsInBldGljaW9uIiwic2VuZEZvcm0iLCJjbG9zZU1vZGFsIiwiaWRGb3JtIiwiaW5wdXRzIiwiZGF0YSIsInNlcmlhbGl6ZSIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwiYmVmb3JlU2VuZCIsInNob3ciLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJKU09OIiwicGFyc2UiLCJjbG9zZXN0IiwiZG9jdW1lbnQiLCJyZWFkeSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjc3MiLCJkaXNwbGF5IiwiV09XIiwiaW5pdCIsImNsaWNrIiwiY3VzdG9tQ2hlY2siLCJ0aGlzIiwibWVudSIsInNsaWRlRG93biIsInNsaWRlVXAiLCJhY291bnRDb250YWluZXIiLCJtb2RhbCIsInotaW5kZXgiLCJtb2RhbFNob3ciLCJzYXZlQnV0dG9ucyIsImhpZGUiLCJyZXNpemUiLCJpbm5lcldpZHRoIiwib3ZlcmZsb3cteCIsImFqYXhTZXR1cCIsInVybCIsInR5cGUiLCJhc3luYyIsImVycm9yIiwia2V5cHJlc3MiLCJjbGVhclRpbWVvdXQiLCJwb3N0Iiwic3VibWl0IiwiZ2V0SlNPTiIsIm9wdGlvbnMiLCJzZWxlY3QiLCJ6IiwiY2l1ZGFkZXMiLCJwdXNoIiwiZGVwYXJ0YW1lbnRvIiwiYXBwZW5kIiwia2V5Il0sIm1hcHBpbmdzIjoiQUFDQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUVBLFVBQUFBLEdBQ0FELEVBQUFFLFNBQUEsU0FDQUYsRUFBQUcsWUFBQSxZQUNBQyxPQUFBLEdBRUEsV0FBQUgsSUFDQUQsRUFBQUUsU0FBQSxZQUNBRixFQUFBRyxZQUFBLFNBQ0FDLE9BQUEsR0FNQSxTQUFBQyxFQUFBRCxFQUFBRSxFQUFBQyxHQUVBLE1BQUFDLEVBQUFDLEVBQUEsdUJBR0FELEVBQUFFLEtBQUEscUJBQUFDLFFBQ0FILEVBQUFMLGNBQ0FLLEVBQUFOLFNBQUEsbUJBQ0EsSUFBQUUsRUFFQUksRUFBQU4sU0FBQSxlQUFBUSxLQVBBLHFCQU9BRSxLQUFBLFVBRUEsSUFBQVIsRUFFQUksRUFBQU4sU0FBQSxlQUFBUSxLQVhBLHFCQVdBRSxLQUFBLDZCQUNBLElBQUFSLEdBQ0FJLEVBQUFOLFNBQUEsZ0JBQUFRLEtBYkEscUJBYUFFLEtBQUEsK0JBR0FKLEVBQUFLLE9BQUFQLEVBQUEsVUFBQSxXQUNBUSxZQUFBLFdBQ0FOLEVBQUFPLFVBQUFDLFFBQUEsQ0FDQUMsT0FBQSxNQUNBLENBQ0FDLFNBQUEsT0FDQUMsT0FBQSxNQUVBWixNQUNBUyxRQUFBLENBQ0FDLE9BQUEsUUFDQSxDQUNBQyxTQUFBLE9BQ0FDLE9BQUEsSUFZQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLFNBQUFGLEdBQUFDLEVBQUFELEdBQUFFLEdBT0EsU0FBQUMsRUFBQUMsR0FFQUMsTUFBQUMsaUJBQ0FsQixFQUFBZ0IsR0FBQWYsS0FBQSxn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LFNBR0FuRSxFQUFBLGVBQUF3RixRQUFBLFNBQUF2RSxHQUNBb0IsRUFBQThCLFNBR0FuRSxFQUFBLGtCQUFBd0YsUUFBQSxTQUFBdkUsR0FDQW9CLEVBQUE4QixTQXdDQW5FLEVBQUF5RixRQUFBLDBCQUFBLFNBQUFoRCxHQUVBLElBQUFpRCxFQUFBLEdBQ0EsSUFBQUMsRUFBQTNGLEVBQUEsZ0JBRUEsSUFBQSxJQUFBeUIsRUFBQSxFQUFBQSxFQUFBZ0IsRUFBQXJCLE9BQUFLLElBQ0EsSUFBQSxJQUFBbUUsRUFBQSxFQUFBQSxFQUFBbkQsRUFBQWhCLEdBQUFvRSxTQUFBekUsT0FBQXdFLElBQ0FGLEVBQUFJLEtBQUEsa0JBQUFyRCxFQUFBaEIsR0FBQW9FLFNBQUFELEdBQUEsS0FBQW5ELEVBQUFoQixHQUFBc0UsYUFBQSxJQUFBdEQsRUFBQWhCLEdBQUFvRSxTQUFBRCxHQUFBLGFBR0EsSUFBQW5FLEVBQUEsRUFBQUEsRUFBQWlFLEVBQUF0RSxPQUFBSyxJQUNBa0UsRUFBQUssT0FBQU4sRUFBQWpFLE9BS0F6QixFQUFBeUYsUUFBQSwrQkFBQSxTQUFBaEQsR0FFQSxJQUFBaUQsRUFBQSxHQUNBLElBQUFDLEVBQUEzRixFQUFBLHFCQUVBQSxFQUFBd0IsS0FBQWlCLEdBQUEsU0FBQXdELEdBQ0FQLEVBQUFJLEtBQUEsa0JBQUFHLEVBQUEsS0FBQUEsRUFBQSxnQkFHQSxJQUFBLElBQUF4RSxFQUFBLEVBQUFBLEVBQUFpRSxFQUFBdEUsT0FBQUssSUFDQWtFLEVBQUFLLE9BQUFOLEVBQUFqRSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8vLy8vLy8vLy8gUGludGEgZXN0aWxvcyBkZSBlcnJvciB5IHZhbGlkb1xyXG5mdW5jdGlvbiBwaW50YXJTdGlsb3MoZWxlbSwgdGlwbykge1xyXG5cclxuICBpZiAodGlwbyA9PT0gJ2Vycm9yJykge1xyXG4gICAgZWxlbS5hZGRDbGFzcygnZXJyb3InKTtcclxuICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgICBjdW1wbGUgPSAwO1xyXG5cclxuICB9IGVsc2UgaWYgKHRpcG8gPT09ICd2YWxpZG8nKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKCdjb3JyZWN0bycpO1xyXG4gICAgZWxlbS5yZW1vdmVDbGFzcygnZXJyb3InKTtcclxuICAgIGN1bXBsZSA9IDE7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vIE11ZXN0cmEgYWxlcnRhIGRlIGxvcyBmb3JtdWxhcmlvc1xyXG5mdW5jdGlvbiBzaG93QWxlcnQoY3VtcGxlLCB0aW1lSW4sIHRpbWVPdXQpIHtcclxuXHJcbiAgY29uc3QgZGl2QWxlcnQgPSAkKCdkaXYuYWxlcnQtY29udGFpbmVyJyk7XHJcbiAgY29uc3QgY29udGVudEFsZXJ0ID0gJ2Rpdi5hbGVydC1jb250ZW50JztcclxuXHJcbiAgZGl2QWxlcnQuZmluZCgnZGl2LmFsZXJ0LWNvbnRlbnQnKS5lbXB0eSgpO1xyXG4gIGRpdkFsZXJ0LnJlbW92ZUNsYXNzKCk7XHJcbiAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWNvbnRhaW5lcicpO1xyXG4gIGlmIChjdW1wbGUgPT09IDEpIHtcclxuXHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtY2hlY2snKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnTmljZSAhJyk7XHJcblxyXG4gIH0gZWxzZSBpZiAoY3VtcGxlID09PSAyKSB7XHJcblxyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LWVycm9yJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ0htbSwgc29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcclxuICB9IGVsc2UgaWYgKGN1bXBsZSA9PT0gMykge1xyXG4gICAgZGl2QWxlcnQuYWRkQ2xhc3MoJ2FsZXJ0LXNlcnZlcicpLmZpbmQoY29udGVudEFsZXJ0KS50ZXh0KCdNYXliZSB0aGUgc2VydmVyIGlzIGRvd24gOignKTtcclxuICB9XHJcblxyXG4gIGRpdkFsZXJ0LmZhZGVJbih0aW1lSW4sIFwibGluZWFyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgZGl2QWxlcnQuZmFkZU91dCgpLmFuaW1hdGUoe1xyXG4gICAgICAgICdib3R0b20nOiAnMCUnXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBkdXJhdGlvbjogJ3Nsb3cnLFxyXG4gICAgICAgIHF1ZXVlOiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgIH0sIHRpbWVPdXQpO1xyXG4gIH0pLmFuaW1hdGUoe1xyXG4gICAgJ2JvdHRvbSc6ICcyMHZoJ1xyXG4gIH0sIHtcclxuICAgIGR1cmF0aW9uOiAnc2xvdycsXHJcbiAgICBxdWV1ZTogZmFsc2VcclxuICB9KTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vLy8vLy8vLy8vLyBWYWxpZGEgbG9uZ2l0dWRcclxuZnVuY3Rpb24gdmFsaWRhckxlbmd0aCh2YWxvciwgbWluTGVuZ3RoLCBtYXhMZW5ndGgpIHtcclxuICBpZiAoKHZhbG9yID49IG1pbkxlbmd0aCkgJiAodmFsb3IgPD0gbWF4TGVuZ3RoKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlRm9ybShmb3JtKSB7XHJcblxyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgbGV0IGlucHV0cyA9ICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0Jyk7XHJcbiAgbGV0IGNhbXBvc09ibGlnYSA9ICQoZm9ybSkuZmluZCgnaW5wdXQ6dmlzaWJsZSxzZWxlY3Q6dmlzaWJsZScpLmxlbmd0aDtcclxuICBsZXQgYm90b25TdWJtaXQgPSAkKGZvcm0pLmZpbmQoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcblxyXG4gIC8vVmFyaWFibGUgcGFyYSBjb21wcmFyIGxvcyBpbnB1dHMgcXVlIGVzdGFuIGJpZW4gY29uIGxhIGNhbnRpZGFkIGRlIGlucHV0cyBkZWwgZm9ybXVsYXJpb1xyXG4gIGxldCB0b3RhbCA9IDA7XHJcbiAgLy9leHByZXNpb25lcyBSZWd1bGFyZXNcclxuICBjb25zdCByZWdFeHBFbWFpbCA9IC9eW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKkAoPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/JC87XHJcbiAgY29uc3QgcmVnRXhwTnVtYmVyID0gL15cXGQrJC87XHJcblxyXG5cclxuXHJcblxyXG4gIC8vLy9WYWxpZGFyIGxvcyBjYW1wb3NcclxuICAkKGZvcm0pLmZpbmQoJ2lucHV0LHNlbGVjdCcpLmVhY2goZnVuY3Rpb24oaSwgZSkge1xyXG5cclxuXHJcbiAgICBsZXQgdmFsb3JJbnB1dCA9ICQoZSkudmFsKCk7XHJcbiAgICBsZXQgdmFsb3JDaGVja2JveCA9ICQoZSkucHJvcCgnY2hlY2tlZCcpO1xyXG4gICAgbGV0IHZhbG9yU2VsZWN0ID0gJChlKS52YWwoKTtcclxuICAgIGxldCBjdXN0b21EaXZDaGVjayA9ICQoZSkucGFyZW50KCkuZmluZCgnZGl2LmN1c3RvbS1jaGVja2JveCcpO1xyXG5cclxuXHJcbiAgICBpZiAoJChlKS5sZW5ndGggIT09IDApIHtcclxuICAgICAgc3dpdGNoICgkKGUpLmF0dHIoJ3R5cGUnKSkge1xyXG5cclxuICAgICAgICBjYXNlIFwidGV4dFwiOlxyXG4gICAgICAgICAgdmFsb3JJbnB1dCAhPT0gXCJcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInBhc3N3b3JkXCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiZGF0ZVwiOlxyXG4gICAgICAgICAgdmFsb3JJbnB1dCAhPT0gXCJcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImlkZW50aWZpY2F0aW9uXCI6XHJcbiAgICAgICAgICBpZiAoKHJlZ0V4cE51bWJlci50ZXN0KCQoZSkucHJvcCgndmFsdWUnKSkpICYgKHZhbGlkYXJMZW5ndGgodmFsb3JJbnB1dC5sZW5ndGgsIDEwLCAxMCkpKSB7XHJcbiAgICAgICAgICAgIHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImVtYWlsQ3VzdG9tXCI6XHJcbiAgICAgICAgICByZWdFeHBFbWFpbC50ZXN0KCQoZSkucHJvcCgndmFsdWUnKSkgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxyXG4gICAgICAgICAgdmFsb3JDaGVja2JveCAhPT0gZmFsc2UgPyBwaW50YXJTdGlsb3MoY3VzdG9tRGl2Q2hlY2ssICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcyhjdXN0b21EaXZDaGVjaywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxyXG4gICAgICAgICAgdmFsb3JTZWxlY3QgIT0gMSA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICB0b3RhbCA9IHRvdGFsICsgY3VtcGxlO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxuXHJcbiAgaWYgKHRvdGFsID09PSBjYW1wb3NPYmxpZ2EpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxufVxyXG4vLyBOT1RFOiBDT05GSUcgQ09OU1VMVEFTXHJcbiQuYWpheFNldHVwKHtcclxuICB1cmw6ICdwcm9jZXNhci5waHAnLFxyXG4gIHR5cGU6ICdQT1NUJyxcclxuICBhc3luYzogdHJ1ZSxcclxuICBlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZScsIHJlc3BvbnNlKTtcclxuICAgIHNob3dBbGVydCgzLCAxMDAwLCAzMDAwKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8vLyBOT1RFOiBCVVNDQURPUlxyXG5cclxudmFyIHBldGljaW9uO1xyXG4kKCcjc2VhcmNoQWxsJykua2V5cHJlc3MoZnVuY3Rpb24oKSB7XHJcbiAgY2xlYXJUaW1lb3V0KHBldGljaW9uKTtcclxuICBwZXRpY2lvbiA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZGF0YSA9ICQodGhpcykuc2VyaWFsaXplKCk7XHJcblxyXG4gICAgJC5wb3N0KFwicHJvY2VzYXIucGhwXCIsIGRhdGEsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCIxXCIpIHtcclxuXHJcbiAgICAgICAgc2hvd0FsZXJ0KDEsIDEwMDAsIDMwMDApO1xyXG5cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gIH0sIDEwMDApO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIExPR0lOXHJcbiQoJ2Zvcm0jbG9naW4nKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICB2YXIgZm9ybXVsYXJpbyA9ICQodGhpcyk7XHJcbiAgdmFyIGRhdGEgPSBmb3JtdWxhcmlvLnNlcmlhbGl6ZSgpO1xyXG4gIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAkLnBvc3QoXCJsb2dpbi5waHA/bG9nPXRydWVcIiwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiMVwiKSB7XHJcblxyXG4gICAgICBzaG93QWxlcnQoMSwgMTAwMCwgMzAwMCk7XHJcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnaG9tZS5waHAnO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn0pO1xyXG5cclxuLy8gTk9URTogTE9HIE9VVFxyXG4kKCcjbG9nT3V0JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgJC5wb3N0KFwibG9naW4ucGhwP2xvZz1mYWxzZVwiLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG4gICAgICBsb2NhdGlvbi5ocmVmID0gJ2luZGV4LnBocCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93QWxlcnQoMiwgMTAwMCwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgRURJVFxyXG4kKCdmb3JtLmVkaXQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBzZW5kRm9ybSh0aGlzLCBmYWxzZSk7XHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgRURJVEFSIFVTRVJOQU1FXHJcbiQoJ2Zvcm0jZWRpdFVzZXJuYW1lJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgc2VuZEZvcm0odGhpcywgZmFsc2UpO1xyXG59KTtcclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIEVESVRBUiBQQVNTV09SRFxyXG4kKCdmb3JtI2VkaXRQYXNzd29yZCcpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIHNlbmRGb3JtKHRoaXMsIGZhbHNlKTtcclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBOVUVWTyBFU1RVRElBTlRFXHJcbiQoJ2Zvcm0jZXN0dWRpYW50ZScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIHNlbmRGb3JtKHRoaXMpO1xyXG59KTsgLy8gTk9URTogQ09OU1VMVEEgTlVFVk8gUkVTUE9OU0FCTEVcclxuJCgnZm9ybSNyZXNwb25zYWJsZScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIHNlbmRGb3JtKHRoaXMpO1xyXG59KTtcclxuLy8gTk9URTogQ09OU1VMVEEgRUxJTUlOQVJcclxuJCgnZm9ybSNkZWxldGUnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuICBzZW5kRm9ybSh0aGlzKTtcclxufSk7XHJcbi8vIE5PVEU6IENPTlNVTFRBIE5VRVZBIE1BVFJJQ1VMQVxyXG4kKCdmb3JtI21hdHJpY3VsYScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIHNlbmRGb3JtKHRoaXMpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHNlbmRGb3JtKGZvcm0sIGNsb3NlTW9kYWwgPSB0cnVlKSB7XHJcblxyXG4gIGxldCBpZEZvcm0gPSAkKGZvcm0pLmF0dHIoJ2lkJyk7XHJcbiAgbGV0IGlucHV0cyA9ICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0Jyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0oZm9ybSkpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9ICdpZEZvcm09JyArIGlkRm9ybSArICcmJyArICQoZm9ybSkuc2VyaWFsaXplKCk7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKGZvcm0pLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG4gICAgICB9LFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICQoZm9ybSkucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5mYWRlT3V0KDEwMDApO1xyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiMVwiKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGNsb3NlTW9kYWwpIHtcclxuICAgICAgICAgICAgJChmb3JtKS5jbG9zZXN0KCcubW9kYWwnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dHMudmFsKCcnKS5yZW1vdmVDbGFzcygnY29ycmVjdG8nKTtcclxuICAgICAgICAgIHNob3dBbGVydCgxLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbiQuZ2V0SlNPTignYXNzZXRzL2pzb24vY2l0eXMuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAvLyB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gIHZhciBvcHRpb25zID0gW107XHJcbiAgbGV0IHNlbGVjdCA9ICQoJ3NlbGVjdC5jaXR5cycpO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIGZvciAodmFyIHogPSAwOyB6IDwgZGF0YVtpXS5jaXVkYWRlcy5sZW5ndGg7IHorKykge1xyXG4gICAgICBvcHRpb25zLnB1c2goXCI8b3B0aW9uIHZhbHVlPSdcIiArIGRhdGFbaV0uY2l1ZGFkZXNbel0gKyBcIic+XCIgKyBkYXRhW2ldLmRlcGFydGFtZW50byArICctJyArIGRhdGFbaV0uY2l1ZGFkZXNbel0gKyBcIjwvb3B0aW9uPlwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbnNbaV0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuJC5nZXRKU09OKCdhc3NldHMvanNvbi9ibG9vZFR5cGVzLmpzb24nLCBmdW5jdGlvbihkYXRhKSB7XHJcblxyXG4gIHZhciBvcHRpb25zID0gW107XHJcbiAgbGV0IHNlbGVjdCA9ICQoJ3NlbGVjdC5ibG9vZFR5cGVzJyk7XHJcblxyXG4gICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXkpIHtcclxuICAgIG9wdGlvbnMucHVzaChcIjxvcHRpb24gdmFsdWU9J1wiICsga2V5ICsgXCInPlwiICsga2V5ICsgXCI8L29wdGlvbj5cIik7XHJcbiAgfSlcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbnNbaV0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAvL1ZBbGlkYXIgc2kgZWwgbmF2ZWdhZG9yIGVzIElFLiBTaSBsbyBlcywgZGlyZWNjaW9uYXJsbyBhIG90cmEgcGFnaW5hXHJcbiAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlRyaWRlbnQvXCIpID4gLTEpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20ubXgvY2hyb21lLz9icmFuZD1DSEJGJmRzX2tpZD00MzcwMDAzNDYzMjc0ODY5NCZ1dG1fc291cmNlPWJpbmcmdXRtX21lZGl1bT1jcGMmdXRtX2NhbXBhaWduPTEwMDU5OTIlMjAlN0MlMjBDaHJvbWUlMjBXaW4xMCUyMCU3QyUyMERSJTIwJTdDJTIwRVNTMDElMjAlN0MlMjBOQSUyMCU3QyUyME5BJTIwJTdDJTIwZXMlMjAlN0MlMjBEZXNrJTIwJTdDJTIwQklORyUyMFNFTSUyMCU3QyUyMEJLV1MlMjB+JTIwVG9wJTIwS1dEUyUyMC0lMjBFeGFjdCZ1dG1fdGVybT1kZXNjYXJnYXIlMjBjaHJvbWUmdXRtX2NvbnRlbnQ9RG93bmxvYWQlMjBDaHJvbWUlMjAtJTIwRXhhY3QmZ2NsaWQ9Q083MG02VFQtZVVDRlVUQ0RRb2RtaXdEUlEmZ2Nsc3JjPWRzJ1xyXG4gIH1cclxuICAvL0ZhZGUgaW4gZGUgbGEgcMOhZ2luYSBMb2dpbiBhbCBpbmljaWFyIGVsIG5hdmVnYWRvclxyXG5cclxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnc2VjdGlvbiNsb2dpbicpLmZhZGVJbigxNTAwKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gIH0sIDUwMCk7XHJcbiAgLy9JbmljaWFsaXphciBsYXMgYW5pbWFjaW9uZXMgZGUgbGEgbGlicmVyaWEgV09XIChhbmltYWNpb25lcylcclxuICB2YXIgd293ID0gbmV3IFdPVygpLmluaXQoKTtcclxuXHJcbiAgLy8gSGFjZXIgcXVlIGxvcyBjaGVja2JveCBjb24gZXN0aWxvcyBmdW5jaW9uZW5cclxuICAkKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxldCBjdXN0b21DaGVjayA9ICQodGhpcykucGFyZW50KCkuZmluZCgnZGl2LmN1c3RvbS1jaGVja2JveCcpO1xyXG4gICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPyBjdXN0b21DaGVjay50ZXh0KCfinJQnKSA6IGN1c3RvbUNoZWNrLnRleHQoJycpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBFZmVjdG9zIG1lbnUgYnVyZ3VlclxyXG4gICQoJ2Rpdi5pY29uLW1lbnUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxldCBtZW51ID0gJCgnZGl2Lm1lbnUtY29udGFpbmVyJyk7XHJcbiAgICBpZiAobWVudS5jc3MoJ2Rpc3BsYXknKSA9PSBcIm5vbmVcIikge1xyXG4gICAgICBtZW51LnNsaWRlRG93bigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWVudS5zbGlkZVVwKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoJyNhY291bnRidG4nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxldCBhY291bnRDb250YWluZXIgPSAkKCcuYWNjb3VudC1jb250YWluZXInKTtcclxuICAgIGlmIChhY291bnRDb250YWluZXIuY3NzKCdkaXNwbGF5JykgPT0gXCJub25lXCIpIHtcclxuICAgICAgYWNvdW50Q29udGFpbmVyLnNsaWRlRG93bigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWNvdW50Q29udGFpbmVyLnNsaWRlVXAoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy9Nb2RhbGVzXHJcblxyXG4gIC8vLy9FZGl0YXIgdXN1ZWFyaW9cclxuICAkKCcjZWRpdFVzZXInKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoJyNtb2RhbEVkaXRVc2VyJykuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8vL051ZXZhIG1hdHJpY3VsYVxyXG4gICQoJyNhZGRSZWxhdGl2ZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbE5ld1JlbGF0aXZlJyk7XHJcbiAgICBsZXQgY2xvc2VzdE1vZGFsID0gJCh0aGlzKS5jbG9zZXN0KCcubW9kYWwnKTtcclxuXHJcblxyXG4gICAgY2xvc2VzdE1vZGFsLmNzcyh7XCJ6LWluZGV4XCI6IFwiMTBcIn0pXHJcblxyXG4gICAgbW9kYWwuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiLFxyXG4gICAgfSk7XHJcblxyXG5cclxuICB9KTtcclxuXHJcbiAgLy8vL051ZXZhIG1hdHJpY3VsYVxyXG4gICQoJyNuZXdTdHVkZW50JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsID0gJCgnI21vZGFsTmV3U3R1ZGVudCcpO1xyXG5cclxuICAgIGxldCBjbG9zZXN0TW9kYWwgPSAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG5cclxuXHJcbiAgICBjbG9zZXN0TW9kYWwuY3NzKHtcInotaW5kZXhcIjogXCIxMFwifSlcclxuXHJcbiAgICBtb2RhbC5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCIsXHJcbiAgICB9KTtcclxuXHJcblxyXG4gIH0pO1xyXG5cclxuXHJcbiAgLy8vL0NlcnJhciBtb2RhbGVzXHJcbiAgJCgnLmJ0bi1jYW5jZWwnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykuY2xvc2VzdCgnLm1vZGFsLC5tb2RhbC10aXR0bGUnKS5mYWRlT3V0KCk7XHJcbiAgICAvLyAkKCcubG9hZGluZycpLmZhZGVPdXQoKTtcclxuICAgICQoJy5hbGVydC1jb250YWluZXInKS5mYWRlT3V0KCk7XHJcbiAgfSk7XHJcbiAgLy8vL0VsaW1pbmFyIG1hdHJpY3VsYVxyXG4gICQoJ3NwYW4uaWNvbi1iaW4nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoJyNtb2RhbERlbGV0ZScpLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vLy9Nb3N0cmFyIElORk8gLyBFRElUQVJcclxuICAkKCdzcGFuLmljb24tZXllJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgbGV0IG1vZGFsU2hvdyA9ICQoJyNtb2RhbEVkaXRTaG93Jyk7XHJcbiAgICBsZXQgaW5wdXRzID0gbW9kYWxTaG93LmZpbmQoJ3NlbGVjdCxpbnB1dCcpO1xyXG4gICAgbGV0IHNhdmVCdXR0b25zID0gbW9kYWxTaG93LmZpbmQoJy5idG4tc3VibWl0TW9kYWwnKTtcclxuXHJcblxyXG4gICAgbW9kYWxTaG93LmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcblxyXG4gICAgaW5wdXRzLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICBzYXZlQnV0dG9ucy5oaWRlKCk7XHJcblxyXG4gIH0pO1xyXG5cclxuICAkKCcjYnRuLWVkaXRTdHVkZW50JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIGxldCBtb2RhbCA9ICQodGhpcykuY2xvc2VzdCgnLm1vZGFsJyk7XHJcbiAgICBsZXQgaW5wdXRzID0gbW9kYWwuZmluZCgnc2VsZWN0LGlucHV0Jyk7XHJcblxyXG4gICAgbW9kYWwuZmluZCgnLmJ0bi1zdWJtaXRNb2RhbCcpLmZhZGVJbignNTAwJyk7XHJcbiAgICBpbnB1dHMuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAvLy8vTW9zdHJhciBtYXRyaWN1bGFcclxuICAkKCdzcGFuLmljb24tcGx1cycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGxldCBtb2RhbE1hdHJpID0gJCgnI21vZGFsTWF0cmljdWxhJyk7XHJcblxyXG4gICAgbW9kYWxNYXRyaS5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG5cclxuICB9KTtcclxuXHJcblxyXG4gIC8vVGFibGFzXHJcbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MjApIHtcclxuICAgICAgJCgndGFibGUnKS5jc3Moe1xyXG4gICAgICAgIFwib3ZlcmZsb3cteFwiOiBcInNjcm9sbFwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcblxyXG5cclxufSk7XHJcbiJdfQ==
