var e=3;function t(e,t){"error"===t?(e.addClass("error"),e.removeClass("correcto"),cumple=0):"valido"===t&&(e.addClass("correcto"),e.removeClass("error"),cumple=1)}function n(e,t,n){const i=$("div.alert-container");i.find("div.alert-content").empty(),i.removeClass(),i.addClass("alert-container"),1===e?i.addClass("alert-check").find("div.alert-content").text("Nice !"):2===e?i.addClass("alert-error").find("div.alert-content").text("Hmm, something went wrong"):3===e&&i.addClass("alert-server").find("div.alert-content").text("Maybe the server is down :("),i.fadeIn(t,"linear",(function(){setTimeout((function(){i.fadeOut().animate({bottom:"0%"},{duration:"slow",queue:!1})}),n)})).animate({bottom:"20vh"},{duration:"slow",queue:!1})}function i(e,t,n){return!!(e>=t&e<=n)}function o(e){event.preventDefault();var n=$(e).find("input,select").length,o=($(e).find('button[type="submit"]'),0);const a=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,s=/^\d+$/;return $(e).find("input,select").each((function(e,n){var r=$(n).attr("id");$(n).attr("name",r);var c=$(n).val(),d=$(n).prop("checked"),l=$(n).val(),u=$(n).parent().find("div.custom-checkbox");if(0!==$(n).length){switch($(n).attr("type")){case"text":case"password":case"date":t($(n),""!==c?"valido":"error");break;case"identification":s.test($(n).prop("value"))&i(c.length,10,10)?t($(n),"valido"):t($(n),"error");break;case"emailCustom":a.test($(n).prop("value"))?t($(n),"valido"):t($(n),"error");break;case"checkbox":t(u,!1!==d?"valido":"error");break;case"select":t($(n),1!=l?"valido":"error")}o+=cumple}})),o===n}$(document).ready((function(){navigator.userAgent.indexOf("Trident/")>-1&&(window.location.href="https://www.google.com.mx/chrome/?brand=CHBF&ds_kid=43700034632748694&utm_source=bing&utm_medium=cpc&utm_campaign=1005992%20%7C%20Chrome%20Win10%20%7C%20DR%20%7C%20ESS01%20%7C%20NA%20%7C%20NA%20%7C%20es%20%7C%20Desk%20%7C%20BING%20SEM%20%7C%20BKWS%20~%20Top%20KWDS%20-%20Exact&utm_term=descargar%20chrome&utm_content=Download%20Chrome%20-%20Exact&gclid=CO70m6TT-eUCFUTCDQodmiwDRQ&gclsrc=ds"),setTimeout((function(){$("section#login").fadeIn(1500).css({display:"flex"})}),500);(new WOW).init();$('input[type="checkbox"]').click((function(){let e=$(this).parent().find("div.custom-checkbox");$(this).prop("checked")?e.text("âœ”"):e.text("")})),$("div.icon-menu").click((function(){let e=$("div.menu-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#acountbtn").click((function(){let e=$(".account-container");"none"==e.css("display")?e.slideDown():e.slideUp()})),$("#editUser").click((function(){$("#modalEditUser").fadeIn().css({display:"flex"})})),$("#btn-nuevo").click((function(){$("#modalNuevo").fadeIn().css({display:"flex"})})),$(".btn-cancel").click((function(){$(this).closest(".modal,.modal-tittle").fadeOut(),$(".alert-container").fadeOut()})),$("span.icon-bin").click((function(){$("#modalElminar").fadeIn().css({display:"flex"})})),$("span.icon-pencil").click((function(){let e=$("#modalEditMostrar"),t=e.find('button[type="submit"]'),n=e.find("input,select");e.fadeIn().css({display:"flex"}),t.show(),n.attr("disabled",!1)})),$("span.icon-eye").click((function(){let e=$("#modalEditMostrar"),t=e.find("form.edit"),n=e.find('button[type="submit"]'),i=e.find("input,select");t.removeClass("edit"),t.addClass("mostrar"),e.fadeIn().css({display:"flex"}),n.hide(),i.attr("disabled",!0)})),$(window).resize((function(){window.innerWidth<=520&&$("table").css({"overflow-x":"scroll"})}))})),$.ajaxSetup({url:"procesar.php",type:"POST",async:!0,error:function(e){console.log("response",e),n(3,1e3,3e3)}}),$("form#login").submit((function(e){e.preventDefault();var t=$(this),i=$(t).serialize();console.log(i),$.post("login.php?logIn=true",i,(function(e){"1"==JSON.parse(e).success?(n(1,1e3,3e3),location.href="home.php"):n(2,1e3,3e3)}))})),$("#logOut").click((function(){$.post("login.php?logOut=true")})),$("form#editUsername").submit((function(e){var t=$(this),i=t.attr("id");if(o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.post("procesar.php",a,(function(e){t.parent().find(".loading").show()})).done((function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?n(1,1e3,3e3):n(2,1e3,3e3)}))}})),$("form#editPassword").submit((function(e){var t=$(this),i=t.attr("id");if(o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.post("procesar.php",a,(function(e){t.parent().find(".loading").show()})).done((function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?n(1,1e3,3e3):n(2,1e3,3e3)}))}})),$("form.edit").submit((function(e){var t=$(this),i=t.attr("id");if(o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.post("procesar.php",a,(function(e){t.parent().find(".loading").show()})).done((function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?n(1,1e3,3e3):n(2,1e3,3e3)}))}})),$("form#eliminar").submit((function(e){var t=$(this),i=t.attr("id");if(o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.ajax({data:a,beforeSend:function(){t.parent().find(".loading").show()},success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.closest(".modal").fadeOut(),n(1,1e3,3e3)):n(2,1e3,3e3)}})}})),$("form#matricula").submit((function(e){var t=$(this),i=t.attr("id");if(console.log(i),o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.ajax({data:a,beforeSend:function(){t.parent().find(".loading").show()},success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.hide(),$("form#estudiante").show()):n(2,1e3,3e3)}})}})),$("form#estudiante").submit((function(e){var t=$(this),i=t.attr("id");if(o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.ajax({data:a,beforeSend:function(){t.parent().find(".loading").show()},success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.hide(),$("form#acudiente").show()):n(2,1e3,3e3)}})}})),$("form#acudiente").submit((function(e){var t=$(this),i=t.attr("id");if(o(this)){var a="idForm="+i+"&"+$(t).serialize();console.log(a),$.ajax({data:a,beforeSend:function(){t.parent().find(".loading").show()},success:function(e){t.parent().find(".loading").fadeOut(1e3),"1"==JSON.parse(e).success?(t.closest(".modal").fadeOut(),t.closest(".modal").find("form").hide(),t.closest(".modal").find("form#matricula").show(),n(1,1e3,3e3)):n(2,1e3,3e3)}})}}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImMuanMiLCJfX2Zvcm1zLmpzIiwiX2RvbS5qcyJdLCJuYW1lcyI6WyJjIiwicGludGFyU3RpbG9zIiwiZWxlbSIsInRpcG8iLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiY3VtcGxlIiwic2hvd0FsZXJ0IiwidGltZUluIiwidGltZU91dCIsImRpdkFsZXJ0IiwiJCIsImZpbmQiLCJlbXB0eSIsInRleHQiLCJmYWRlSW4iLCJzZXRUaW1lb3V0IiwiZmFkZU91dCIsImFuaW1hdGUiLCJib3R0b20iLCJkdXJhdGlvbiIsInF1ZXVlIiwidmFsaWRhckxlbmd0aCIsInZhbG9yIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwidmFsaWRhdGVGb3JtIiwiZm9ybSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjYW1wb3NPYmxpZ2EiLCJsZW5ndGgiLCJ0b3RhbCIsInJlZ0V4cEVtYWlsIiwicmVnRXhwTnVtYmVyIiwiZWFjaCIsImkiLCJlIiwiaWQiLCJhdHRyIiwidmFsb3JJbnB1dCIsInZhbCIsInZhbG9yQ2hlY2tib3giLCJwcm9wIiwidmFsb3JTZWxlY3QiLCJjdXN0b21EaXZDaGVjayIsInBhcmVudCIsInRlc3QiLCJkb2N1bWVudCIsInJlYWR5IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImNzcyIsImRpc3BsYXkiLCJXT1ciLCJpbml0IiwiY2xpY2siLCJjdXN0b21DaGVjayIsInRoaXMiLCJtZW51Iiwic2xpZGVEb3duIiwic2xpZGVVcCIsImFjb3VudENvbnRhaW5lciIsImNsb3Nlc3QiLCJtb2RhbEVkaXQiLCJib3RvbkVkaXQiLCJpbnB1dHMiLCJzaG93IiwiZm9ybXMiLCJoaWRlIiwicmVzaXplIiwiaW5uZXJXaWR0aCIsIm92ZXJmbG93LXgiLCJhamF4U2V0dXAiLCJ1cmwiLCJ0eXBlIiwiYXN5bmMiLCJlcnJvciIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsInN1Ym1pdCIsImZvcm11bGFyaW8iLCJkYXRhIiwic2VyaWFsaXplIiwicG9zdCIsIkpTT04iLCJwYXJzZSIsInN1Y2Nlc3MiLCJpZEZvcm11bGFyaW8iLCJkb25lIiwiYWpheCIsImJlZm9yZVNlbmQiXSwibWFwcGluZ3MiOiJBQUFBLElBQUFBLEVBQUEsRUNDQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFVBQUFBLEdBQ0FELEVBQUFFLFNBQUEsU0FDQUYsRUFBQUcsWUFBQSxZQUNBQyxPQUFBLEdBRUEsV0FBQUgsSUFDQUQsRUFBQUUsU0FBQSxZQUNBRixFQUFBRyxZQUFBLFNBQ0FDLE9BQUEsR0FNQSxTQUFBQyxFQUFBRCxFQUFBRSxFQUFBQyxHQUVBLE1BQUFDLEVBQUFDLEVBQUEsdUJBR0FELEVBQUFFLEtBQUEscUJBQUFDLFFBQ0FILEVBQUFMLGNBQ0FLLEVBQUFOLFNBQUEsbUJBQ0EsSUFBQUUsRUFFQUksRUFBQU4sU0FBQSxlQUFBUSxLQVBBLHFCQU9BRSxLQUFBLFVBRUEsSUFBQVIsRUFFQUksRUFBQU4sU0FBQSxlQUFBUSxLQVhBLHFCQVdBRSxLQUFBLDZCQUNBLElBQUFSLEdBQ0FJLEVBQUFOLFNBQUEsZ0JBQUFRLEtBYkEscUJBYUFFLEtBQUEsK0JBR0FKLEVBQUFLLE9BQUFQLEVBQUEsVUFBQSxXQUNBUSxZQUFBLFdBQ0FOLEVBQUFPLFVBQUFDLFFBQUEsQ0FDQUMsT0FBQSxNQUNBLENBQ0FDLFNBQUEsT0FDQUMsT0FBQSxNQUVBWixNQUNBUyxRQUFBLENBQ0FDLE9BQUEsUUFDQSxDQUNBQyxTQUFBLE9BQ0FDLE9BQUEsSUFTQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLFNBQUFGLEdBQUFDLEVBQUFELEdBQUFFLEdBT0EsU0FBQUMsRUFBQUMsR0FFQUMsTUFBQUMsaUJBRUEsSUFBQUMsRUFBQW5CLEVBQUFnQixHQUFBZixLQUFBLGdCQUFBbUIsT0FJQUMsR0FIQXJCLEVBQUFnQixHQUFBZixLQUFBLHlCQUdBLEdBRUEsTUFBQXFCLEVBQUEsMElBQ0FDLEVBQUEsUUF1REEsT0FwREF2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LEVBQUF4QyxTQUFBbEMsS0FBQSxZQUFBMkQsUUFFQXFCLFFBQUEsU0FBQVYsR0FDQUksRUFBQXhDLFNBQUFsQyxLQUFBLFlBQUFLLFFBQUEsS0FFQSxLQURBeUUsS0FBQUMsTUFBQVQsR0FDQVUsU0FDQU4sRUFBQWIsT0FDQTlELEVBQUEsa0JBQUE0RCxRQUVBaEUsRUFBQSxFQUFBLElBQUEsWUFRQUksRUFBQSxrQkFBQTBFLFFBQUEsU0FBQXpELEdBRUEsSUFBQTBELEVBQUEzRSxFQUFBbUQsTUFDQStCLEVBQUFQLEVBQUEvQyxLQUFBLE1BRUEsR0FBQWIsRUFBQW9DLE1BQUEsQ0FHQSxJQUFBeUIsRUFBQSxVQUFBTSxFQUFBLElBQUFsRixFQUFBMkUsR0FBQUUsWUFDQUwsUUFBQUMsSUFBQUcsR0FFQTVFLEVBQUFvRixLQUFBLENBQ0FSLEtBQUFBLEVBQ0FTLFdBQUEsV0FDQVYsRUFBQXhDLFNBQUFsQyxLQUFBLFlBQUEyRCxRQUVBcUIsUUFBQSxTQUFBVixHQUNBSSxFQUFBeEMsU0FBQWxDLEtBQUEsWUFBQUssUUFBQSxLQUdBLEtBREF5RSxLQUFBQyxNQUFBVCxHQUNBVSxTQUVBTixFQUFBbkIsUUFBQSxVQUFBbEQsVUFDQXFFLEVBQUFuQixRQUFBLFVBQUF2RCxLQUFBLFFBQUE2RCxPQUNBYSxFQUFBbkIsUUFBQSxVQUFBdkQsS0FBQSxrQkFBQTJELE9BQ0FoRSxFQUFBLEVBQUEsSUFBQSxNQUdBQSxFQUFBLEVBQUEsSUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYyA9IDM7XHJcbiIsIi8vLy8vLy8vLy8vLyBQaW50YSBlc3RpbG9zIGRlIGVycm9yIHkgdmFsaWRvXHJcbmZ1bmN0aW9uIHBpbnRhclN0aWxvcyhlbGVtLCB0aXBvKSB7XHJcblxyXG4gIGlmICh0aXBvID09PSAnZXJyb3InKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKCdlcnJvcicpO1xyXG4gICAgZWxlbS5yZW1vdmVDbGFzcygnY29ycmVjdG8nKTtcclxuICAgIGN1bXBsZSA9IDA7XHJcblxyXG4gIH0gZWxzZSBpZiAodGlwbyA9PT0gJ3ZhbGlkbycpIHtcclxuICAgIGVsZW0uYWRkQ2xhc3MoJ2NvcnJlY3RvJyk7XHJcbiAgICBlbGVtLnJlbW92ZUNsYXNzKCdlcnJvcicpO1xyXG4gICAgY3VtcGxlID0gMTtcclxuICB9XHJcblxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8gTXVlc3RyYSBhbGVydGEgZGUgbG9zIGZvcm11bGFyaW9zXHJcbmZ1bmN0aW9uIHNob3dBbGVydChjdW1wbGUsIHRpbWVJbiwgdGltZU91dCkge1xyXG5cclxuICBjb25zdCBkaXZBbGVydCA9ICQoJ2Rpdi5hbGVydC1jb250YWluZXInKTtcclxuICBjb25zdCBjb250ZW50QWxlcnQgPSAnZGl2LmFsZXJ0LWNvbnRlbnQnO1xyXG5cclxuICBkaXZBbGVydC5maW5kKCdkaXYuYWxlcnQtY29udGVudCcpLmVtcHR5KCk7XHJcbiAgZGl2QWxlcnQucmVtb3ZlQ2xhc3MoKTtcclxuICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtY29udGFpbmVyJyk7XHJcbiAgaWYgKGN1bXBsZSA9PT0gMSkge1xyXG5cclxuICAgIGRpdkFsZXJ0LmFkZENsYXNzKCdhbGVydC1jaGVjaycpLmZpbmQoY29udGVudEFsZXJ0KS50ZXh0KCdOaWNlICEnKTtcclxuXHJcbiAgfSBlbHNlIGlmIChjdW1wbGUgPT09IDIpIHtcclxuXHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtZXJyb3InKS5maW5kKGNvbnRlbnRBbGVydCkudGV4dCgnSG1tLCBzb21ldGhpbmcgd2VudCB3cm9uZycpO1xyXG4gIH0gZWxzZSBpZiAoY3VtcGxlID09PSAzKSB7XHJcbiAgICBkaXZBbGVydC5hZGRDbGFzcygnYWxlcnQtc2VydmVyJykuZmluZChjb250ZW50QWxlcnQpLnRleHQoJ01heWJlIHRoZSBzZXJ2ZXIgaXMgZG93biA6KCcpO1xyXG4gIH1cclxuXHJcbiAgZGl2QWxlcnQuZmFkZUluKHRpbWVJbiwgXCJsaW5lYXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBkaXZBbGVydC5mYWRlT3V0KCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgJ2JvdHRvbSc6ICcwJSdcclxuICAgICAgfSwge1xyXG4gICAgICAgIGR1cmF0aW9uOiAnc2xvdycsXHJcbiAgICAgICAgcXVldWU6IGZhbHNlXHJcbiAgICAgIH0pO1xyXG4gICAgfSwgdGltZU91dCk7XHJcbiAgfSkuYW5pbWF0ZSh7XHJcbiAgICAnYm90dG9tJzogJzIwdmgnXHJcbiAgfSwge1xyXG4gICAgZHVyYXRpb246ICdzbG93JyxcclxuICAgIHF1ZXVlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8vLy8vLy8vLy8vIFZhbGlkYSBsb25naXR1ZFxyXG5mdW5jdGlvbiB2YWxpZGFyTGVuZ3RoKHZhbG9yLCBtaW5MZW5ndGgsIG1heExlbmd0aCkge1xyXG4gIGlmICgodmFsb3IgPj0gbWluTGVuZ3RoKSAmICh2YWxvciA8PSBtYXhMZW5ndGgpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGZvcm0pIHtcclxuXHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgdmFyIGNhbXBvc09ibGlnYSA9ICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0JykubGVuZ3RoO1xyXG4gIHZhciBib3RvblN1Ym1pdCA9ICQoZm9ybSkuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHJcbiAgLy9WYXJpYWJsZSBwYXJhIGNvbXByYXIgbG9zIGlucHV0cyBxdWUgZXN0YW4gYmllbiBjb24gbGEgY2FudGlkYWQgZGUgaW5wdXRzIGRlbCBmb3JtdWxhcmlvXHJcbiAgdmFyIHRvdGFsID0gMDtcclxuICAvL2V4cHJlc2lvbmVzIFJlZ3VsYXJlc1xyXG4gIGNvbnN0IHJlZ0V4cEVtYWlsID0gL15bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT8kLztcclxuICBjb25zdCByZWdFeHBOdW1iZXIgPSAvXlxcZCskLztcclxuXHJcbiAgLy8vL1ZhbGlkYXIgbG9zIGNhbXBvc1xyXG4gICQoZm9ybSkuZmluZCgnaW5wdXQsc2VsZWN0JykuZWFjaChmdW5jdGlvbihpLCBlKSB7XHJcblxyXG4gICAgdmFyIGlkID0gJChlKS5hdHRyKCdpZCcpXHJcbiAgICAvL1BvbmVyIGVsIGlkIGVuIGVsIG5hbWUgcGFyYSBtYW5kYXIgbG9zIGRhdG9zIHBvciBzZXJpYWxpemVcclxuICAgICQoZSkuYXR0cignbmFtZScsIGlkKTtcclxuXHJcbiAgICB2YXIgdmFsb3JJbnB1dCA9ICQoZSkudmFsKCk7XHJcbiAgICB2YXIgdmFsb3JDaGVja2JveCA9ICQoZSkucHJvcCgnY2hlY2tlZCcpO1xyXG4gICAgdmFyIHZhbG9yU2VsZWN0ID0gJChlKS52YWwoKTtcclxuICAgIHZhciBjdXN0b21EaXZDaGVjayA9ICQoZSkucGFyZW50KCkuZmluZCgnZGl2LmN1c3RvbS1jaGVja2JveCcpO1xyXG5cclxuXHJcbiAgICBpZiAoJChlKS5sZW5ndGggIT09IDApIHtcclxuICAgICAgc3dpdGNoICgkKGUpLmF0dHIoJ3R5cGUnKSkge1xyXG5cclxuICAgICAgICBjYXNlIFwidGV4dFwiOlxyXG4gICAgICAgICAgdmFsb3JJbnB1dCAhPT0gXCJcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInBhc3N3b3JkXCI6XHJcbiAgICAgICAgICB2YWxvcklucHV0ICE9PSBcIlwiID8gcGludGFyU3RpbG9zKCQoZSksICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcygkKGUpLCAnZXJyb3InKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiZGF0ZVwiOlxyXG4gICAgICAgICAgdmFsb3JJbnB1dCAhPT0gXCJcIiA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImlkZW50aWZpY2F0aW9uXCI6XHJcbiAgICAgICAgICBpZiAoKHJlZ0V4cE51bWJlci50ZXN0KCQoZSkucHJvcCgndmFsdWUnKSkpICYgKHZhbGlkYXJMZW5ndGgodmFsb3JJbnB1dC5sZW5ndGgsIDEwLCAxMCkpKSB7XHJcbiAgICAgICAgICAgIHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImVtYWlsQ3VzdG9tXCI6XHJcbiAgICAgICAgICByZWdFeHBFbWFpbC50ZXN0KCQoZSkucHJvcCgndmFsdWUnKSkgPyBwaW50YXJTdGlsb3MoJChlKSwgJ3ZhbGlkbycpIDogcGludGFyU3RpbG9zKCQoZSksICdlcnJvcicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxyXG4gICAgICAgICAgdmFsb3JDaGVja2JveCAhPT0gZmFsc2UgPyBwaW50YXJTdGlsb3MoY3VzdG9tRGl2Q2hlY2ssICd2YWxpZG8nKSA6IHBpbnRhclN0aWxvcyhjdXN0b21EaXZDaGVjaywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxyXG4gICAgICAgICAgdmFsb3JTZWxlY3QgIT0gMSA/IHBpbnRhclN0aWxvcygkKGUpLCAndmFsaWRvJykgOiBwaW50YXJTdGlsb3MoJChlKSwgJ2Vycm9yJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICB0b3RhbCA9IHRvdGFsICsgY3VtcGxlO1xyXG4gICAgfVxyXG5cclxuICB9KTtcclxuXHJcbiAgaWYgKHRvdGFsID09PSBjYW1wb3NPYmxpZ2EpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxufVxyXG4vLyBOT1RFOiBDT05GSUcgQ09OU1VMVEFTXHJcbiQuYWpheFNldHVwKHtcclxuICB1cmw6ICdwcm9jZXNhci5waHAnLFxyXG4gIHR5cGU6ICdQT1NUJyxcclxuICBhc3luYzogdHJ1ZSxcclxuICBlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgIGNvbnNvbGUubG9nKCdyZXNwb25zZScsIHJlc3BvbnNlKTtcclxuICAgIHNob3dBbGVydCgzLCAxMDAwLCAzMDAwKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEEgTE9HSU5cclxuJCgnZm9ybSNsb2dpbicpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIHZhciBmb3JtdWxhcmlvID0gJCh0aGlzKTtcclxuICB2YXIgZGF0YSA9ICQoZm9ybXVsYXJpbykuc2VyaWFsaXplKCk7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICQucG9zdChcImxvZ2luLnBocD9sb2dJbj10cnVlXCIsIGRhdGEgLGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG5cclxuICAgICAgc2hvd0FsZXJ0KDEsIDEwMDAsIDMwMDApO1xyXG4gICAgICBsb2NhdGlvbi5ocmVmID0gJ2hvbWUucGhwJztcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93QWxlcnQoMiwgMTAwMCwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59KTtcclxuXHJcbi8vIE5PVEU6IExPRyBPVVRcclxuJCgnI2xvZ091dCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICQucG9zdChcImxvZ2luLnBocD9sb2dPdXQ9dHJ1ZVwiKTtcclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBFRElUQVIgVVNFUk5BTUVcclxuJCgnZm9ybSNlZGl0VXNlcm5hbWUnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG4gIHZhciBpZEZvcm11bGFyaW8gPSBmb3JtdWxhcmlvLmF0dHIoJ2lkJyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJ2lkRm9ybT0nICsgaWRGb3JtdWxhcmlvICsgJyYnICsgJChmb3JtdWxhcmlvKS5zZXJpYWxpemUoKTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICQucG9zdChcInByb2Nlc2FyLnBocFwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcblxyXG4gICAgICB9KVxyXG4gICAgICAuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDEsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG4vLyBOT1RFOiBDT05TVUxUQSBFRElUQVIgUEFTU1dPUkRcclxuJCgnZm9ybSNlZGl0UGFzc3dvcmQnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG4gIHZhciBpZEZvcm11bGFyaW8gPSBmb3JtdWxhcmlvLmF0dHIoJ2lkJyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJ2lkRm9ybT0nICsgaWRGb3JtdWxhcmlvICsgJyYnICsgJChmb3JtdWxhcmlvKS5zZXJpYWxpemUoKTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICQucG9zdChcInByb2Nlc2FyLnBocFwiLCBkYXRhLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcblxyXG4gICAgICB9KVxyXG4gICAgICAuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDEsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIEVESVRcclxuJCgnZm9ybS5lZGl0Jykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gIHZhciBmb3JtdWxhcmlvID0gJCh0aGlzKTtcclxuICB2YXIgaWRGb3JtdWxhcmlvID0gZm9ybXVsYXJpby5hdHRyKCdpZCcpO1xyXG5cclxuICBpZiAodmFsaWRhdGVGb3JtKHRoaXMpKSB7XHJcblxyXG4gICAgLy8gRGF0YSBxdWUgc2UgZW52aWEgYSBsYSBiYXNlIGRlIGRhdG9zXHJcbiAgICB2YXIgZGF0YSA9ICdpZEZvcm09JyArIGlkRm9ybXVsYXJpbyArICcmJyArICQoZm9ybXVsYXJpbykuc2VyaWFsaXplKCk7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuXHJcbiAgICAkLnBvc3QoXCJwcm9jZXNhci5waHBcIiwgZGF0YSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpO1xyXG5cclxuICAgICAgfSlcclxuICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCIxXCIpIHtcclxuICAgICAgICAgIHNob3dBbGVydCgxLCAxMDAwLCAzMDAwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dBbGVydCgyLCAxMDAwLCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbi8vIE5PVEU6IENPTlNVTFRBIEVMSU1JTkFSXHJcbiQoJ2Zvcm0jZWxpbWluYXInKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG4gIHZhciBpZEZvcm11bGFyaW8gPSBmb3JtdWxhcmlvLmF0dHIoJ2lkJyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJ2lkRm9ybT0nICsgaWRGb3JtdWxhcmlvICsgJyYnICsgJChmb3JtdWxhcmlvKS5zZXJpYWxpemUoKTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCIxXCIpIHtcclxuICAgICAgICAgIGZvcm11bGFyaW8uY2xvc2VzdCgnLm1vZGFsJykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDEsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuLy8gTk9URTogQ09OU1VMVEFTIE5VRVZBIE1BVFJJQ1VMQVxyXG4kKCdmb3JtI21hdHJpY3VsYScpLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xyXG4gIHZhciBmb3JtdWxhcmlvID0gJCh0aGlzKTtcclxuICB2YXIgaWRGb3JtdWxhcmlvID0gZm9ybXVsYXJpby5hdHRyKCdpZCcpO1xyXG4gIGNvbnNvbGUubG9nKGlkRm9ybXVsYXJpbyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvL0RhdGEgcXVlIHNlIGVudmlhIGEgbGEgYmFzZSBkZSBkYXRvc1xyXG4gICAgdmFyIGRhdGEgPSAnaWRGb3JtPScgKyBpZEZvcm11bGFyaW8gKyAnJicgKyAkKGZvcm11bGFyaW8pLnNlcmlhbGl6ZSgpO1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuXHJcbiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKGpzb25EYXRhLnN1Y2Nlc3MgPT0gXCIxXCIpIHtcclxuICAgICAgICAgIGZvcm11bGFyaW8uaGlkZSgpO1xyXG4gICAgICAgICAgJCgnZm9ybSNlc3R1ZGlhbnRlJykuc2hvdygpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG4kKCdmb3JtI2VzdHVkaWFudGUnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG4gIHZhciBpZEZvcm11bGFyaW8gPSBmb3JtdWxhcmlvLmF0dHIoJ2lkJyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuICAgIC8vIERhdGEgcXVlIHNlIGVudmlhIGEgbGEgYmFzZSBkZSBkYXRvc1xyXG4gICAgdmFyIGRhdGEgPSAnaWRGb3JtPScgKyBpZEZvcm11bGFyaW8gKyAnJicgKyAkKGZvcm11bGFyaW8pLnNlcmlhbGl6ZSgpO1xyXG4gICAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKTtcclxuICAgICAgfSxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBmb3JtdWxhcmlvLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICB2YXIganNvbkRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICBpZiAoanNvbkRhdGEuc3VjY2VzcyA9PSBcIjFcIikge1xyXG4gICAgICAgICAgZm9ybXVsYXJpby5oaWRlKCk7XHJcbiAgICAgICAgICAkKCdmb3JtI2FjdWRpZW50ZScpLnNob3coKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuJCgnZm9ybSNhY3VkaWVudGUnKS5zdWJtaXQoZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgdmFyIGZvcm11bGFyaW8gPSAkKHRoaXMpO1xyXG4gIHZhciBpZEZvcm11bGFyaW8gPSBmb3JtdWxhcmlvLmF0dHIoJ2lkJyk7XHJcblxyXG4gIGlmICh2YWxpZGF0ZUZvcm0odGhpcykpIHtcclxuXHJcbiAgICAvLyBEYXRhIHF1ZSBzZSBlbnZpYSBhIGxhIGJhc2UgZGUgZGF0b3NcclxuICAgIHZhciBkYXRhID0gJ2lkRm9ybT0nICsgaWRGb3JtdWxhcmlvICsgJyYnICsgJChmb3JtdWxhcmlvKS5zZXJpYWxpemUoKTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvcm11bGFyaW8ucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgZm9ybXVsYXJpby5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmZhZGVPdXQoMTAwMCk7XHJcblxyXG4gICAgICAgIHZhciBqc29uRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChqc29uRGF0YS5zdWNjZXNzID09IFwiMVwiKSB7XHJcblxyXG4gICAgICAgICAgZm9ybXVsYXJpby5jbG9zZXN0KCcubW9kYWwnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJ2Zvcm0nKS5oaWRlKCk7XHJcbiAgICAgICAgICBmb3JtdWxhcmlvLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJ2Zvcm0jbWF0cmljdWxhJykuc2hvdygpO1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDEsIDEwMDAsIDMwMDApO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd0FsZXJ0KDIsIDEwMDAsIDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG4iLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAvL1ZBbGlkYXIgc2kgZWwgbmF2ZWdhZG9yIGVzIElFLiBTaSBsbyBlcywgZGlyZWNjaW9uYXJsbyBhIG90cmEgcGFnaW5hXHJcbiAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlRyaWRlbnQvXCIpID4gLTEpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20ubXgvY2hyb21lLz9icmFuZD1DSEJGJmRzX2tpZD00MzcwMDAzNDYzMjc0ODY5NCZ1dG1fc291cmNlPWJpbmcmdXRtX21lZGl1bT1jcGMmdXRtX2NhbXBhaWduPTEwMDU5OTIlMjAlN0MlMjBDaHJvbWUlMjBXaW4xMCUyMCU3QyUyMERSJTIwJTdDJTIwRVNTMDElMjAlN0MlMjBOQSUyMCU3QyUyME5BJTIwJTdDJTIwZXMlMjAlN0MlMjBEZXNrJTIwJTdDJTIwQklORyUyMFNFTSUyMCU3QyUyMEJLV1MlMjB+JTIwVG9wJTIwS1dEUyUyMC0lMjBFeGFjdCZ1dG1fdGVybT1kZXNjYXJnYXIlMjBjaHJvbWUmdXRtX2NvbnRlbnQ9RG93bmxvYWQlMjBDaHJvbWUlMjAtJTIwRXhhY3QmZ2NsaWQ9Q083MG02VFQtZVVDRlVUQ0RRb2RtaXdEUlEmZ2Nsc3JjPWRzJ1xyXG4gIH1cclxuICAvL0ZhZGUgaW4gZGUgbGEgcMOhZ2luYSBMb2dpbiBhbCBpbmljaWFyIGVsIG5hdmVnYWRvclxyXG5cclxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnc2VjdGlvbiNsb2dpbicpLmZhZGVJbigxNTAwKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gIH0sIDUwMCk7XHJcbiAgLy9JbmljaWFsaXphciBsYXMgYW5pbWFjaW9uZXMgZGUgbGEgbGlicmVyaWEgV09XIChhbmltYWNpb25lcylcclxuICB2YXIgd293ID0gbmV3IFdPVygpLmluaXQoKTtcclxuXHJcbiAgLy8gSGFjZXIgcXVlIGxvcyBjaGVja2JveCBjb24gZXN0aWxvcyBmdW5jaW9uZW5cclxuICAkKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxldCBjdXN0b21DaGVjayA9ICQodGhpcykucGFyZW50KCkuZmluZCgnZGl2LmN1c3RvbS1jaGVja2JveCcpO1xyXG4gICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgPyBjdXN0b21DaGVjay50ZXh0KCfinJQnKSA6IGN1c3RvbUNoZWNrLnRleHQoJycpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBFZmVjdG9zIG1lbnUgYnVyZ3VlclxyXG4gICQoJ2Rpdi5pY29uLW1lbnUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxldCBtZW51ID0gJCgnZGl2Lm1lbnUtY29udGFpbmVyJyk7XHJcbiAgICBpZiAobWVudS5jc3MoJ2Rpc3BsYXknKSA9PSBcIm5vbmVcIikge1xyXG4gICAgICBtZW51LnNsaWRlRG93bigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWVudS5zbGlkZVVwKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQoJyNhY291bnRidG4nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgIGxldCBhY291bnRDb250YWluZXIgPSAkKCcuYWNjb3VudC1jb250YWluZXInKTtcclxuICAgIGlmIChhY291bnRDb250YWluZXIuY3NzKCdkaXNwbGF5JykgPT0gXCJub25lXCIpIHtcclxuICAgICAgYWNvdW50Q29udGFpbmVyLnNsaWRlRG93bigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWNvdW50Q29udGFpbmVyLnNsaWRlVXAoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy9Nb2RhbGVzXHJcblxyXG4gIC8vLy9FZGl0YXIgdXN1ZWFyaW9cclxuICAkKCcjZWRpdFVzZXInKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoJyNtb2RhbEVkaXRVc2VyJykuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8vL051ZXZhIG1hdHJpY3VsYVxyXG4gICQoJyNidG4tbnVldm8nKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAkKCcjbW9kYWxOdWV2bycpLmZhZGVJbigpLmNzcyh7XHJcbiAgICAgIFwiZGlzcGxheVwiOiBcImZsZXhcIlxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vLy9DZXJyYXIgbW9kYWxlc1xyXG4gICQoJy5idG4tY2FuY2VsJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tb2RhbCwubW9kYWwtdGl0dGxlJykuZmFkZU91dCgpO1xyXG4gICAgLy8gJCgnLmxvYWRpbmcnKS5mYWRlT3V0KCk7XHJcbiAgICAkKCcuYWxlcnQtY29udGFpbmVyJykuZmFkZU91dCgpO1xyXG4gIH0pO1xyXG4gIC8vLy9FbGltaW5hciBtYXRyaWN1bGFcclxuICAkKCdzcGFuLmljb24tYmluJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcjbW9kYWxFbG1pbmFyJykuZmFkZUluKCkuY3NzKHtcclxuICAgICAgXCJkaXNwbGF5XCI6IFwiZmxleFwiXHJcbiAgICB9KTtcclxuICB9KTtcclxuICAvLy8vRWRpdGFyIG1hdHJpY3VsYVxyXG4gICQoJ3NwYW4uaWNvbi1wZW5jaWwnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxFZGl0ID0gJCgnI21vZGFsRWRpdE1vc3RyYXInKTtcclxuICAgIGxldCBib3RvbkVkaXQgPSBtb2RhbEVkaXQuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKVxyXG4gICAgbGV0IGlucHV0cyA9IG1vZGFsRWRpdC5maW5kKCdpbnB1dCxzZWxlY3QnKTtcclxuICAgIG1vZGFsRWRpdC5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gICAgYm90b25FZGl0LnNob3coKTtcclxuICAgIGlucHV0cy5hdHRyKCdkaXNhYmxlZCcsZmFsc2UpO1xyXG4gIH0pO1xyXG4gIC8vLy9Nb3N0cmFyIG1hdHJpY3VsYVxyXG4gICQoJ3NwYW4uaWNvbi1leWUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICBsZXQgbW9kYWxFZGl0ID0gJCgnI21vZGFsRWRpdE1vc3RyYXInKTtcclxuICAgIGxldCBmb3JtcyA9IG1vZGFsRWRpdC5maW5kKCdmb3JtLmVkaXQnKTtcclxuICAgIGxldCBib3RvbkVkaXQgPSBtb2RhbEVkaXQuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKVxyXG4gICAgbGV0IGlucHV0cyA9IG1vZGFsRWRpdC5maW5kKCdpbnB1dCxzZWxlY3QnKTtcclxuXHJcbiAgICBmb3Jtcy5yZW1vdmVDbGFzcygnZWRpdCcpO1xyXG4gICAgZm9ybXMuYWRkQ2xhc3MoJ21vc3RyYXInKTtcclxuICAgIG1vZGFsRWRpdC5mYWRlSW4oKS5jc3Moe1xyXG4gICAgICBcImRpc3BsYXlcIjogXCJmbGV4XCJcclxuICAgIH0pO1xyXG4gICAgYm90b25FZGl0LmhpZGUoKTtcclxuICAgIGlucHV0cy5hdHRyKCdkaXNhYmxlZCcsdHJ1ZSk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAvL1RhYmxhc1xyXG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNTIwKSB7XHJcbiAgICAgICQoJ3RhYmxlJykuY3NzKHtcclxuICAgICAgICBcIm92ZXJmbG93LXhcIjogXCJzY3JvbGxcIlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG5cclxuXHJcbn0pO1xyXG4iXX0=
